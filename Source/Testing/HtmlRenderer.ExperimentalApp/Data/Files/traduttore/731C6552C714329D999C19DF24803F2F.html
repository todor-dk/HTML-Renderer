

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head id="Head1"><link rel="yandex-tableau-widget" href="/rssReader/ya_tableau.aspx" />   
    <script type="text/javascript">
        sas_tmstp = Math.round(Math.random() * 10000000000); sas_masterflag = 1;
        function SmartAdServer(sas_pageid, sas_formatid, sas_target) {
            if (sas_masterflag == 1) { sas_masterflag = 0; sas_master = 'M'; } else { sas_master = 'S'; };
            document.write('<scr' + 'ipt src="http://www4.smartadserver.com/call/pubj/' + sas_pageid + '/' + sas_formatid + '/' + sas_master + '/' + sas_tmstp + '/' + escape(sas_target) + '?"></scr' + 'ipt>');
        }
    </script>
<!-- Likes -->
<!-- vk like-->
<!--script type="text/javascript" src="http://vkontakte.ru/js/api/share.js?9" charset="windows-1251"></script-->
<!-- end vk like-->
<!-- End Likes -->

<meta name="description" content="Free online translation of texts, Web sites and E-mails for English, Portuguese (Brazilian), German, French, Spanish, Italian and Russian languages. The services are powered by the new @promt 8.0 translation software." /><meta name="keywords" content="@promt 8.0 brazil brazilian translation free online translator web text e-mail wap on-line service dictionary online german to English translations Russian to English german French Spanish Italian portuguese  to Russian translate web site website language machine translation system promt translator" /><link href="/App_Themes/Default/ot_promt.css?0.30" rel="stylesheet" type="text/css" /><link href="/App_Themes/Default/jquery-ui-1.8.14.custom.min.css?0.30" rel="stylesheet" type="text/css" /><link href="http://m.online-translator.com/touch/" rel="alternate" media="only screen and (max-width: 640px)" /><script type="text/javascript" src="/App_Themes/Default/jquery-1.10.2.min.js"></script><script type="text/javascript" src="/App_Themes/Default/jquery-ui-1.11.4.custom.min.js"></script><script type="text/javascript" src="/App_Themes/Default/scripts4.js?0.30"></script><script type="text/javascript" src="http://partner.googleadservices.com/gampad/google_service.js"></script><script type="text/javascript">GS_googleAddAdSenseService("ca-pub-4436789801655560");GS_googleEnableAllServices();</script><script type="text/javascript">GA_googleAddAttr("direction", '');</script><script type="text/javascript">GA_googleAddAttr("template", '');</script><script type="text/javascript">GA_googleAddAttr("prmtlang", 'en');</script><script type="text/javascript">GA_googleAddSlot("ca-pub-4436789801655560", "Translate.Ru_Wallpaper");</script><script type="text/javascript">GA_googleAddSlot("ca-pub-4436789801655560", "Translate.Ru_topLine");</script><script type="text/javascript">GA_googleAddSlot("ca-pub-4436789801655560", "Online-Translator_bottom");</script><script type="text/javascript">GA_googleAddSlot("ca-pub-4436789801655560", "Online-Translator.com_bottom_line");</script><script type="text/javascript">GA_googleAddSlot("ca-pub-4436789801655560", "Online-translator.com_Fly");</script><script type="text/javascript">GA_googleFetchAds();</script><script type="text/javascript">var N = 2; var ar_duo1 = Math.floor(Math.random()*N+1);</script><script type="text/javascript">var crtg_nid = '4021'; var crtg_cookiename = 'crtg_rta'; var crtg_varname = 'crtg_content'; function crtg_getCookie(c_name){ var i,x,y,ARRCookies=document.cookie.split(';');for(i=0;i<ARRCookies.length;i++){x=ARRCookies[i].substr(0,ARRCookies[i].indexOf('='));y=ARRCookies[i].substr(ARRCookies[i].indexOf('=')+1);x=x.replace(/^\s+|\s+$/g,'');if(x==c_name){return unescape(y);} }return'';} var crtg_content = crtg_getCookie(crtg_cookiename); var crtg_rnd=Math.floor(Math.random()*99999999999); (function(){ var crtg_url=location.protocol+'//rtax.criteo.com/delivery/rta/rta.js?netId='+escape(crtg_nid); crtg_url +='&cookieName='+escape(crtg_cookiename); crtg_url +='&rnd='+crtg_rnd; crtg_url +='&varName=' + escape(crtg_varname); var crtg_script=document.createElement('script');crtg_script.type='text/javascript';crtg_script.src=crtg_url;crtg_script.async=true; if(document.getElementsByTagName('head').length>0)document.getElementsByTagName('head')[0].appendChild(crtg_script); else if(document.getElementsByTagName('body').length>0)document.getElementsByTagName('body')[0].appendChild(crtg_script); })();</script><title>
	PROMT - Free Online Translator and dictionary - English, German, French, Spanish, Italian, Portuguese (Brazilian) and Russian languages.
</title></head>
<body>
<!--[if lt IE 9]>
 <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--> 

<!-- Start Google Analitics tag -->
<script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-152258-1']);
_gaq.push(['_setDomainName', 'online-translator.com']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script> 
<!-- End Google Analitics tag --> 

<script language="javascript" type="text/javascript">
function GetAjaxResult(res) {
    if (res.hasOwnProperty("d")) { return res.d; }
    else { return res; }
}

var maxlen = "3000";
var msg = "You may translate only 3000 characters at a time. The text which exceeds the limit will be deleted. To translate more, Sign In or Register!";
var eFB = "My text is not being translated!";
var referStr = "";
var msgPaste = 'Your browser does not allow access to your computer\'s clipboard.\r\nPlease use Ctrl+V for Paste, or use Edit menu above the browser toolbar.';
var msgCopy = 'Your browser does not allow access to your computer\'s clipboard.\r\nPlease use Ctrl+C for Copy, or use Edit menu above the browser toolbar.';
var txtForEditor = "";
var reserveSrcLang = "";
var reserveTrgLang = "";
var setLang = false;
var startEdit = false;
var trFdLnk = "";
var isPrep = 0;
var curPtsDirCode = "en-ru";
var adriverBan = 0;
var ban, ban_top;
var needReloadAdv = true;
var prmtlang = "en";
var thisDict = false;
var lastTranslationWrd = '';
var maxSourceWin=90;
    

if (getCookie('LoggedUserParams')) {
    var LoggedUser = getCookie('LoggedUserParams');
    if (LoggedUser.substring(9, 13) == 'true') maxlen = 10000
    else maxlen = 3000;
}
</script>
<script type="text/javascript">    function cancel_bubbling(e) { e = e || event; e.cancelBubble = true; if (e.stopPropagation) { e.stopPropagation(); } }</script>


<script language="javascript" type="text/javascript">
 var tt_count = (getCookie('tooltip'))?setCookie('tooltip',getCookie('tooltip')*1+1):setCookie('tooltip','1');
 tt_count = getCookie('tooltip');
// получение направлений перевода 
function GetDir(){
 var selct1=document.getElementById("SiteContent_dirs_sLang");
 var selct2=document.getElementById("SiteContent_dirs_rLang");
 return [selct1.options[selct1.selectedIndex].value,selct2.options[selct2.selectedIndex].value];
}//GetDir
// получение направлений  только для рекламы c учетом возможной незагрузки компонентов выборя языка
function GetDirAdv(){
 var dir4Adv = "au-ru";
 if ((document.getElementById("SiteContent_dirs_sLang"))&&(document.getElementById("SiteContent_dirs_rLang")))
    {
    var selct1=document.getElementById("SiteContent_dirs_sLang");
    var selct2=document.getElementById("SiteContent_dirs_rLang");
    dir4Adv = selct1.options[selct1.selectedIndex].value+"-"+selct2.options[selct2.selectedIndex].value;  
    }
 else{
    var cString=getCookie('selDirText');
    if (cString){
    dir4Adv = cString.substring(12,14);}
    }  
 return  dir4Adv; 
}//getDirAdv
function GetTranslationCBK(chST){    
$("#editResultWin_test").hide();
$("#PhrasesBlock").hide();
$("#SamplesBlock").hide();
$("#explanatoryBLock").hide();
$('#adviseIconDiv').hide();
hideEditTranslationWin(0);
$("#editResult_test").val('');
$("#editResult_test").css('height','');
$("#SiteContent_sourceText").css('height','');
$("#blurResult").show();
if (chST==1) {savedUID = "";}
if (rtrim($("#SiteContent_sourceText").val())=="") {$("#blurResult").hide();$("#SiteContent_sourceText").val('');$("#ttSourceText").slideDown(300);$("#btt").slideDown(300);$('#ttSourceText').css('color','#FC575E'); setTimeout("$('#ttSourceText').css('color','#45697E');",2000);return false;}
if ((document.getElementById("SiteContent_sourceTextDict"))&&(rtrim(document.getElementById("SiteContent_sourceTextDict").val==''))){return;}
var dir=GetDir();
TranslType = "text";
ReceiveServerData("");
}//getTrCBK
function ReceiveServerData(rValue){
 if (TranslType=="text") {GetTranslation(rValue);} 
 if (TranslType=="advise") {MakeAnotherTranslate(rValue, tmpDirCode);}
 if (TranslType=="wordER") {ShowFullWRefERRE(rValue, tmpDirCode, tmpPos,0);}
 if (TranslType=="word") {ShowFullWRef(rValue, tmpDirCode, tmpPos);}
 if (TranslType=="dictWordER") {getFullWRef=false;ShowFullWRefERRE(rValue, tmpDirCode, tmpPos,1);}
 if (TranslType=="dictWord") {getFullWRef=false;ShowFullWRefERRE(rValue, tmpDirCode, tmpPos,2);}
}//recvServData
function reload_ban(){
if (typeof adriver !== 'undefined') {
    if (adriverBan==0){
        ban = new adriver("adriver_banner_399488126", {sid:196839, bt:52, bn:2, pz:ar_duo1, keyword: encodeURIComponent(typeof crtg_content !== 'undefined' && crtg_content ? crtg_content : '')});
        ban_top = new adriver("adriver_banner_312813489", {sid:196839, bt:52, bn:1, pz:ar_duo1, keyword: encodeURIComponent(typeof crtg_content !== 'undefined' && crtg_content ? crtg_content : '')});
        adriverBan=1;
    }
    ban.p.innerHTML = '';
    ban_top.p.innerHTML = '';
    if (ban.isLoading ==2){
	    ban.reload();
    }
    if (ban_top.isLoading ==2){
	    ban_top.reload();
    }
}
}// reload Adriver banners add 04.2014
function reload_ban_de(){
    if (needReloadAdv){
        ADTECH.loadAd(4861340);
        ADTECH.loadAd(4861341);
        ADTECH.loadAd(4861339);
        ADTECH.loadAd(4861338);
       }
       needReloadAdv = true;
}// reload adtech.de add 08.2014

function GetTranslation(key){ 
 uTrType = "";  
 isPrep = 0;
 $("#blurResult").show();
 $("#autoInfo").html('');
 $("#socialServices").hide();
 $("#AdvInResult").hide();
 $("#AdvInResult").removeAttr('style');
 $("#linkAT").show(); $("#linkATPic").show();
 $("#ttSourceText").hide();
 $("#btt").hide();
 visitLink=false; 
 $("#addTranslationText").unbind('keypress');
 closewAddTranslation();
 closeTranslationLinks();
 $("#divFullWordResult").hide();
 if (rtrim($("#SiteContent_sourceText").val())=="") {$("#SiteContent_sourceText").val('');$("#SiteContent_sourceText").focus();return false;}    
 var arr = GetDir();
 var dir=arr[0]+'-'+arr[1];
 var text=rtrim($("#SiteContent_sourceText").val());
 text = encodeURIComponent(text).split("'").join("\\'");
 var templ=$("#template").val();
 
 $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/TranslationService.asmx/GetTranslateNew",
    data: "{ dirCode:'"+dir+"', template:'"+templ+"', text:'"+text+"', lang:'en', limit:"+maxlen+",useAutoDetect:true, key:'"+key+"', ts:'"+TS+"',tid:'',IsMobile:false}", 
    dataType: "json",
    success: function(result){    
      var res=GetAjaxResult(result);
      SetValsAfterTr(res);      
      trFdLnk = res.fdLink;
      curPtsDirCode = res.ptsDirCode;
      var curPtsDirCodeArr=curPtsDirCode.split('-')
      if (res.isWord && rtrim($('#SiteContent_sourceText').val())!='') {lastTranslationWrd=decodeURIComponent(text);GetTopPhrases(); GetTopSamples(); createDefLinks();}
      if (((arr[0]== curPtsDirCodeArr[1])||(arr[0]== 'au'))&&(arr[1]== curPtsDirCodeArr[0])){
      gaCustomVarsSet(res.ptsDirCode.split('-'));
      _gaq.push(['_trackEvent', 'Linguistic', 'Language', 'Auto']);}
      if (curVMode == 'vert'){$("#SiteContent_sourceText").attr('class','expand101-2400');
      jQuery("textarea[class*=expand]").TextAreaExpander();}
      RefreshAdv_inRes();
      
       customEvents.fire("onTranslate", '');
 
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) { 
      GetErrMsg("Sorry, the service is temporarily unavailable. Please try again later."); trDirCode = "";
    }      
 });
}//GetTr

function gaCustomVarsSet(trDir){
    _gaq.push(['_setCustomVar',1,'Template',$("#template").val(),3]);
    _gaq.push(['_setCustomVar',2,'SrcLang',langConvertor(trDir[0]),3]);
    _gaq.push(['_setCustomVar',3,'TgtLang',langConvertor(trDir[1]),3]);  
    _gaq.push(['_setCustomVar',4,'UserLang',langConvertor(GetDir()[0])+"-"+langConvertor(GetDir()[1]),3]);
}
var ptsResult = "", trKey="";
function SetValsAfterTr(res)
{
 $('#adviseIconDiv').hide().removeClass('warning');$('#adviseText').html('');
 TS = "MainSite";
 if (blogPos != "right" ){$("#blogRSSRight").html($("#blogRSS").html());$("#blogRSS").html('');blogPos="right"; $("#moreBlog a span").width(20).height(20);$("#moreBlog a").css('margin-left','14px');$("#moreBlog a:first").before('<br>'); $("#moreBlog").addClass('rightCol');}
 $("#autoInfo").hide();
 $("#translationResult").hide();
 trDirCode = res.ptsDirCode;
 trUID = res.trId;
 ptsResult = res.result;
 trKey = res.key4saveEdits;
 saveTranslation = false;
 if (res.errCode=='0'){  
  if (res.isWord) {uTrType = "word"; 
         gaCustomVarsSet(res.ptsDirCode.split('-'));
        _gaq.push(['_trackEvent', 'Translate', 'Word', $("#SiteContent_sourceText").val(), $("#SiteContent_sourceText").val().length]);
        $("#dictLink").attr('href', res.fdLink);
   }                                  
    if (!res.isURL){
     if (!res.isWord) {var resResult  = res.result.replace('<script>','<scriрt>').replace('<\/script>', '<\/scriрt>')}
     else resResult = res.result;
     $("#translationResult").html(resResult);
         if(!res.isWord){   
             gaCustomVarsSet(res.ptsDirCode.split('-'));
            _gaq.push(['_trackEvent', 'Translate', 'Text', '', $("#SiteContent_sourceText").val().length]);
            $("#dictLink").attr('href', '/dictionary/');
            }
    }
    else {
     gaCustomVarsSet(res.ptsDirCode.split('-'));
     _gaq.push(['_trackEvent', 'Translate', 'Site',$("#SiteContent_sourceText").val()]);
     if (res.result!="") {
     location.href=res.result;
     }
    }  
     if (uTrType == "") {uTrType = "text"}
     if (uTrType == "text"){
           $("#translationResult").css('color','transparent'); 
           $("#translationResult").css('display','none');
           setEqualHeights();
           showEditTranslationWin(0);
           if ($("#SiteContent_sourceText").val().length > $("#editResult_test").val().length){
            $("#SiteContent_sourceText").val($("#SiteContent_sourceText").val()+"  ");
           }
           setEqualHeights();
           $("#editResult_test").click(function(event){
                $("#editResult_test").css('background','white').css('color','green');
                $("#editResult_test").css('min-height',$("#SiteContent_sourceText").height()+'px');
                $("#spellBttms_test").show();
                $("#editResultWin_test").css('background','white').css('border','1px solid #6f8ea9').css({'box-shadow':'5px 5px 4px #bbb','-moz-box-shadow':'5px 5px 4px #bbb','-webkit-box-shadow':'5px 5px 4px #bbb'});
           });
            $("#translationResult").css('border', '1px solid transparent');
            $("#clearResBtt").show();$("#editResBtt").show();
            if (curVMode != 'vert'){jQuery("#SiteContent_sourceText").TextAreaExpander();jQuery("#editResult_test").TextAreaExpander();}

            if (($('#template').val()=='auto')&&(res.ptsTopic!='General')&&(res.ptsTopic!='')&&(!res.isURL))  {$('#curPTSTopic :selected').html($('.aboutTemplate #' + res.ptsTopic).html() + ' (detected automatically)')}
            if (($('#template').val()=='auto')&&(res.ptsTopic=='General')&&(!res.isURL)) {$('#curPTSTopic :selected').html($('#ab_auto').html());}
            }
     else { $("#translationResult").css('border', '0');$("#clearResBtt").hide();$("#editResBtt").hide();$("#translationResult").unbind('click'); $("#translationResult").css('color','#525252'); $("#translationResult").css('display','block');}
    $("#autoInfo").html(res.dirNames); 
    if ($("#autoInfo").children('a').length != 0) {var curProvLink=$("#autoInfo a").attr('href'); $("#autoInfo").wrapInner("<a target='_blank' href="+curProvLink+"></a>");}
    $("#autoInfo").show();
    getFullWRef=false;
    if (uTrType == "site"){$("#linkAT").hide(); $("#linkATPic").hide();}
    if (jQuery.browser.msie){$("#linkGL_img").attr('src','/images/common/ss_icns_bt_ie.png')}
    $("#socialServices").show();
    $("#blogRSSRight").show(); 
    resetVote();         
    if (res.advise!=""){     
     if (res.adviseParams.showIntime) {$("#translationResult").html("<div class='warning warningMsg'>"+res.adviseParams.adviseText+"</div>"); $("#translationResult").show();$("#socialServices").hide(); }
     else {InsertAdvise(res.adviseParams.adviseText);}     
    }
    if ((res.provider=="bing") || (res.ptsDirCode.split('-')[0]=="zhcn")){ 
     if ($("#SiteContent_sourceText").val().length>(maxlen/2)) {
     if (res.advise!="") {AddAdvise("We are sorry, but it’s currently impossible to translate more than 1500 characters simultaneously using this translation direction. Part of the text exceeding the limit has been removed.");}
     else {InsertAdvise("We are sorry, but it’s currently impossible to translate more than 1500 characters simultaneously using this translation direction. Part of the text exceeding the limit has been removed.");}
     }
    }
    wasErr = false;
 }
 else{ GetErrMsg(res.errMessage);}  
 $("#blurResult").hide();    
}//end SetValsAfterTr
  
function GetErrMsg(lmsg){
 wasErr = true;$("#translationResult").html("<span class='error errMsg'>"+lmsg+"</span>");
 $("#translationResult").show();$("#autoInfo").hide();$("#blurResult").hide();$("#socialServices").hide(); $('#adviseIconDiv').hide();  
 if (blogPos != "right" ){$("#blogRSSRight").html($("#blogRSS").html());$("#blogRSS").html('');blogPos="right"; $("#moreBlog a img").width(20).height(20);$("#moreBlog a").css('margin-left','14px');$("#moreBlog a:first").before('<br>'); $("#moreBlog").css('float','left');$("#blogRSSRight").show(); }   
}
 
function detectIE6(){return false;}
var sve6=detectIE6();
function dynamicSelect(id1,id2){
 var tmp='';
 revDirNow=true;
 if(document.getElementById&&document.getElementsByTagName){
    var sel1=document.getElementById(tmp+id1);
    var sel2=document.getElementById(tmp+id2);
    var saveCurent=false;
    var clone=sel2.cloneNode(true);
    clonedOptions=clone.getElementsByTagName("option");
    refreshDynamicSelectOptions(sel1,sel2,clonedOptions,1);
    sel1.onchange=function(){
      clonedOptions=clone.getElementsByTagName("option");
      refreshDynamicSelectOptions(sel1,sel2,clonedOptions,0);
      if ((sel1.options[sel1.selectedIndex].value=="i")&&(sel2.options[sel2.selectedIndex].value=="e")){revDir=true;document.getElementById('ch_bttn').src="/images/common/ch_ico_16.gif";$('#chBtt_a').hover(function(){rollover_img('ch_bttn','/images/common/ch_ico_16_h.gif');},function(){rollover_img('ch_bttn','/images/common/ch_ico_16.gif');});};
      if (sel1.options[sel1.selectedIndex].value=="ar"){$("#SiteContent_sourceText").css('direction','rtl');}
      else{$("#SiteContent_sourceText").css('direction','ltr');}
      if(Show_vkb){set_kbLang();changeVKL(kbLang);for(var i=0;i<document.getElementById("langKeyboard").options.length;i++){if(document.getElementById("langKeyboard").options[i].value==kbLang){document.getElementById("langKeyboard").selectedIndex=i;}}}};var pattern2=new RegExp("( |^)("+sel1.options[sel1.selectedIndex].value+")( |$)");}
      revDirNow=false;
    }
    function RevertDir(id1,id2){
      var tmp='';
      var sel1=document.getElementById(id1);
      var sel2=document.getElementById(id2);
      var lang1=cur_sLang=sel1.options[sel1.selectedIndex].value;
      var lang2=cur_rLang=sel2.options[sel2.selectedIndex].value;
      revDirNow=true;
      if(!revDir){ return;}
      else{
	  for(var i=0;i<sel1.options.length;i++){if(sel1.options[i].value==lang2){sel1.selectedIndex=i;}
      }
    refreshDynamicSelectOptions(sel1,sel2,clonedOptions,0);
    
    if(sve6){setTimeout("for (var i = 0; i < document.getElementById('SiteContent_dirs_rLang').options.length; i++){ if (document.getElementById('SiteContent_dirs_rLang').options[i].value == cur_sLang) {document.getElementById('SiteContent_dirs_rLang').selectedIndex=i;}}",1);}
    else{
      for(var i=0;i<sel2.options.length;i++){if(sel2.options[i].value==lang1){sel2.selectedIndex=i;}
      }
    }
  }
}//dynamicSelect

function dynamicSelect1(id1,id2){
 var tmp='';
 revDirNow=true;
 if(document.getElementById&&document.getElementsByTagName){
    var sel1=document.getElementById(tmp+id1);
    var sel2=document.getElementById(tmp+id2);
    var saveCurent=false;
    var clone=sel2.cloneNode(true);
    clonedOptions=clone.getElementsByTagName("option");
    refreshDynamicSelectOptions(sel1,sel2,clonedOptions,1);
    sel1.onchange=function(){
      _gaq.push(['_setCustomVar',1,'Template',$("#template").val(),3]);
      _gaq.push(['_setCustomVar',2,'SrcLang',langConvertor(sel2.options[sel2.selectedIndex].value),3]);
      _gaq.push(['_setCustomVar',3,'TgtLang',langConvertor(sel1.options[sel1.selectedIndex].value),3]);  
      _gaq.push(['_setCustomVar',4,'UserLang',langConvertor(reserveSrcLang)+"-"+langConvertor(reserveTrgLang),3]);
	  _gaq.push(['_trackEvent', 'Linguistic', 'Language', 'SrcChange']);
      if (thisDict) clearAutocomplete();
      clonedOptions=clone.getElementsByTagName("option");
      refreshDynamicSelectOptions(sel1,sel2,clonedOptions,0);
      if ((sel1.options[sel1.selectedIndex].value=="i")&&(sel2.options[sel2.selectedIndex].value=="e")){revDir=true;document.getElementById('ch_bttn').src="/images/common/ch_ico_16.gif";$('#chBtt_a').hover(function(){rollover_img('ch_bttn','/images/common/ch_ico_16_h.gif');},function(){rollover_img('ch_bttn','/images/common/ch_ico_16.gif');});};
      if (sel1.options[sel1.selectedIndex].value=="ar"){$("#SiteContent_sourceText").css('direction','rtl');}
      else{$("#SiteContent_sourceText").css('direction','ltr');}
      if(Show_vkb){set_kbLang();changeVKL(kbLang);for(var i=0;i<document.getElementById("langKeyboard").options.length;i++){if(document.getElementById("langKeyboard").options[i].value==kbLang){document.getElementById("langKeyboard").selectedIndex=i;}}}};var pattern2=new RegExp("( |^)("+sel1.options[sel1.selectedIndex].value+")( |$)");}
      revDirNow=false;
    }
    function RevertDir(id1,id2){
      var tmp='';
      var sel1=document.getElementById(id1);
      var sel2=document.getElementById(id2);
      var lang1=cur_sLang=sel1.options[sel1.selectedIndex].value;
      var lang2=cur_rLang=sel2.options[sel2.selectedIndex].value;
      revDirNow=true;
      if(!revDir){return;}
      else{_gaq.push(['_setCustomVar',1,'Template',$("#template").val(),3]);
      _gaq.push(['_setCustomVar',2,'SrcLang',langConvertor(lang2),3]);
      _gaq.push(['_setCustomVar',3,'TgtLang',langConvertor(lang1),3]);  
      _gaq.push(['_setCustomVar',4,'UserLang',langConvertor(lang1)+"-"+langConvertor(lang2),3]);
	  _gaq.push(['_trackEvent', 'Linguistic', 'Language', 'Revert']);
      for(var i=0;i<sel1.options.length;i++){if(sel1.options[i].value==lang2){sel1.selectedIndex=i;}
    }

    refreshDynamicSelectOptions(sel1,sel2,clonedOptions,0);
    if(sve6){setTimeout("for (var i = 0; i < document.getElementById('SiteContent_dirs_rLang').options.length; i++){ if (document.getElementById('SiteContent_dirs_rLang').options[i].value == cur_sLang) {document.getElementById('SiteContent_dirs_rLang').selectedIndex=i;}}",1);}
    else{
      for(var i=0;i<sel2.options.length;i++){if(sel2.options[i].value==lang1){sel2.selectedIndex=i;}}}
    
    if (sel1.options[sel1.selectedIndex].value=="ar"){$("#SiteContent_sourceText").css('direction','rtl');$("#editResult_test").css('direction','ltr');$("#translationResult").css('direction','ltr');}
    else{$("#SiteContent_sourceText").css('direction','ltr');}
    if (sel2.options[sel2.selectedIndex].value=="ar"){$("#editResult_test").css('direction','rtl');$("#translationResult").css('direction','rtl');}
    else{$("#editResult_test").css('direction','ltr');$("#translationResult").css('direction','ltr');}
    
  }
}//dynamicSelect




function refreshDynamicSelectOptions(sel1,sel2,clonedOptionsL,tmp){
 if(tmp!=1){document.getElementById('chLangs').value="true";}
 saveCurent=false;currentSelection=sel2.options[sel2.selectedIndex].value;while(sel2.options.length){sel2.remove(0);}
 var pattern2=new RegExp("( |^)("+sel1.options[sel1.selectedIndex].value+")( |$)");for(var i=0;i<clonedOptionsL.length;i++){if(clonedOptionsL[i].className.match(pattern2)){sel2.appendChild(clonedOptionsL[i].cloneNode(true));}}
 if(sve6){setTimeout("for (var i = 0; i < document.getElementById('SiteContent_dirs_rLang').options.length; i++){if (document.getElementById('SiteContent_dirs_rLang').options[i].value == currentSelection) {document.getElementById('SiteContent_dirs_rLang').selectedIndex=i;saveCurent=true;}} if (!saveCurent) {for (var i = 0; i < document.getElementById('SiteContent_dirs_rLang').options.length; i++) {if (document.getElementById('SiteContent_dirs_rLang').options[i].value == document.getElementById('sLang').options[document.getElementById('sLang').selectedIndex].className) {document.getElementById('SiteContent_dirs_rLang').selectedIndex=i; saveCurent=true; if (!revDirNow){document.getElementById('SiteContent_dirs_rLang').style.borderColor='#febf3d';setTimeout(\"document.getElementById('SiteContent_dirs_rLang').style.borderColor='#f7f3f7';\", 500)}}}} saveCurent = false;revDirNow=false;",1)}
 else{
  for(var i=0;i<sel2.options.length;i++){if(sel2.options[i].value==currentSelection){sel2.selectedIndex=i;saveCurent=true;}
 }
 if(!saveCurent){for(var i=0;i<sel2.options.length;i++){if(sel2.options[i].value==sel1.options[sel1.selectedIndex].className){sel2.selectedIndex=i;saveCurent=true;if(!revDirNow){document.getElementById("SiteContent_dirs_rLang").style.borderColor='#febf3d';setTimeout("document.getElementById('SiteContent_dirs_rLang').style.borderColor='#f7f3f7';",500)}}}}
 saveCurent=false;revDirNow=false;}
 if((sel1.options[sel1.selectedIndex].value=="a")){revDir=false;document.getElementById('ch_bttn').src="/images/common/ch_ico_16_d.gif";$('#chBtt_a').hover(function(){rollover_img('ch_bttn','/images/common/ch_ico_16_d.gif');},function(){rollover_img('ch_bttn','/images/common/ch_ico_16_d.gif');});}
 else{
  revDir=true;document.getElementById('ch_bttn').src="/images/common/ch_ico_16.gif";
  $('#chBtt_a').hover(function(){rollover_img('ch_bttn','/images/common/ch_ico_16_h.gif');},function(){rollover_img('ch_bttn','/images/common/ch_ico_16.gif');});
 }
  if ('webkitSpeechRecognition' in window){CheckLang();}
}//refreshDynSelOpts

function ChangedLang(){
var langC = GetDir();
 if (setLang){
  _gaq.push(['_setCustomVar',1,'Template',$("#template").val(),3]);
   _gaq.push(['_setCustomVar',2,'SrcLang',langC[0],3]);
   _gaq.push(['_setCustomVar',3,'TgtLang',langC[1],3]);  
   _gaq.push(['_setCustomVar',4,'UserLang',langConvertor(reserveSrcLang)+"-"+langConvertor(reserveTrgLang),3]);
  _gaq.push(['_trackEvent', 'Linguistic', 'Language', 'TgtChange']);
 }
 setLang = true;
 document.getElementById('chLangs').value="true";
 var selct1=document.getElementById("SiteContent_dirs_sLang");
 var selct2=document.getElementById("SiteContent_dirs_rLang");
 if (selct2.options[selct2.selectedIndex].value=="ar"){$("#editResult_test").css('direction','rtl');$("#translationResult").css('direction','rtl');}
 else{$("#editResult_test").css('direction','ltr');$("#translationResult").css('direction','ltr');}
 if (selct1.options[selct1.selectedIndex].value=="ar"){$("#SiteContent_sourceText").css('direction','rtl');}
 else{$("#SiteContent_sourceText").css('direction','ltr');}
 if ((selct1.options[selct1.selectedIndex].value=="i")&&(selct2.options[selct2.selectedIndex].value=="e")){
 revDir=true;document.getElementById('ch_bttn').src="/images/common/ch_ico_16.gif";
 $('#chBtt_a').hover(function(){rollover_img('ch_bttn','/images/common/ch_ico_16_h.gif');},function(){rollover_img('ch_bttn','/images/common/ch_ico_16.gif');});};
}//ChngLang

function rollover_img(oname,imgsrc){document.getElementById(oname).src=imgsrc;return true};
function checkForEnter (event) {
 if (event.keyCode == 13) {
   if (rtrim($("#SiteContent_sourceText").val())!="") {GetTranslationCBK(1);}
   else $("#SiteContent_sourceText").val('');
 } 
}
function textLimit(){hideToolTip();
 if(document.getElementById('SiteContent_sourceText').value.length>maxlen)
    {document.getElementById('SiteContent_sourceText').value=document.getElementById('SiteContent_sourceText').value.substring(0,maxlen);
    alert(msg)
 }
}
//edit bttns
function Paste1(){
var obj2 = document.getElementById('SiteContent_sourceText');
if(obj2.createTextRange&&document.all){ 
obj2.createTextRange().execCommand("Paste");
if($('#SiteContent_sourceText').val.length>maxlen)
{$('#SiteContent_sourceText').val=$('#SiteContent_sourceText').val.substring(0,maxlen);alert(msg)}
obj2.focus()}
else{alert(msgPaste)}}

function Copy1(){
var obj1 = document.getElementById('SiteContent_sourceText');
if(obj1.createTextRange&&document.all){ 
obj1.createTextRange().execCommand("Copy");
obj1.focus()}
else{alert(msgCopy)}
}

function Delete1(){
$('#SiteContent_sourceText').val('');
$('#SiteContent_sourceText').focus();
}
function Copy2(){
var obj1 = document.getElementById('SiteContent_sourceText');
if(obj1.createTextRange&&document.all){ 
document.getElementById("translationResult").createTextRange().execCommand("Copy");
}
else{alert(msgCopy)}
}

function Delete2(){
$('#translationResult').html('');
$('#editResult_test').val('');
$('#socialServices').hide();
$('#autoInfo').hide();
$('#adviseIconDiv').hide();
    $("#spellBttms_test").hide();
    $("#editResultWin_test").css('background','transparent').css('border','1px solid transparent').css({'box-shadow':'0px 0px 0px #bbb','-moz-box-shadow':'0px 0px 0px #bbb','-webkit-box-shadow':'0px 0px 0px #bbb'});
    $('#editResult_test').css('min-height','').css('color','#525252');
$('#SiteContent_sourceText').focus();
}
function getSpellVariants(arrVars){
if (arrVars.length==0){ varsDiv = '<div class="suggs">No suggestions </div>';}
else{
    var varsDiv ='<div class="suggs">Suggestions';
    for (var j=0; j<arrVars.length; j++){varsDiv += '<div class="suggWord">'+arrVars[j]+'</div>'}
    varsDiv = varsDiv + '</div>'
    }
return varsDiv;
}

function resultEdit(){
if (!startEdit){
startEdit=true;
var dir=GetDir();
var text=rtrim($("#editResult_test").val());
gaCustomVarsSet(dir);
_gaq.push(['_trackEvent', 'Services', 'EditStart',text,text.length ]);}
}
function Spelling(){

    var dir=GetDir();
    var text=rtrim($("#SiteContent_sourceText").val());
    text = encodeURIComponent(text).split("'").join("\\'");
    //если нет текста 
    if (text=="") {$("#SiteContent_sourceText").val('');$("#blurResult").hide();$("#ttSourceText").slideDown(300);$("#btt").slideDown(300);$('#ttSourceText').css('color','#FC575E'); setTimeout("$('#ttSourceText').css('color','#45697E');$('#SiteContent_sourceText').focus(); ",2000);return;}   
    // если автоопределение языка
    if (dir[0]=='au'){alert('Выберите язык входного текста');$("#SiteContent_dirs_sLang").focus();return;}
    // если язык определен
    if ((dir[0]=='zhcn') || (dir[0]=='ar') || (dir[0]=='el') || (dir[0]=='ca') || (dir[0]=='kk') || (dir[0]=='ko') || (dir[0]=='tr') || (dir[0]=='fi')|| (dir[0]=='ja')) {alert('This option is unavailable for this translation direction.');$("#SiteContent_dirs_sLang").focus();return;}
    gaCustomVarsSet(dir);
    _gaq.push(['_trackEvent', 'Services', 'Spelling', '']);
    var shortDir=dir;
    if (shortDir[0]=='es') shortDir[0]='s';
    if (shortDir[1]=='es') shortDir[1]='s';
    if (shortDir[0]=='de') shortDir[0]='g';
    if (shortDir[1]=='de') shortDir[1]='g';
    shortDir[0] = shortDir[0].charAt(0);
    shortDir[1] = shortDir[1].charAt(0);
    $("#spellInfo").dialog('open');
    $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/UtilsService.asmx/SpellCheck",
    data: "{ dirCode:'"+shortDir.join()+"', text:'"+text+"'}", 
    dataType: "json",
    success: function(resulr){ 
        var res=GetAjaxResult(resulr);      
        if (res.errCode!=0) {alert('Sorry, an error has occurred.');$("#spellInfo").dialog('close');}
        else{
            if (res.eCode == 0){
                    $("#spellLoadDiv").hide();
                    $("#okSpellDescr").show();
                    $("#spellEditor").html(rtrim($("#SiteContent_sourceText").val()));
            }
            else{ 
                var txtSplit= new Array;
                var spellBlock = '';
                var errArr = res.eDesc;
                var strSplit = rtrim($("#SiteContent_sourceText").val());
                if (res.eDesc[0].ePos == 0) {txtSplit[0] =''; }
                else{ txtSplit[0] = strSplit.substring(0,res.eDesc[0].ePos);}
                for(var i=0; i<errArr.length;i++) {
                    if (i!=errArr.length-1){txtSplit[i+1] = strSplit.substring(res.eDesc[i].ePos,res.eDesc[i+1].ePos);}
                    else{txtSplit[i+1] = strSplit.substring(res.eDesc[i].ePos);}
                    txtSplit[i+1] = '<span id="ew'+(i+1)+'" class="errWordSpan">'+ getSpellVariants(res.eDesc[i].eSugg)+'<span class="errWord" >'+txtSplit[i+1].substring(0,res.eDesc[i].eLen)+'</span>'+'</span>'+txtSplit[i+1].substring(res.eDesc[i].eLen);
                    spellBlock+=txtSplit[i+1];
                } 
                spellBlock=txtSplit[0]+ spellBlock;
                $("#spellLoadDiv").hide();
                $("#errSpellDescr").show();
                $("#spellEditor").html(spellBlock);
                $(".suggWord").click(function(event){
                                    $(this).parent().parent().attr('class','replWord');
                                    $(this).parent().next().text($(this).text());
                                    });
            }
        } 
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) { 
      GetErrMsg("Sorry, the service is temporarily unavailable. Please try again later."); trDirCode = "";
    }      
 });
}
function showRefers(){
captureRefers();
    var dictDirCode = (trDirCode == '') ? GetDir():trDirCode.split('-');
    if(rtrim(referStr)==""){alert('Select a word or a collocation in the \'Source Text\' field.')}
    else{
        if (blogPos != "right" ){alert('This function is available only after a translation has been made')}
        else{
            if (dictDirCode[0]=='au'){alert('Select the source language')}
            else{
                if (((dictDirCode[0]=='pt')&&(dictDirCode[1]=='ru'))||((dictDirCode[0]=='ru')&&(dictDirCode[1]=='pt'))||((dictDirCode[0]=='de')&&(dictDirCode[1]=='it'))||((dictDirCode[0]=='de')&&(dictDirCode[1]=='pt'))||((dictDirCode[0]=='it')&&(dictDirCode[1]=='de'))||((dictDirCode[0]=='pt')&&(dictDirCode[1]=='de'))||((dictDirCode[0]=='ja')&&(dictDirCode[1]=='ru'))||((dictDirCode[0]=='ja')&&(dictDirCode[1]=='en'))||((dictDirCode[0]=='en')&&(dictDirCode[1]=='ja'))||((dictDirCode[0]=='ru')&&(dictDirCode[1]=='ja'))||((dictDirCode[0]=='fi')&&(dictDirCode[1]=='ru'))||((dictDirCode[0]=='fi')&&(dictDirCode[1]=='en'))||((dictDirCode[0]=='ru')&&(dictDirCode[1]=='fi'))||((dictDirCode[0]=='en')&&(dictDirCode[1]=='fi'))||((dictDirCode[0]=='ar')&&(dictDirCode[1]=='ru'))||((dictDirCode[0]=='ru')&&(dictDirCode[1]=='ar'))||((dictDirCode[0]=='ar')&&(dictDirCode[1]=='en'))||((dictDirCode[0]=='en')&&(dictDirCode[1]=='ar'))||((dictDirCode[0]=='ar')&&(dictDirCode[1]=='de'))||((dictDirCode[0]=='de')&&(dictDirCode[1]=='ar'))||((dictDirCode[0]=='el')&&(dictDirCode[1]=='ru'))||((dictDirCode[0]=='ru')&&(dictDirCode[1]=='el'))||((dictDirCode[0]=='el')&&(dictDirCode[1]=='en'))||((dictDirCode[0]=='en')&&(dictDirCode[1]=='el'))||((dictDirCode[0]=='ca')&&(dictDirCode[1]=='ru'))||((dictDirCode[0]=='ru')&&(dictDirCode[1]=='ca'))||((dictDirCode[0]=='ca')&&(dictDirCode[1]=='en'))||((dictDirCode[0]=='en')&&(dictDirCode[1]=='ca'))||((dictDirCode[0]=='tr')&&(dictDirCode[1]=='ru'))||((dictDirCode[0]=='ru')&&(dictDirCode[1]=='tr'))||((dictDirCode[0]=='tr')&&(dictDirCode[1]=='en'))||((dictDirCode[0]=='en')&&(dictDirCode[1]=='tr'))||((dictDirCode[0]=='tr')&&(dictDirCode[1]=='de'))||((dictDirCode[0]=='de')&&(dictDirCode[1]=='tr'))||((dictDirCode[0]=='en')&&(dictDirCode[1]=='zhcn'))||((dictDirCode[0]=='zhcn')&&(dictDirCode[1]=='ru'))||((dictDirCode[0]=='zhcn')&&(dictDirCode[1]=='en'))||((dictDirCode[0]=='ru')&&(dictDirCode[1]=='zhcn'))||((dictDirCode[0]=='de')&&(dictDirCode[1]=='zhcn'))||((dictDirCode[0]=='zhcn')&&(dictDirCode[1]=='de'))||((dictDirCode[0]=='fr')&&(dictDirCode[1]=='it'))||((dictDirCode[0]=='it')&&(dictDirCode[1]=='fr'))||((dictDirCode[0]=='fr')&&(dictDirCode[1]=='pt'))||((dictDirCode[0]=='pt')&&(dictDirCode[1]=='fr'))||((dictDirCode[0]=='fr')&&(dictDirCode[1]=='jp'))||((dictDirCode[0]=='jp')&&(dictDirCode[1]=='fr'))||((dictDirCode[0]=='fr')&&(dictDirCode[1]=='fi'))||((dictDirCode[0]=='fi')&&(dictDirCode[1]=='fr'))||((dictDirCode[0]=='fr')&&(dictDirCode[1]=='ar'))||((dictDirCode[0]=='ar')&&(dictDirCode[1]=='fr'))||((dictDirCode[0]=='fr')&&(dictDirCode[1]=='tr'))||((dictDirCode[0]=='tr')&&(dictDirCode[1]=='fr'))||((dictDirCode[0]=='fr')&&(dictDirCode[1]=='zhcn'))||((dictDirCode[0]=='zhcn')&&(dictDirCode[1]=='fr'))||((dictDirCode[0]=='en')&&(dictDirCode[1]=='ko'))||((dictDirCode[0]=='ko')&&(dictDirCode[1]=='ru'))||((dictDirCode[0]=='ko')&&(dictDirCode[1]=='en'))||((dictDirCode[0]=='fr')&&(dictDirCode[1]=='ko'))||((dictDirCode[0]=='de')&&(dictDirCode[1]=='ko'))||((dictDirCode[0]=='ko')&&(dictDirCode[1]=='de'))||((dictDirCode[0]=='ko')&&(dictDirCode[1]=='fr'))||((dictDirCode[0]=='fr')&&(dictDirCode[1]=='ko'))||((dictDirCode[0]=='kk')&&(dictDirCode[1]=='ru'))||((dictDirCode[0]=='ru')&&(dictDirCode[1]=='kk'))||((dictDirCode[0]=='kk')&&(dictDirCode[1]=='en'))||((dictDirCode[0]=='en')&&(dictDirCode[1]=='kk'))||((dictDirCode[0]=='kk')&&(dictDirCode[1]=='de'))||((dictDirCode[0]=='de')&&(dictDirCode[1]=='kk'))||((dictDirCode[0]=='kk')&&(dictDirCode[1]=='fr'))||((dictDirCode[0]=='fr')&&(dictDirCode[1]=='kk'))||((dictDirCode[0]=='ru')&&(dictDirCode[1]=='it'))){alert('This option is unavailable for this translation direction.')}
                else{
                   var dictDirCodeJoin=dictDirCode[0]+"-"+dictDirCode[1];
                   if((dictDirCodeJoin=='en-ru')||(dictDirCodeJoin=='ru-en') || (dictDirCodeJoin=='de-ru')||(dictDirCodeJoin=='ru-de')|| (dictDirCodeJoin=='fr-ru')||(dictDirCodeJoin=='ru-fr')|| (dictDirCodeJoin=='es-ru')|| (dictDirCodeJoin=='ru-es')){GetFullWordCBK_old('1', 'dictWordER');referStr="";}
                   else {GetFullWordCBK_old('1', 'dictWord');referStr="";}
                   if(document.selection&&document.selection.createRange){document.selection.empty();}
                   else{
                        $("#SiteContent_sourceText").val($("#SiteContent_sourceText").val() +' ');
                        $("#SiteContent_sourceText").val($("#SiteContent_sourceText").val().slice(0, -1));
                        if(typeof(document.getElementById('SiteContent_sourceText').selectionStart)=="number"){document.getElementById('SiteContent_sourceText').selectionStart=document.getElementById('SiteContent_sourceText').selectionEnd}
                       }
               }    
            }
        }
    }
}
function captureRefers(){
	var str="";
	var obj=document.getElementById('SiteContent_sourceText');
	if(document.selection&&document.selection.createRange){var range=document.selection.createRange();str=range.text}
	else if(typeof(obj.selectionStart)=="number"){
		if(obj.selectionStart!=obj.selectionEnd){
			var start=obj.selectionStart;
			var end=obj.selectionEnd;
			var rs=obj.value.substr(start,end-start);str=rs
		}
	}
	referStr=str;
}
function checkResSelection(){
	var rs="";
	var obj=document.getElementById('editResult_test');
	if(document.selection&&document.selection.createRange){var range=document.selection.createRange();return true}
	else if(typeof(obj.selectionStart)=="number"){
		if(obj.selectionStart!=obj.selectionEnd){
			return true;
		}
	}
	return false;
}

var loadVK=false;// vk scripts
function callVK(){
var dir=GetDir();
    gaCustomVarsSet(dir);
    _gaq.push(['_trackEvent', 'Services', 'VKeyboard', '']);
    //$.getScript('/App_Themes/Default/vk.js');
    $("#vkb_f2").dialog('open');
    if(!loadVK){callAjaxVK();}
    else{vkb_Show();}
}
function callAjaxVK()
{
    $("#loadingVK").ajaxStart(function(){$(this).show();});
    $("#loadingVK").ajaxStop(function(){$(this).hide();});
    $("#LoadVKText").ajaxStart(function(){$(this).hide();});
    $("#LoadVKText").ajaxStop(function(){$(this).hide();});
    $.ajax({
        type:"POST",
        contentType:"application/json; charset=utf-8",
        url:"/Components/virtKB.aspx",
        data:"{prmtlang:'en'}",
        dataType:"html",
        success:function(result){
            var res=GetAjaxResult(result);     
            $('#vkb_f2').append(res);
            vkb_Show();
            loadVK=true;},
        error:function(XMLHttpRequest,textStatus,errorThrown){
            alert(textStatus+"   "+errorThrown);}
        });
}
function vkb_Show(){
    document.getElementById('SiteContent_sourceText').focus();
    if(!Show_vkb)
    {set_kbLang();setVKL(kbLang);show_keyboard(kbLang);Show_vkb=true;return}
    if(Show_vkb)
    {hide_keyboards();Show_vkb=false;return}
}

function set_kbLang(){
kbLang=$('#SiteContent_dirs_sLang').val();
if ((kbLang=='au')||(kbLang=='ja')||(kbLang=='ar')||(kbLang=='zhcn')||(kbLang=='tr')||(kbLang=='kk')||(kbLang=='ko')){ kbLang='en';}
if (kbLang=='ca') {kbLang='es';}
show_keyboard(kbLang);
}
function langConvertor(lng){
var isoLang='';
    switch(lng){
        case"r":
        case"ru":isoLang="ru";
                break;
        case"g":
        case"de":isoLang="de";
                break;
        case"f":
        case"fr":isoLang="fr";
                break;
        case"s":
        case"es":isoLang="es";
                break;
        case"i":
        case"it":isoLang="it";
                break;
        case"p":
        case"pt":isoLang="pt";
                break;
        case"a":
        case"au":
        case"auto":isoLang="auto";
                break;
        case"j":
        case"ja":
        case"jp":isoLang="ja";
                break;
        case"o":
        case"fi":isoLang="fi";
                break;
        case "ar": isoLang = "ar";
            break;
        case "el": isoLang = "el";
            break;
        case "ca": isoLang = "ca";
            break;
        case "tr": isoLang = "tr";
            break;
        case "kk": isoLang = "kk";
            break;
        case "zhcn": isoLang = "zhcn";
            break;
        case "ko": isoLang = "ko";
            break;
        default: isoLang = "en";
       }
return isoLang
}
function show_keyboard(lang){
    Show_vkb=true;
    $("#lang_"+lang).show();
    if (!document.getElementById("vkb_f1")){callAjaxVK();};
    CapsLockD=false;
}
function hide_keyboards(){
    Show_vkb=false;
    $("#vkb_f2").dialog('close');
    hideAllKBs();
}// vk scripts end
function showEditTranslationWin_(){
    var txtForEditor = "";
    var sourceTxt = $("#translationResult").html();
    if (sourceTxt!=''){
        txtForEditor = sourceTxt.replace(/<br>/g, "\n");
        $("#editResult").val(txtForEditor);
        $("#editResultWin").width($("#resultBlock").width()-20);
        $("#keepClickEditor").show();
        $("#keepClickEditor").height(document.body.offsetHeight);
        $("#editResult").attr('class','expand101-2400');
        jQuery("textarea[class*=expand]").TextAreaExpander();
        $("#editResultWin").show();
        $("#editResult").focus();
    }
}
function  setEqualHeights(){ 
    if ($("#editResult_test").css('min-height')!=''){$("#editResult_test").css('min-height','');jQuery("#editResult_test").TextAreaExpander();}
    if ($("#SiteContent_sourceText").css('min-height')!=''){$("#SiteContent_sourceText").css('min-height','');jQuery("#SiteContent_sourceText").TextAreaExpander();}
    if (curVMode == 'vert'){
       var maxH = ($("#editResult_test").height()>$("#SiteContent_sourceText").height())?$("#editResult_test").height() : $("#SiteContent_sourceText").height();
       $("#editResult_test").css('min-height',maxH+'px');
       $("#SiteContent_sourceText").css('min-height',maxH+'px');
       }
}
function sendGAEditEvents(mode){
var dir=GetDir();
var text=rtrim($("#editResult_test").val());
gaCustomVarsSet(dir);
if (mode=="ok"){_gaq.push(['_trackEvent', 'Services', 'EditSave',text,text.length ]);}
if (mode=="cancel"){_gaq.push(['_trackEvent', 'Services', 'EditCancel',text,text.length ]);}
$("#editResult_test" ).unbind("change");
startEdit=false;
}

function SaveEdits(){
var userResult =$('#editResult_test').val();
 var template = $("#template").val();
 var source4Save=rtrim($("#SiteContent_sourceText").val());
 if (userResult==source4Save) {return;}
 $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/UtilsService.asmx/SaveTranslationEdits",
    data: "{ dirCode:'"+GetDir()+"', ptsDirCode:'"+trDirCode+"', template:'"+template+"', source:'"+source4Save+"', ptsResult:'"+ptsResult+"', userResult:'"+userResult+"', trId:'"+trUID+"', lang:'en', sessId:'ukac2mjmkqidayzao453tccb', key:'"+trKey+"'}", 
    dataType: "json",
    success: function(res){
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) {       
    }     
 });
}
function hideEditTranslationWin(status){
txtForEditor = "";
    if (status=='1'){
        SaveEdits();
        $('#translationResult').html($('#editResult_test').val().replace(/\n/g,'<br>'));
        $("#editResult_test").css('min-height','');
        jQuery("textarea[class*=expand]").TextAreaExpander();
        $("#SiteContent_sourceText").css('min-height','');
        jQuery("textarea[class*=expand]").TextAreaExpander();
    }
    else {
            $('#editResult_test').val($('#translationResult').html().replace(/<br>/g, '\n').replace(/<BR>/g, '\n').replace(/&nbsp;/g, " ").replace(/&amp;/g, "&"));
        }
    $("#spellBttms_test").hide();
    $("#editResultWin_test").css('background','transparent').css('border','1px solid transparent').css({'box-shadow':'0px 0px 0px #bbb','-moz-box-shadow':'0px 0px 0px #bbb','-webkit-box-shadow':'0px 0px 0px #bbb'});
    $('#editResult_test').css('min-height','').css('color','#525252');
    setEqualHeights();
    maxSourceWin=$("#SiteContent_sourceText").height();
}
function showEditTranslationWin(mode){
    var sourceTxt = $("#translationResult").html();
    if (sourceTxt!=''){
        if(txtForEditor==""){
            txtForEditor = sourceTxt.replace(/<br>/g, "\n");
            txtForEditor = txtForEditor.replace(/<BR>/g, "\n");
            txtForEditor = txtForEditor.replace(/&nbsp;/g, " ");
            txtForEditor = txtForEditor.replace(/&amp;/g, "&");
            $("#editResult_test").val(txtForEditor);
            }
        $("#editResult_test").attr('class','expand101-2400');
        jQuery("textarea[class*=expand]").TextAreaExpander();
        $("#editResultWin_test").css('background','transparent').css('border','1px solid transparent').css({'box-shadow':'0px 0px 0px #bbb','-moz-box-shadow':'0px 0px 0px #bbb','-webkit-box-shadow':'0px 0px 0px #bbb'});
        $("#editResultWin_test").show();
        if (mode=='1'){
          $("#editResult_test").css('background','white').css('color','green');
          $("#editResult_test").css('min-height',$("#SiteContent_sourceText").height()+'px');
          $("#editResult_test" ).bind("change", function() {resultEdit();});
          $("#spellBttms_test").show();
          $("#editResultWin_test").css('background','white').css('border','1px solid #6f8ea9').css({'box-shadow':'5px 5px 4px #bbb','-moz-box-shadow':'5px 5px 4px #bbb','-webkit-box-shadow':'5px 5px 4px #bbb'});
          $("#spellBttms_test").focus();
        }
    }
}
function clearAutocomplete(){
   $("#eac-container-SiteContent_sourceTextDict ul li").remove();
}
function showPrintWin(){
    _gaq.push(['_trackEvent', 'Services', 'Print', '']);
    window.print() ;  
}
function savePrevDirection(){
reserveSrcLang=GetDir[0];
reserveTrgLang=GetDir[1];
}
var visSForm = 740; 
$(document).ready(function(){
 function getBodyScrollTop(){return self.pageYOffset || (document.documentElement && document.documentElement.scrollTop) || (document.body && document.body.scrollTop);}
 function getClientHeight(){return document.compatMode=='CSS1Compat'?document.documentElement.clientHeight:document.body.clientHeight;}
 $("#SiteContent_sourceText").keydown(checkForEnter);
 if (document.getElementById("SiteContent_dirs_sLang")){dynamicSelect1("SiteContent_dirs_sLang", "SiteContent_dirs_rLang");
 ChangedLang();}
 $("#keepClick").click(function(event){closeAllTopPopups();});
 $("#SiteContent_dirs_sLang").click(function(){savePrevDirection();});
 $("#SiteContent_dirs_rLang").click(function(){savePrevDirection();});
 $("#keepClickVM").click(function(event){hideViewModes();});
 $("#keepClick").click(function(event){closeAllTopPopups();});
 $("#keepClickSS").click(function(event){closeTranslationLinks();closewAddTranslation();});
 $("#viewModeStatus").click(function(event){showViewModes();});
 $("#keepClickTemplate").click(function(event){$(".templatesBlock").hide();$("#keepClickTemplate").hide();$("#keepClickTemplateTop").hide();curOpenTemplate = '';$(".templateHeader").removeClass('tempSelectTemplate');});
 $("#keepClickTemplateTop").click(function(event){$(".templatesBlock").hide();$("#keepClickTemplate").hide();$("#keepClickTemplateTop").hide();curOpenTemplate = '';$(".templateHeader").removeClass('tempSelectTemplate');});
 $(".viewModeEl").click(function(event){
    $(".viewModeEl").removeClass('curSelectTempl');
    $(this).addClass('curSelectTempl');
    vMode=$(this).find('.viewModeName').attr('id');
    vMode = vMode.substr(0,vMode.length-2)
    setViewMode(vMode);
    setCookie('vMode',vMode);
 });
 $(window).resize(function() {
                if (vMode=="auto"){autoVMode();}
            });   
 if ($("#SiteContent_sourceText").length != 0) setViewMode(vMode);
 $("#megaFullInfo").dialog({title:'Word forms',width:680, height:500, resizable:false,draggable:false,autoOpen:false,modal: true,zIndex: 110000,close:function(){fullWordInfo=0;$(".trsl").hide();$("#mfi_grammInfo").html("");}});
 $("#spellInfo").dialog({title:'Check the spelling',width:680, height:520, resizable:false,draggable:false,autoOpen:false,modal: true,zIndex: 110000,close:function(){  $("#okSpellDescr").hide();$("#errSpellDescr").hide(); $("#spellEditor").html('');$("#spellLoadDiv").show();}});
 $("#vkb_f2").dialog({title:'Virtual keyboard',width:485,resizable:false,draggable:true,close:function(){hideAllKBs();Show_vkb=false;$('#Vkeyboard').append($("#vkb_f1"));},autoOpen:false});
if (document.getElementById("SiteContent_dirs_sLang"))
{
    if ("1"=="1") {GETDTO();}
    if (location.pathname.toLowerCase().indexOf("widget")<0) 
    {getParams(); }
}
if (location.pathname.toLowerCase().indexOf("/links/")>=0){saveTranslation=true; savedUID = location.pathname.replace("/links/", "");}
$(".wrapp").css('background', 'url(/images/common/bttm_bg.png) bottom center repeat-x transparent');
$("#logotext h1").click(function () { location.href = "http://" + location.hostname; });
if ($("#SiteContent_sourceText").length != 0){ jQuery("textarea[class*=expand]").TextAreaExpander();}

cookiePolicy();

var textB = $('#SiteContent_sourceText').val();
var textBR = $('#editResult_test').val();

$('#SiteContent_sourceText').bind('input propertychange', function () {
    var textA = $(this).val();
    if ((textA.length - textB.length)!=1 && (textA.length - textB.length)!=-1) {
    if ((textA.length - textB.length)>1) pasteBuffer('Source');
    else { 
    if (textB.indexOf(textA)== -1) pasteBuffer('Source');
    }
    
 }
 //else {if (textB.indexOf(textA)== -1) pasteBuffer('Source');}
    textB = $('#SiteContent_sourceText').val();
});
$('#editResult_test').bind('input propertychange', function () {
    var textAR = $(this).val();
    if ((textAR.length - textBR.length)!=1 && (textAR.length - textBR.length)!=-1) {
    if ((textAR.length - textBR.length)>1) pasteBuffer('Result');
    else { 
    if (textBR.indexOf(textAR)== -1) pasteBuffer('Result');
    }
    
 }
 //else {if (textBR.indexOf(textAR)== -1) pasteBuffer('Result');}
    textBR = $('#editResult_test').val();
});


});  //ready()

function pasteBuffer(tic){
var dir=GetDir();
gaCustomVarsSet(dir);
_gaq.push(['_trackEvent', 'Services', 'Buffer','Paste'+tic,$('#SiteContent_sourceText').val().length ]);
//alert('Buffer');
}


function autoVMode(){
 if($(window).width()>1100){
    $("#sourceBlock").removeClass().addClass('vert');
    $("#resultBlock").removeClass().addClass('vert');
    $("#SiteContent_sourceText").attr('class','expand101-2400');
    jQuery("textarea[class*=expand]").TextAreaExpander();
    curVMode = 'vert';
 }
 else{
    $("#sourceBlock").removeClass().addClass('horiz');
    $("#resultBlock").removeClass().addClass('horiz');
    curVMode = 'horiz';
    $("#SiteContent_sourceText").attr('class','expand101-340');
    jQuery("textarea[class*=expand]").TextAreaExpander();
 }
}
function setViewMode(mode){
 if(vMode!='auto'){
    $("#sourceBlock").removeClass().addClass(mode);
    $("#resultBlock").removeClass().addClass(mode);
    curVMode = mode;
    if (mode=='horiz'){$("#SiteContent_sourceText").attr('class','expand101-340'); jQuery("textarea[class*=expand]").TextAreaExpander();}
    if ((mode=='vert')&&($("#translationResult").html()!='')) {
        $("#SiteContent_sourceText").attr('class','expand101-2400');
        jQuery("textarea[class*=expand]").TextAreaExpander();
setEqualHeights();
    }
 }
 else{ autoVMode();}
 $("#viewModeStatus span.vm_ico").removeClass().addClass(mode+'_ico sprite_ico vm_ico').attr('title', $("#"+mode+"Bl").text());
 $("#vmDes").html($("#"+mode+"Bl").text());
}
function showViewModes(){
 $(".viewModeList").show();
 $("#vmDes").css('display','inline');
 $("#keepClickVM").show();
 $(".viewModeList").click(function(event){hideViewModes();});
 $("#viewModeBlock").addClass("showModes");
}
function hideViewModes(){
 $(".viewModeList").hide();
 $("#keepClickVM").hide();
 $("#viewModeBlock").removeClass();
 $("#vmDes").css('display','');
}
(function($) {
$.fn.TextAreaExpander = function(minHeight, maxHeight) {
var hCheck = !(jQuery.browser.msie || jQuery.browser.opera);
function ResizeTextarea(e) {
e = e.target || e;
var vlen = e.value.length, ewidth = e.offsetWidth;
if (vlen != e.valLength || ewidth != e.boxWidth) {
if (hCheck && (vlen < e.valLength || ewidth != e.boxWidth)) e.style.height = "0px";
var h = Math.max(e.expandMin, Math.min(e.scrollHeight, e.expandMax));
e.style.overflow = (e.scrollHeight > h ? "auto" : "hidden");
e.style.height = h + "px";
e.valLength = vlen;
e.boxWidth = ewidth;
}
return true;
};
this.each(function() {
if (this.nodeName.toLowerCase() != "textarea") return;
var p = this.className.match(/expand(\d+)\-*(\d+)*/i);
this.expandMin = minHeight || (p ? parseInt('0'+p[1], 10) : 0);
this.expandMax = maxHeight || (p ? parseInt('0'+p[2], 10) : 99999);
ResizeTextarea(this);
if (!this.Initialized) {
this.Initialized = true;
$(this).css("padding-top", 0).css("padding-bottom", 0);
$(this).bind("keyup", ResizeTextarea).bind("focus", ResizeTextarea);
}
});
return this;
};
})(jQuery);
 

var myVote=0; 
function shRating(vn){
for (var x=1;x<=vn;x++){$("#rst" + x).attr('src','/images/common/starfill.gif');$("#rst" + x + "_bt").attr('src','/images/common/starfill.png');}
for (var x=vn+1; x<6; x++){$("#rst" + x).attr('src','/images/common/starblank.gif');$("#rst" + x + "_bt").attr('src','/images/common/starblank.png');}
}
function setVote(vnn){
for (var y=1;y<=vnn;y++){$("#rst" + y).attr('src','/images/common/gstarfill.gif');$("#rst" + y + "_bt").attr('src','/images/common/gstarfill.png');}
for (var y=vnn+1; y<6; y++){$("#rst" + y).attr('src','/images/common/gstarblank.gif');$("#rst" + y + "_bt").attr('src','/images/common/gstarblank.png');}
}
function clRating(){shRating(myVote); }
function stopVote(){for (var i=1; i<6; i++){$("#rst" + i).click(function(){});document.getElementById("rst" + i).onmouseover=function(){};document.getElementById("rst" + i).onmouseout=function(){};$("#rst" + i).removeClass("vt");if (thisDict) {$("#rst" + i +"_bt").click(function(){});document.getElementById("rst" + i + "_bt").onmouseover=function(){};document.getElementById("rst" + i + "_bt").onmouseout=function(){};$("#rst" + i + "_bt").removeClass("vt");}}}
function emp(){}
function resetVote(){
 myVote=0; 
 $("#rating").html('<span id="trest">  Rate translation</span><img src="/images/common/starblank.gif" border="0"  align="absmiddle" id="rst1" onmouseout="javascript:clRating();" onclick="javascript:sendRating(1);" onmouseover="javascript:shRating(1);" class="vt" /><img src="/images/common/starblank.gif" border="0"  align="absmiddle" id="rst2" onmouseout="javascript:clRating();" onclick="javascript:sendRating(2);" onmouseover="javascript:shRating(2);" class="vt"/><img src="/images/common/starblank.gif" border="0" align="absmiddle" id="rst3" onmouseout="javascript:clRating();" onclick="javascript:sendRating(3);" onmouseover="javascript:shRating(3);"  class="vt" /><img src="/images/common/starblank.gif" border="0" align="absmiddle" id="rst4" onmouseout="javascript:clRating();" onclick="sendRating(4)" onmouseover="javascript:shRating(4);" class="vt"  /><img src="/images/common/starblank.gif" border="0"  align="absmiddle" id="rst5" onmouseout="javascript:clRating();" onclick="javascript:sendRating(5);" onmouseover="javascript:shRating(5);" class="vt" /><br/>');
}

function sendRating(rt){
 if ((savedUID!="")&&(trUID=="")) {trUID = savedUID;}
 if (myVote!=0) return; myVote=rt;
 SaveSocial(rt, 'rate');
}//Rating
function getTranslationLinks(){
 if (!visLink){
   if (saveTranslation) $("#loadingLink").hide();
   closewAddTranslation();
   if (!(jQuery.browser.msie)){
    if ( !thisDict ){$("#linkGL_img").attr('src','/images/common/ss_icns_bt_d.png');}
    else{$("#linkGL_img").attr('src','/images/common/ss_icns_bt_d.png');}
    }
   else{
    if (!thisDict){$("#linkGL_img").attr('src','/images/common/ss_icns_bt_ie_d.png');}
    else{$("#linkGL_img").attr('src','/images/common/ss_icns_bt_ie_d.png'); $("#linkGL_img_bt").attr('src','/images/common/ss_icns_bt_ie.png');}
    }
   $("#getLinkSpan").show(); 
   visLink=true;
   if (!saveTranslation) saveTranslationAjax();
 }
 else {closeTranslationLinks();}
}//getTrLinks
function closeTranslationLinks(){ 
 visLink=false;
 closeViewTranslationLinks();
 $("#loadingLink").hide();
 $("#getLinkSpan").hide();
 $("#getLinkSpan").hide();
    if (!(jQuery.browser.msie)){
        if (!thisDict){$("#linkGL_img").attr('src','/images/common/ss_icns_bt.png');}
        else{$("#linkGL_img").attr('src','/images/common/ss_icns_bt.png');}
    }
    else{
        if (!thisDict){$("#linkGL_img").attr('src','/images/common/ss_icns_bt_ie.png')}
        else{$("#linkGL_img").attr('src','/images/common/ss_icns_bt_ie.png');}
    }
 if (thisDict){
 closeViewTranslationLinks();
 $("#loadingLink_bt").hide();
 $("#getLinkSpan_bt").hide();
 $("#getLinkSpan_bt").hide();
 if (!(jQuery.browser.msie)){$("#linkGL_img_bt").attr('src','/images/common/ss_icns_bt.png');}
 else{$("#linkGL_img_bt").attr('src','/images/common/ss_icns_bt_ie.png')}
 }
}//closeTrLinks

function getViewTranslationLinks(){
 if (!visVLink){$("#getLinkSpan").css('margin-top','-247px');$("#getLinkSpan").css('height','243px');$("#VLspan").css('margin-top','-13px');$("#getViewLinkSpan").show();$("#getViewLinkSpan").click(function(event){closeViewTranslationLinks();}); visVLink=true;}
 else {closeViewTranslationLinks();}
}
function closeViewTranslationLinks(){
 visVLink=false;
 $("#getViewLinkSpan").hide();$("#VLspan").css('margin-top','-9px');$("#getLinkSpan").css('margin-top','-207px');$("#getLinkSpan").css('height','203px');
 if (thisDict) {$("#getViewLinkSpan_bt").hide();$("#VLspan_bt").css('margin-top','-9px');$("#getLinkSpan_bt").css('margin-top','-207px');$("#getLinkSpan_bt").css('height','203px');}
}
function closeAllTopPopups(){
 $("#feedbackForm").slideUp(600);$("#flags").slideUp(600);$("#forLogin").slideUp(600);
 $("#keepClick").hide(); topPopup="close";
 $("#lOtpravleno").hide();$("#fFeedbackFld").show();$(".checkLabel1").show();$("#bAjaxFeedback").show(); 
}
function saveTranslationAjax(){
  if (savedUID == ""){SaveSocial('', 'link');}
  else{trUID = savedUID;
    generateLink = GenerateLinks(uTrType);
    GenerateTexts(generateLink);
    $("#loadingLink").hide();
    $("#saveLinkResult").show();
    saveTranslation=true;     
   }  
}//saveTrAjx
function GenerateLinks(trType){
    var lnk="http://www.translate.ru/"
    if (trType=='word'){
        lnk+="/"+$("#template").val()+"/en-ru/"+$("#SiteContent_sourceText").val();
    }
    else {lnk+="links/"+trUID;} 
    return lnk; 
}//GenrtLinks
function GenerateTexts(trLink){       
 var wrds=( thisDict) ? $("#SiteContent_sourceTextDict").val().split(' ') : $("#SiteContent_sourceText").val().split(' ');
 var trText='';
 if (wrds.length>5){for (i=0; i<5; i++){trText+=wrds[i]+" "}; trText+="..."}
 else trText=( !thisDict) ? rtrim($("#SiteContent_sourceText").val()):rtrim($("#SiteContent_sourceTextDict").val());
 var linkText='<span style="font-family:Verdana, Arial, Helvetica, sans-serif; font-size:11px;">';
 var viewLinkText=linkText;
 linkText+='<a hr'+'ef="http://'+location.hostname+'"><im'+'g sr'+'c="http://'+location.hostname+'/images/common/logo31.gif" width="31" height="31" border="0" style="padding-right:10px;padding-left:10px;" alt="Translate.Ru" title="Онлайн-переводчик и словарь Translate.Ru" align="left"/></a> Перевести ';
 viewLinkText+='<img s'+'rc="http://'+location.hostname+'/images/common/logo31.gif" width="31" height="31" border="0" style="padding-bottom:15px;padding-right:10px;padding-left:10px;" alt="Translate.Ru" title="Онлайн-переводчик и словарь Translate.Ru" align="left"/> Перевести ';
 linkText+="на "+document.getElementById("SiteContent_dirs_rLang").options[document.getElementById("SiteContent_dirs_rLang").selectedIndex].innerHTML+ " ";
 viewLinkText+="на "+document.getElementById("SiteContent_dirs_rLang").options[document.getElementById("SiteContent_dirs_rLang").selectedIndex].innerHTML+ " ";
 linkText+='&laquo;<a href="'+trLink+'">'+trText;
 viewLinkText+='&laquo;<a href="javascript:;">'+trText;
 linkText+='</a>&raquo; с помощью Translate.Ru.</span>';
 viewLinkText+='</a>&raquo; с помощью Translate.Ru.</span>';
 $("#dTrLink").val(trLink);
 $("#fTrLink").val(linkText); 
 $("#getViewLinkSpan").html(viewLinkText); 
 $("#t_likes").html(GenerateLikes(trLink));
 

}// end GenerateTexts
function GenerateLikes(tlnk){
var btts='';
if (!(jQuery.browser.msie)){
btts+='<div  style="float:right; clear: both;"><div class="google-buzz" style="width:40px;"><scr'+'ipt type="text/javascript" src="https://apis.google.com/js/plusone.js">{lang: "ru",size:"small",annotation:"none"}</sc'+'ript><g:plusone annotation="none" size="medium" data-href="'+tlnk+'" href="'+tlnk+'"></g:plusone></div></div>';}
btts+='<div style="float:right;"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="//platform.twitter.com/widgets/tweet_button.html?lang=ru&count=none&url='+tlnk+'&text=Результат перевода&via=translate_ru" style="width:80px; height:20px;"></iframe></div>'
//btts+='<div style="float:right; margin:0 10px 15px 10px;"><sc'+'ript type="text/javascript" src="http://static.ak.fbcdn.net/connect.php/js/FB.Share?ver=3.1.3"></scr'+'ipt><div class="fb-share-button"><a rel="nofollow" title="Опубликовать в Facebook" name="fb_share" type="button_count" share_url='+tlnk+'>Поделиться</a></div></div>';
btts+='<div style="float:right; margin:0 10px 15px 10px;"><iframe src="https://www.face'+'book.com/plugins/share_button.php?href='+tlnk+'&layout=button&size=small&mobile_iframe=true&width=94&height=20&appId" width="94" height="20" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe></div>';
//btts+= '<div style="margin:0 0 15px 10px;"><div id="vk_share_button" style="float:right"></div><scr'+'ipt type="text/javas'+'cript">document.getElementById("vk_share_button").innerHTML = VK.Share.button({url: "'+tlnk+'",title:"Результат перевода на Translate.Ru",noparse: true},{type:"button",text:"Поделиться"});</scr'+'ipt></div>';

return btts;
}
function showwAddTranslation(){
 if (!visATWin){closeTranslationLinks();
 if (uTrType == "text"){
  $("#addTranslationText").val($("#SiteContent_MA_trasnlform_tbPismo").val());
  $("#ATSpan").css("margin-top","-162px").css("height","145px");
 }
 else {$("#addTranslationText").keypress(function(event) { if (event.which == '13'){ saveUTranslation();return false}});}
 $("#ATSpan").show(); visATWin=true;
 $("#addTranslationText").focus();}
 else {closewAddTranslation(); visATWin=false;}
}//showwAddTranslation

function closewAddTranslation(){
 $("#keepClickSS").hide();
 $("#errAddTranslation").html("");
 $("#ATSpan").hide();
 $("#ATForm").show(); $("#servATText").hide();
 $("#servATText").html('<b><img hspace="10" align="middle" src="/images/common/al_fullWR.gif"/> Saving...</b>');
 if (uTrType == "text"){$("#addTranslationText").val($("#SiteContent_MA_trasnlform_tbPismo").val());}
 else {$("#addTranslationText").val('');}
 if (thisDict) {
 $("#errAddTranslation_bt").html("");
 $("#ATSpan_bt").hide();
 $("#ATForm_bt").show(); $("#servATText_bt").hide();
 $("#servATText").html('<b><img hspace="10" align="middle" src="/images/common/al_fullWR.gif"/> Saving...</b>');
 $("#addTranslationText_bt").val('');
 }
 visATWin=false;
}
function saveUTranslation(){
 if (rtrim($("#addTranslationText").val())==""){$("#errAddTranslation").html('Type your version of translation');$("#addTranslationText").focus();return false;}
 if ($("#addTranslationText").val()==$("#SiteContent_MA_trasnlform_tbPismo").val()){$("#errAddTranslation").html('Type your version of translation'); $("#addTranslationText").focus();return false;}
 var userVar=$("#addTranslationText").val();
 userVar = encodeURIComponent(userVar).split("'").join("\\'");
 SaveSocial(userVar, 'vrnt');
}//saveUTrans
function showAllTemplates(){// show all Templates
 $("#allTemplatesBlock").show();
 $(".templatesBlock").hide();
 $(".templateHeader").removeClass('tempSelectTemplate');
 $("#curPTSTopic").prop('disabled', false);
}//showAllTmpls
function hideAllTemplates(){
 $("#allTemplatesBlock").hide();
}
function checkedUT(){}
function ListenWord(pElem,word, pos, mode){
 var dir=(trDirCode == '') ? GetDir():trDirCode.split('-');
         gaCustomVarsSet(dir);
        _gaq.push(['_trackEvent', 'Forvo', 'Listen', word]);
 $("#lnkGtTr"+pos).css('display','none');
 $("#loadFrv"+pos).show();
 $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/UtilsService.asmx/CallForvo",
    data: "{ dirCode:'"+dir.join('-')+"', dKey:'"+word+"'}", 
    dataType: "json",
    success: function(res){
      var result=GetAjaxResult(res);      
      if (result.inForvo){ 
        if (mode=="stop"){
         $("#speaker_on"+pos).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+pos+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+pos+'"></embed></object>').css('display','inline');
        }
        if (mode=="play"){
         $("#speaker_on"+pos).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+pos+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+pos+'"></embed></object>').css('display','inline');
        }
        $("#lnkGtTr"+pos).css('display','none');
      }
      else {$("#addPr").show();}
      $("#loadFrv"+pos).hide();            
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) {
        $("#imgGtTr"+pos).attr('src','/images/common/vol_off.gif').attr('alt', '').attr('title', 'Произношение в настоящий момент недоступно');
    }     
 });
}//listenWord

function ListenWordFW(pElem,word, posf, mode){
 var dir=(trDirCode == '') ? GetDir():trDirCode.split('-');
          gaCustomVarsSet(dir);
        _gaq.push(['_trackEvent', 'Forvo', 'Listen', word]);
$("#flView #lnkGtTr_f"+posf).css('display','none');
 $("#flView #loadFrv_f"+posf).show();    
 $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/UtilsService.asmx/CallForvo",
    data: "{ dirCode:'"+dir.join('-')+"', dKey:'"+word+"'}", 
    dataType: "json",
    success: function(res){
      var result=GetAjaxResult(res);      
      if (result.inForvo){ 
        if (mode=="stop"){
          $("#flView #speaker_on_f"+posf).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+posf+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+posf+'"></embed></object>').css('display','inline');
        }
        if (mode=="play"){
          $("#flView #speaker_on_f"+posf).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+posf+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+posf+'"></embed></object>').css('display','inline');
        }
      }
      else {$("#addPr_f").show();}
      $("#flView #loadFrv_f"+posf).hide();            
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) {
        $("#flView #imgGtTr_f"+posf).attr('src','/images/common/vol_off.gif').attr('alt', '').attr('title', 'Произношение в настоящий момент недоступно');
    }     
  });
}//ListenWordFW

function ListenWordFW_tr(pElem,word, posf, mode){
 var dir=GetDir();
 dir=(trDirCode == '') ? [dir[1],dir[0]]:[trDirCode.split('-')[1],trDirCode.split('-')[0]];
          gaCustomVarsSet(dir);
        _gaq.push(['_trackEvent', 'Forvo', 'Listen', word]);
 $("#mfi_grammInfo #loadFrv_tf"+posf).show();    
 $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/UtilsService.asmx/CallForvo",
    data: "{ dirCode:'"+dir.join('-')+"', dKey:'"+word+"'}", 
    dataType: "json",
    success: function(res){
      var result=GetAjaxResult(res);      
      if (result.inForvo){ 
        if (mode=="stop"){
          $("#mfi_grammInfo #speaker_on_tf"+posf).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+posf+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+posf+'"></embed></object>').css('display','inline');
       }
        if (mode=="play"){
          $("#mfi_grammInfo #speaker_on_tf"+posf).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+posf+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+posf+'"></embed></object>').css('display','inline');
        }
        $("#mfi_grammInfo #lnkGtTr_tf"+posf).css('display','none');
      }
      else {$("#addPr_f").show();}
      $("#mfi_grammInfo #loadFrv_tf"+posf).hide();    
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) {
        $("#mfi_grammInfo #imgGtTr_tf"+posf).attr('src','/images/common/speaker_dis.png').attr('alt', '').attr('title', 'Произношение в настоящий момент недоступно');
    }     
  });
}//ListenWordFW_tr

function ListenWordFW_tr_list(pElem,word, posf, mode){
 $("#SiteContent_result .r_tr #imgGtTr_tmf"+posf).click(function (e){e.stopPropagation();});
 var dir=GetDir();
 dir=(trDirCode == '') ? [dir[1],dir[0]]:[trDirCode.split('-')[1],trDirCode.split('-')[0]];
          gaCustomVarsSet(dir);
        _gaq.push(['_trackEvent', 'Forvo', 'Listen', word]);
 $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/UtilsService.asmx/CallForvo",
    data: "{ dirCode:'"+dir.join('-')+"', dKey:'"+word+"'}", 
    dataType: "json",
    success: function(res){
      var result=GetAjaxResult(res);      
      if (result.inForvo){ 
        if (mode=="stop"){
          $("#speaker_on_tmf"+posf).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+posf+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15_blue&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15_blue&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+posf+'"></embed></object>').css('display','inline');
       }
        if (mode=="play"){
          $("#speaker_on_tmf"+posf).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+posf+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15_blue&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15_blue&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+posf+'"></embed></object>').css('display','inline');
        }
        $("#lnkGtTr_tmf"+posf).css('display','none');
      }
      else {$("#addPr_f").show();}
      $("#loadFrv_tmf"+posf).hide();         
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) {
        $("#imgGtTr_tmf"+posf).attr('src','/images/common/speaker_dis.png').attr('alt', '').attr('title', 'Произношение в настоящий момент недоступно');
    }     
  });
}//ListenWordFW
function ListenWordFW_tr_list_default(pElem,word, posf, mode){
 $("li .pronunciation #imgGtTr_tmf"+posf).click(function (e){e.stopPropagation();});
 var dir=(trDirCode == '') ? [dir[1],dir[0]]:[trDirCode.split('-')[1],trDirCode.split('-')[0]];
          gaCustomVarsSet(dir);
        _gaq.push(['_trackEvent', 'Forvo', 'Listen', word]);
 $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/UtilsService.asmx/CallForvo",
    data: "{ dirCode:'"+dir.join('-')+"', dKey:'"+word+"'}", 
    dataType: "json",
    success: function(res){
      var result=GetAjaxResult(res);      
      if (result.inForvo){ 
        if (mode=="stop"){
          $("#speaker_on_tmf"+posf).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+posf+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15_blue&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15_blue&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+posf+'"></embed></object>').css('display','inline');
       }
        if (mode=="play"){
          $("#speaker_on_tmf"+posf).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+posf+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15_blue&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15_blue&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+posf+'"></embed></object>').css('display','inline');
        }
        $("#lnkGtTr_tmf"+posf).css('display','none');
      }
      else {$("#addPr_f").show();}
      $("#loadFrv_tmf"+posf).hide();         
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) {
        $("#imgGtTr_tmf"+posf).attr('src','/images/common/speaker_dis.png').attr('alt', '').attr('title', 'Произношение в настоящий момент недоступно');
    }     
  });
}//ListenWordFW
function ListenWordFW1(pElem,word, posf, mode){
 var dir=(trDirCode == '') ? GetDir():trDirCode.split('-');
          gaCustomVarsSet(dir);
        _gaq.push(['_trackEvent', 'Forvo', 'Listen', word]);
$("#shView #lnkGtTr_f"+posf).css('display','none');
 $("#shView #loadFrv_f"+posf).show();    
 $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/UtilsService.asmx/CallForvo",
    data: "{ dirCode:'"+dir.join('-')+"', dKey:'"+word+"'}", 
    dataType: "json",
    success: function(res){
      var result=GetAjaxResult(res);      
      if (result.inForvo){ 
        if (mode=="stop"){
          $("#shView #speaker_on_f"+posf).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+posf+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=no&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+posf+'"></embed></object>').css('display','inline');
        }
        if (mode=="play"){
          $("#shView #speaker_on_f"+posf).prepend('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="24" height="21" id="player'+posf+'"><PARAM NAME="movie" VALUE="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"/><PARAM NAME="quality" VALUE="high"/><PARAM NAME="wmode" VALUE="transparent"/><PARAM NAME="allowScriptAccess" value="always" /><embed wmode="transparent" src="/images/audioplay/audioplay.swf?playerid=1&file='+result.mp3URL+'&auto=yes&amp;sendstop=yes&repeat=1&buttondir=/images/audioplay/buttons/promt15&bgcolor=0x000000&mode=playstop"  quality="high" width="24" height="21" allowScriptAccess="always"  align="top" TYPE="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" style="margin-top:2px;" name="player'+posf+'"></embed></object>').css('display','inline');
        }
        $("#shView #lnkGtTr_f"+posf).css('display','none');
      }
      else {$("#addPr_f").show();
      }
      $("#shView #loadFrv_f"+posf).hide();            
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) {
        $("#shView #imgGtTr_f"+posf).attr('src','/images/common/vol_off.gif').attr('alt', '').attr('title', 'Произношение в настоящий момент недоступно');
    }     
  });
}//ListenWordFW1
function showFeedbackForm(){
 if (topPopup =="fbPU"){ closeAllTopPopups(); return }
 else{closeAllTopPopups();}
 $("#feedbackForm").height(380);
 $("#feedbackForm").slideDown(600); 
 $("#keepClick").show();topPopup="fbPU"; 
 if (wasErr==true) {$("#tbOtzyv").val(eFB);}
 else {$("#tbOtzyv").val("");}
}
function hideFeedbackForm(){closeAllTopPopups();} 
function ShowFullWRefERRE(key, dir, pos, doDict){
 $("#megaFullInfo").dialog('open');
 $("#al_fullWR").hide();
 if (!getFullWRef){
 $("#mfi_translate").html('<span id="al_fullWR1" style="display:inline;"><img hspace="10" align="middle" src="/images/common/al_fullWR.gif"> Loading...</span>');
 $("#mfi_grammInfo").html('<span id="al_fullWR2" style="display:inline;"><img hspace="10" align="middle" src="/images/common/al_fullWR.gif"> Loading...</span>');
 var wrd = ((doDict == 1)||(doDict == 2))? rtrim(referStr) : rtrim($("#SiteContent_sourceText").val());
 var forGACV = wrd;
        _gaq.push(['_setCustomVar',1,'Template',$("#template").val(),3]);
        _gaq.push(['_setCustomVar',2,'SrcLang',langConvertor(dir[0]),3]);
        _gaq.push(['_setCustomVar',3,'TgtLang',langConvertor(dir[1]),3]);  
        _gaq.push(['_setCustomVar',4,'UserLang',langConvertor(GetDir()[0])+"-"+langConvertor(GetDir()[1]),3]);
if (doDict==2) {
    $("#megaFullInfo").dialog({title:'Dictionary References'});
        _gaq.push(['_trackEvent', 'Translate', 'Dict ', wrd, wrd.length]);
                }
else {
    $("#megaFullInfo").dialog({title:'Word forms'}); 
    if (doDict==0){_gaq.push(['_trackEvent', 'Translate', 'FWord', wrd, wrd.length]);}
    else {_gaq.push(['_trackEvent', 'Translate', 'Dict', wrd, wrd.length]);}
    } 
 wrd = encodeURIComponent(wrd).split("'").join("\\'");
 if (dir=="") {dir=GetDir();}

// if (dir=="de-ru") {dir="gr"}
// if (dir=="ru-de") {dir="rg"}
// if (dir=="es-ru") {dir="sr"}
// if (dir=="ru-es") {dir="rs"}
// if (dir=="ru-fr") {dir="rf"}
// if (dir=="it-ru") {dir="ir"}

 var shortDir=dir.split('-');
 if (shortDir[0]=='es') shortDir[0]='s';
 if (shortDir[1]=='es') shortDir[1]='s';
 if (shortDir[0]=='de') shortDir[0]='g';
 if (shortDir[1]=='de') shortDir[1]='g';
 shortDir[0] = shortDir[0].charAt(0);
 shortDir[1] = shortDir[1].charAt(0);
 
 var iLang = "en"; 
 var copyHeadWord="";
 $("#shortRLink a").focus();
 isd = "false"; if (doDict!=0) {isd="true";}
 $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/TranslationService.asmx/GetFullWordInfo",
    //data: "{ word:'"+ wrd +"', dirCode:'"+ dir +"', lang:'"+ iLang +"', key:'"+key+"', ts:'"+TS+"', isDict:'"+isd+"'}", 
    data: "{ word:'"+ wrd +"', dirCode:'"+ shortDir[0]+ shortDir[1] +"', lang:'"+ iLang +"', key:'"+key+"', ts:'"+TS+"', isDict:'"+isd+"'}", 
    dataType: "json",
    timeout: 60000,
    success: function(res){
      var result=GetAjaxResult(res);
      TS = "MainSite";
      var tmp = "";
      tmp = result.resStr;
      code = result.resCode;
      if (result.isComplete==false) { 
        $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "/services/TranslationService.asmx/GetFullWordInfoRestInfo",
        data: "{ resCode:'"+ code +"'}", 
        dataType: "json",
        async: false,
        timeout: 5000,
        success: function(res){
            var result=GetAjaxResult(res);      
            tmp = tmp + result.resStr;           
            if (result.isComplete==false) { 
            $.ajax({
            type: "POST",
            contentType: "application/json; charset=utf-8",
            url: "/services/TranslationService.asmx/GetFullWordInfoRestInfo",
            data: "{ resCode:'"+ code +"'}", 
            dataType: "json",
            timeout: 5000,
            async: false,
            success: function(res){
                  var result = GetAjaxResult(res);
                  tmp = tmp + result.resStr;           
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) { 
                result.isComplete=true;                    
            }      
            });
            }
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) { 
            result.isComplete=true;                    
        }      
        });
      }
      getFullWRef=true; fullWordInfo=1;
      $("#mfi_translate").html(tmp);
      $("#al_fullWR").hide();
      $("#al_fullWR1").hide();
      $("#al_fullWR2").hide();
      if (doDict == 2) {$('#mfi_translate').css('width','480px'); $('#mfi_grammInfoDiv').css('display','none'); }
      else{$('#mfi_translate').removeAttr('style'); $('#mfi_grammInfoDiv').removeAttr('style');}
      $("#mfi_translate .ref_cform").click(function(){$("#mfi_translate .ref_cform").css('background','Transparent');$("#mfi_translate .r_tr").css('background','Transparent');$(this).css('background','#e0efd9'); $(".cforms_result .trsl").hide();$(".ref_cform .v_img img").attr("src","/images/common/tr_cl.gif");$(this).next(".trsl").show();$(this).children(".v_img").children("img").attr("src","/images/common/tr_op.gif");$("#mfi_grammInfo").html($(this).children(".ref_source").children().html() ); });
      $("#mfi_translate .r_tr").click(function(){$("#mfi_translate .ref_cform").css('background','Transparent');$("#mfi_translate .r_tr").css('background','Transparent');$(this).css('background','#e0efd9');$("#mfi_grammInfo").html($(this).find(".r_rs").children().html() ); });
      $("#cforms_result"+pos+" .v_img img").attr("src","/images/common/tr_op.gif");
      $("#cforms_result"+pos+" #trsl"+pos).show();
      $("#flView").children("#cforms_result"+pos).children(".ref_cform").css('background','#e0efd9');
      $("#mfi_grammInfo").html($("#flView").children("#cforms_result"+pos).children(".ref_cform").children(".ref_source").children(".sf_sr").html());
      },
      error: function (XMLHttpRequest, textStatus, errorThrown) {         
        $("#SiteContent_MA_trasnlform_divResult").hide();
        $("#divFullWordResult").show(); 
        $("#divFullWordResult").html(XMLHttpRequest);
      }
   }); 
 }
 else{ 
   $("#megaFullInfo").dialog('open');
   $("#cforms_result"+pos+" .v_img img").attr("src","/images/common/tr_op.gif");
   $("#cforms_result"+pos+" #trsl"+pos).show();
   $("#mfi_translate .ref_cform").css('background','Transparent');
   $("#flView").children("#cforms_result"+pos).children(".ref_cform").css('background','#e0efd9');
   $("#mfi_grammInfo").html($("#flView").children("#cforms_result"+pos).children(".ref_cform").children(".ref_source").children(".sf_sr").html());
   fullWordInfo=1; 
 }
}//ShowFullERRE

function ShowFullWRef(key, dir, pos){ 
  if (!getFullWRef){
    var wrd=rtrim($("#SiteContent_sourceText").val());
    var wfga = wrd;
    wrd = encodeURIComponent(wrd).split("'").join("\\'");
    if (dir=="") {dir=GetDir();}
    var shortDir=dir.split('-');
    if (shortDir[0]=='es') shortDir[0]='s';
    if (shortDir[1]=='es') shortDir[1]='s';
    if (shortDir[0]=='de') shortDir[0]='g';
    if (shortDir[1]=='de') shortDir[1]='g';
    shortDir[0] = shortDir[0].charAt(0);
    shortDir[1] = shortDir[1].charAt(0);
    var iLang = "en"; 
    var copyHeadWord="";
    $("#shortRLink a").focus();
    $("#al_fullWR").show();
    $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "/services/TranslationService.asmx/GetFullWordInfo",
        //data: "{ word:'"+ wrd +"', dirCode:'"+ dir +"', lang:'"+ iLang +"', key:'"+key+"', ts:'"+TS+"', isDict:'false'}", 
        data: "{ word:'"+ wrd +"', dirCode:'"+ shortDir[0] + shortDir[1] +"', lang:'"+ iLang +"', key:'"+key+"', ts:'"+TS+"', isDict:'false'}", 
        dataType: "json",
        success: function(res){
        var result=GetAjaxResult(res);   
        TS = "MainSite";
        var tmp = "";
        tmp = result.resStr;
        code = result.resCode;
        if (result.isComplete==false) 
        { 
            $.ajax({
            type: "POST",
            contentType: "application/json; charset=utf-8",
            url: "/services/TranslationService.asmx/GetFullWordInfoRestInfo",
            data: "{ resCode:'"+ code +"'}", 
            dataType: "json",
            async: false,
            success: function(result){
                result=GetAjaxResult(result);      
                tmp = tmp + result.resStr;           
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) { 
                result.isComplete=true;                    
            }      
         });
        }
        getFullWRef=true; fullWordInfo=1;
        $("#divFullWordResult").html( copyHeadWord + tmp);
        $("#al_fullWR").hide();
        $("#translationResult").hide();
        $("#divFullWordResult").show(); 
         _gaq.push(['_setCustomVar',1,'Template',$("#template").val(),3]);
        _gaq.push(['_setCustomVar',2,'SrcLang',langConvertor(dir[0]),3]);
        _gaq.push(['_setCustomVar',3,'TgtLang',langConvertor(dir[1]),3]);  
        _gaq.push(['_setCustomVar',4,'UserLang',langConvertor(GetDir()[0])+"-"+langConvertor(GetDir()[1]),3]);
        _gaq.push(['_trackEvent', 'Translate', 'FWord', wfga, wfga.length]);
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) { 
        alert("Error ShowFullWRef");
        $("#translationResult").hide();
        $("#divFullWordResult").show(); 
        }
     });
  }
  else
  { 
   $("#translationResult").hide();
   $("#divFullWordResult").show();
   fullWordInfo=1; 
  }
}//ShowFull
function linkToDict(reg){
    _gaq.push(['_trackEvent', 'Link', 'Dictionary', reg]); 
}
function ShowShortWRef(){
   fullWordInfo=0;
   $("#divFullWordResult").hide(); 
   $("#translationResult").show();
}
function ParseFull(tmp){
 $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/UtilsService.asmx/ParseFullWordDiv",
    data: "{ divStr:'"+ tmp +"'}", 
    dataType: "json",
    success: function(result){   
    var res=GetAjaxResult(result);            
      parsedFullRes = res;
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) {         
      parsedFullRes = "";
    }
 });
}//parseFull
function RefreshAdv(){$("#testIA").attr('src', '/Components/advert.html');}
function RefreshAdv_inRes()
   {
 
     $("#inResultlFrame").attr('src', '/Components/advert_ir_ot.html');
   
    
   }
function RefreshAdvTop()
   {
    $("#topAdvF").attr('src', '/Components/advertTop.html');
   }
function currWinHeight (){
    var windowWidth, windowHeight;
       if (self.innerHeight) { // all except Explorer
               windowWidth = self.innerWidth;
               windowHeight = self.innerHeight;
       } else if (document.documentElement && document.documentElement.clientHeight) { // Explorer 6 Strict Mode
               windowWidth = document.documentElement.clientWidth;
               windowHeight = document.documentElement.clientHeight;
       } else if (document.body) { // other Explorers
               windowWidth = document.body.clientWidth;
               windowHeight = document.body.clientHeight;
       }
    return windowHeight;
}
function showInResAdv(w,h){
if ($('#autoInfo').offset().top+h > currWinHeight()) { $("#AdvInResult").css('top',currWinHeight()-$('#sourceBlock').offset().top-h-80+'px')}
$("#AdvInResult").css('left','-10px');
$("#inResultlFrame").attr('width',w).attr('height',h);
$("#AdvInResult").fadeIn(4500);
}
function setPollCookie(name, value, timeout){  
            var expires = new Date();
            if (timeout=="") timeout=24;
            var keep=expires.getTime()+(timeout*60*60*1000);
            expires.setTime(keep);
            var curCookie = name + "=" + value + ((expires) ? "; expires=" + expires.toGMTString() : "")+  "; path=/";
            document.cookie = curCookie;
            }
var pp9=null;
function VotedPoll(namePoll, timeout){
clearTimeout(pp9);
setPollCookie(namePoll, 'voted', timeout);
$("#AdvInResult").hide();
$("#AdvInResult").removeAttr('style');
}
function ClosedPoll(namePoll,timeout){
clearTimeout(pp9);
setPollCookie(namePoll, 'closed', timeout);
$("#AdvInResult").hide();
$("#AdvInResult").removeAttr('style');
}
function hideInResAdv(){
$("#AdvInResult").fadeOut(500);
$("#AdvInResult").removeAttr('style');
}
var customEvents = {
	            _handlers : {},
	            subscribe: function(event, handler){
	               if(typeof(this._handlers[event])=="undefined")
	                   this._handlers[event]=[];
	               this._handlers[event].push(handler);
	            },
	            fire:function(event, data){
	                if(this._handlers[event]){
	                    for(var i = 0; i < this._handlers[event].length; i++){
	                        this._handlers[event][i](data);
	                    }
	                }
	            }
	    };

function cookiePolicy(){
if (!getCookie('CookieConsent')) {
$( "body" ).prepend( '<div id="CookieConsent"><a href="javascript:cookieConsent();" class="okBtt">OK</a> This website uses cookies to ensure you get the best experience on our website. <a href="/About/Privacy/#cookies">More info</a> </div>');
}
}
function cookieConsent() { setCookie('CookieConsent','acceptCookiesConsent',1000,'/'); 
$('#CookieConsent').hide();}
</script>

    

<div class="wrapp">
<div style="width:0;height:0;">

      <!-- Online-translator.com_Fly -->
<script type='text/javascript'>
    GA_googleFillSlot("Online-translator.com_Fly");
</script>
      
      
                                        <!-- Tranlate.Ru_topLine -->
                                        <script type='text/javascript'>
                                          //  GA_googleFillSlot("Translate.Ru_topLine");
                                        </script>
</div>
    <form method="post" action="" id="aspnetForm" ClientID="aspnetForm">
<div class="aspNetHidden">
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTEzMjExNDA0NTdkZG/pLoMqMkmIn5pBetQh5qJLOhPoW96ny5M6Adlnby7C" />
</div>

<script type="text/javascript">
//<![CDATA[
var theForm = document.forms['aspnetForm'];
if (!theForm) {
    theForm = document.aspnetForm;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>
</script>


<script src="/WebResource.axd?d=ZGIf0rCP5ygc-Ao4fbY5AcIQ1YPA27IJp0Otg58IFjUKqebrJVkgFeKOFSgCywz53pXXXw9vkn79w2Qud95whs9dZnDKnG3_bf0AtukN2js1&amp;t=635370178656103379" type="text/javascript"></script>


<script type="text/javascript">
//<![CDATA[
function CallServerDTO(arg, context){ WebForm_DoCallback('ctl00$topUser1',arg,ReceiveServerDataDTO,context,null,false);}//]]>
</script>

<div class="aspNetHidden">

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="CA0B0334" />
	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEdAAs/v2pM1JjDvGz5zB4OLFIYKHc9eMhmfeT6rbI0B7mC79MrMVNDK4CFcw9MgSJCDIwuEzoX77m8uck5QT26cDPWkzTg3Y4u9pN9hvV8VdVVc/u0A4I6RmIMH0XY+R0CHos/zNCCw8Egw/YAusT8y2UjcGdRKQeFmGKTGwPHlWScghNzle397g/3cWfRcmMItuNKU5S6PKHjKRIwujAF2dZ2BGFYTB1Z8sdjZPerQwzvUUOR9MmShWSBiIY4tWzqi6o04qUM9nSfKH1D/TWAjgJX" />
</div>
        <div id="topMenu"> 
    	<div id="tmOther">  
    	

<script language="Javascript"type="text/javascript">
    function showLangs() {
        if (topPopup == "flPU") { closeAllTopPopups(); return }
        else { closeAllTopPopups(); }
        $("#flags").slideDown(600); $("#keepClick").show(); topPopup = "flPU";
    }
    function hideLangs() { closeAllTopPopups(); } 
</script>

<span id="currentLang">
<a href="javascript:showLangs();">

          <span class="sprite_ico flags_ico flag_en" title="English"></span>
          English <svg version="1.1" id="Capa_1" x="0px" y="0px" width="10px" height="10px" viewBox="0 0 404.308 404.309" style="enable-background:new 0 0 404.308 404.309;" xml:space="preserve"><g><path d="M0,101.08h404.308L202.151,303.229L0,101.08z" fill="#FFFFFF"/></g></svg><!--<img src="/images/common/ext_fff.gif"  border="0" alt="change" title="change"/>-->
          
  </a>
  </span>
  <div id="flags" style="display:none; z-index:500;">
   <br/>
    <a href="/flags.aspx?prmtlang=ru&from=/default.aspx"><span class="sprite_ico flags_ico flag_ru" title="Русский"></span></a> <a href="/flags.aspx?prmtlang=ru&from=/default.aspx">Русский</a><br/>
    <a href="/flags.aspx?prmtlang=en&from=/default.aspx"><span class="sprite_ico flags_ico flag_en" title="English"></span></a> <a href="/flags.aspx?prmtlang=en&from=/default.aspx">English</a><br/>
    <a href="/flags.aspx?prmtlang=de&from=/default.aspx"><span class="sprite_ico flags_ico flag_de" title="Deutsch"></span></a> <a href="/flags.aspx?prmtlang=de&from=/default.aspx">Deutsch</a><br/>
    <a href="/flags.aspx?prmtlang=fr&from=/default.aspx"><span class="sprite_ico flags_ico flag_fr" title="Français"></span></a> <a href="/flags.aspx?prmtlang=fr&from=/default.aspx">Français</a><br/>
    <a href="/flags.aspx?prmtlang=es&from=/default.aspx"><span class="sprite_ico flags_ico flag_es" title="Español"></span></a> <a href="/flags.aspx?prmtlang=es&from=/default.aspx">Español</a><br/>
    <a href="/flags.aspx?prmtlang=pt&from=/default.aspx"><span class="sprite_ico flags_ico flag_pt" title="Português"></span></a> <a href="/flags.aspx?prmtlang=pt&from=/default.aspx">Português</a>
      <br style=" line-height:20px;"/>
      <span class="close1" style=" float:right; margin-top:10px;"><a href="javascript:hideLangs();">Close</a></span><br/>

    <!---->
</div>
    	<div id="contactDiv"><span id="feedbackBlock"><a href="javascript:showFeedbackForm();"><span class="sprite_ico mail_ico" title="Feedback" title="Feedback"/></a></span>
    	<div id="feedbackForm">
    	<br />
    	<div id="pFeedBack1" style="overflow:hidden;">
    <span id="pFeedBack1_f1">
    <a href="javascript:hideFeedbackForm();"><span class="close"></span></a>
      <h4 id="handleFB"><span id="lFBHeader">Send feedback to the developers</span></h4>
        <span id="lOtpravleno" class="bigText" style="display:none;">Your message has been sent</span>
           <input name="ctl00$ignore" type="hidden" id="ignore" />
        <span id="fFeedbackFld">      
            <span id="lfbTextInfo">Your comment with the translation and all parameters will be delivered to the developers.</span><br /><br />
            <label class="dt"><span id="lPochtAdr">Your E-mail:</span></label>
            <div class="input" style="width: 180px;">
            <input name="ctl00$tbPochtAdr" type="text" id="tbPochtAdr" onChange="changedField(&#39;0&#39;);" />
            </div>
            <input name="ctl00$tbEmail" type="text" id="tbEmail" />
            <label class="dt"><span id="lImya">Name: </span></label>
            <div class="input" style="width: 180px;">
            <input name="ctl00$tbImya" type="text" id="tbImya" onChange="changedField(&#39;1&#39;);" />
            </div>
            <label class="dt"><span id="lOtzyv">Message text:</span></label>
            <div class="input_txt" style="width: 380px;">
            <textarea name="ctl00$tbOtzyv" rows="2" cols="20" id="tbOtzyv" class="send_win" onChange="changedField(&#39;2&#39;);">
</textarea><br />
            </div>
                 </span>  
           <p><input id="bAjaxFeedback" type="button" value=' Send' class="transit" style="width:110px;" onclick="javascript: SendFeedback();" /></p>
 
               <div id="loading" style="display:none; position:absolute; text-align:center; background:white; left:80px; top:50px; border:dotted 1px gray; height:30px; width:210px; padding:20px">
          Please wait...                 
                <img src="/images/common/al_fullWR.gif" width="15" height="15" />
            </div>                  
    </span>       
    </div>
    <input name="ctl00$changedField" type="hidden" id="changedField" />
    	</div>
    	</div>
    	</div>
    	<div id="passportMenu">
    	    
<script>
 
</script>
<div id="topUser1_panelUnLoggedUserMenu">
	
<script language="javascript">
    function UserLogin() {
        if (topPopup == "passPU") { closeAllTopPopups(); return }
        else { closeAllTopPopups(); }
        $("#forLogin").slideDown(600);
        if (!loadLoginFrame) {
            document.getElementById("topUser1_LoginFrame").src = "http://passport.translate.ru/en/loginform/761869942/ukac2mjmkqidayzao453tccb/signin/?&backURL=http://www.online-translator.com/";
        }
        $("#keepClick").show();
        topPopup = "passPU";
    }
    function closeLogin() {
        closeAllTopPopups();
        document.getElementById("topUser1_LoginFrame").src = "http://passport.translate.ru/en/loginform/761869942/ukac2mjmkqidayzao453tccb/signin/?&backURL=http://www.online-translator.com/";
    }
</script>
       <span id="forLogin">
            <span id="forLoginTop" style="display:none; border:1px solid red; height:5px;"  ></span>
            
            <div id="forLoginMain">
            <div style="height:26px;"><a href="javascript:;" onclick="closeLogin();"><span class="close"></span></a></div>
            <iframe id="topUser1_LoginFrame" height="360" frameborder="0" scrolling="no" style="background: transparent!important" allowTransparency="true"></iframe>
            </div>
            
       </span>
    <span class="welcome">
        <a id="topUser1_hlRegister" href="http://passport.translate.ru/en/Anketa/?backURL=http://www.online-translator.com/&amp;aCode=761869942" target="_blank">Register </a>
    <!--
        <span id="topUser1_labelWelcomeTitle">Welcome</span>
        -->
    </span>
    <span class="welcome">
     | <a href="javascript:;" onclick="javascript:UserLogin();"> 
        <span id="topUser1_hlSighIn">Sign in</span>
       </a>
       
    </span>

</div>

<script type="text/ecmascript">
    function GETDTO() {
        dateObj = new Date();
        var tmp = dateObj.getTimezoneOffset();
        tmp = tmp * (-1);
        var hlp = "notOk";
        if (hlp != "ok") { CallServerDTO(tmp, ""); }
    }
    function ReceiveServerDataDTO(rValue) {
    }
</script>
    	</div>
    </div>
    <div id="topAdvert" style=" padding-top:3px;">
    <script>
        var urlLocalPath = "/default.aspx"
    </script>
    
   <center>
   <iframe id="topAdvF1" allowtransparency="true" frameborder="0" height="90px" name="topAdvF1" scrolling="no" src="/Components/advert_t100_ot.html?rmz=2025439282&amp;tmpl=&amp;dir=&amp;pLang=en" style="border: 0; background: transparent!important" width="100%"></iframe>
    </center>
    <script type="text/javascript">
        var temp4adv = "general"; var dir4adv = 'ar';
        var myObj4 = new function () {
            this.handler = function (data) {
                temp4adv_rf = (document.getElementById('template')) ? document.getElementById('template').value : 'general';
                temp4adv_rf = temp4adv_rf.toLowerCase(); $("#topAdvF1").attr('src', '/Components/advert_t100_ot.html?rmz=' + Math.floor(Math.random() * 1000000) + '&rmp=' + Math.floor(Math.random() * 1000000) + '&tmpl=' + temp4adv_rf + '&dir=' + GetDirAdv());
            };
            customEvents.subscribe("onTranslate", this.handler);
        }
     </script> 
          
    </div>
    <script>        
        if (document.getElementById('google_ads_div_Translate.Ru_TopLine_inPage_ad_container')) { setTimeout("document.getElementById('google_ads_div_Translate.Ru_TopLine_inPage_ad_container').style.display='block';", 1); }
    </script>
    <div id="wpTO" style="background-color:green; height: 100%!important; left: 0; margin: 0; padding: 0; position: absolute; top: 0; width: 100%; display:none;"></div>







 
    <!-- содержимое -->

    <!--[if lt IE 9]>
        <div style="margin:20px auto 0 auto; max-width: 1000px; min-width: 1000px;">
            <div style="float:right; height:19px; width:18px; background:url(/images/ie/mw_rtc.png) repeat-x;"></div>
            <div style="float:left; height:19px; width:16px; background:url(/images/ie/mw_ltc.png) repeat-x; "></div>
            <div style="background:url(/images/ie/mw_tbg.png) repeat-x; height:19px; margin:0 16px;"></div>
        </div>
<![endif]-->

<script>
    TS = "MainSite";
    //TS = "MainSite";
    theForm.setAttribute("action", "/default.aspx");
    if ("" == "1") { needReloadAdv = false };
</script> 

<style>
#topAdvert{min-height:95px;}
#morePhrases, #topPhrasesBlock,#topSamplesBlock, #phrases_loader,#topPhrases, #allPhrases, #PhrasesBlock, #explanatoryBLock {display:none;}

#logotext h2 {margin-left:194px;}
 </style>
<div id="contentBlock">
    <header>
 
        <div id="likes" style="display:none;float:right; text-align:right; padding-top:2px; margin-top:0px; padding-left:0px">
        <style type="text/css" media="screen">
              #custom-tweet-button a {display: block;padding: 2px 5px 2px 20px; background: url('http://a4.twimg.com/images/favicon.ico') 1px center no-repeat; border: 1px solid #ccc;}        
         </style>
           <div style="float:right;">
                    <g:plusone size="medium" href="http://www.translate.ru"></g:plusone>
                    <script type="text/javascript">
                        window.___gcfg = { lang: 'en' };
                        (function () {
                            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                            po.src = 'https://apis.google.com/js/plusone.js';
                            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
                        })();
                    </script>
           </div>
           
            <script type="text/javascript">
                $(document).ready(function () { setTimeout('$("#likes").fadeIn("slow");', 100); });
           </script>
           <div style="width: 88px;float:right;">
                        <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.translate.ru" data-text="Переводчик и словарь онлайн от PROMT" data-via="translate_ru" data-lang="en">tweet</a>
                        <script>                            !function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = "//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); } } (document, "script", "twitter-wjs");</script>

            </div>
           <div style="float:right;">
           			    <iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href=http%3A%2F%2Fwww.translate.ru&amp;send=false&amp;layout=button_count&amp;width=165&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:130px; height:21px;" allowTransparency="true"></iframe>
            </div>
       </div>
       
        <a href="/" id="goHome"><img src="/images/common/logo.gif" border="0" align="left" /></a><div id="hat"></div>
        <div style="display:inline-block;" id="logotext"> <h1> Online-Translator.Com </h1><h2>Translator <a onclick="javascript:linkToDict('Top_link');" href="/dictionary/" id="dictLink">Go to dictionary</a></h2> 
        </div>
    </header>
    <section id="directionSection">
    <div id="SiteContent_templatesBlock" onclick="cancel_bubbling(event)" onmouseup="cancel_bubbling(event)" onmousedown="cancel_bubbling(event)"><div id="shAllTmpl" style="float:right; margin:7px; line-height: 10px;"><a href="javascript:;" onclick="javascript:showAllTemplates();"></a></div>
<div id="keepClickTemplate"></div>
<div id="allTemplatesBlock"><a href="javascript:;" onclick="javascript:hideAllTemplates();"><div class="close"></div></a><div id="allList">
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/auto/"><span class="templateName" id="ab_auto">Detect topic</span><span class="templateDesctiption">Automatic detection of the topic of the text.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/School/"><span class="templateName" id="ab_School">Education: Languages</span><span class="templateDesctiption">Translation of grammar materials, dialogues, topics, exercises from textbooks.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Humanities/"><span class="templateName" id="ab_Humanities">Education: Human Sci</span><span class="templateDesctiption">Law, history, literature, economy, religion.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Natural/"><span class="templateName" id="ab_Natural">Education: Natural Sci</span><span class="templateDesctiption">Chemistry, physics, medicine, biology, ecology.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/PersonalCorrespondence/"><span class="templateName" id="ab_PersonalCorrespondence">Communication: Personal correspondence</span><span class="templateDesctiption">Communication in instant messengers, chats, on dating sites, personal correspondence.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/BusinessCorrespondence/"><span class="templateName" id="ab_BusinessCorrespondence">Communication: Business correspondence</span><span class="templateDesctiption">Official correspondence on business situations.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/LoveAndDating/"><span class="templateName" id="ab_LoveAndDating">Communication: Love and Dating</span><span class="templateDesctiption">Search for a partner on dating sites, chatting, love and friendship.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Social/"><span class="templateName" id="ab_Social">Communication: Social networks</span><span class="templateDesctiption">Interface of social networks Twitter, Facebook, Google +. Communication through them.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Computer/"><span class="templateName" id="ab_Computer">Technics: Computers</span><span class="templateDesctiption">Technical translation: software ingeneering, PC structure, Internet, products of Microsoft and Windows documentation, electronics, digital household appliances.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Automotive/"><span class="templateName" id="ab_Automotive">Technics: Cars</span><span class="templateDesctiption">Technical translation: description of cars, instructions, ads about buy and sale cars, news from auto centers.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Gadget/"><span class="templateName" id="ab_Gadget">Technics: Gadgets</span><span class="templateDesctiption">Technical translation: description of new personal mobile devices (movile phones, tablets, e-books, netbooks, ultrabooks, navigators, portable audio and video players).</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Travels/"><span class="templateName" id="ab_Travels">Traveling</span><span class="templateDesctiption">Booking hotels, air and train tickets, visa application forma, invitations, application forms.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Onlines/"><span class="templateName" id="ab_Onlines">Online-shopping</span><span class="templateDesctiption">Descriptions of methods of delivery and payment in Online shops, registered mails, service messages and interface elements, goods description.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Business/"><span class="templateName" id="ab_Business">Business</span><span class="templateDesctiption">Credits, accounting, exchange transactions and financial operations, taxation, logistics, legal documentation, banking activity.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Sport/"><span class="templateName" id="ab_Sport">Sport</span><span class="templateDesctiption">Game results, sport news, texts about the championships and sports events.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Football/"><span class="templateName" id="ab_Football">Football</span><span class="templateDesctiption">Football terms, names of UEFA World Cup 2014 participants and stadiums.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Culinary/"><span class="templateName" id="ab_Culinary">Cookery</span><span class="templateDesctiption">Translation of culinary recipes and menu of restaurants.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Medicine/"><span class="templateName" id="ab_Medicine">Health</span><span class="templateDesctiption">Diseases symptoms and treatment, information about medical institutions, literature about a healthy lifestyle, special literature and scientific articles about medicine.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/Music/"><span class="templateName" id="ab_Music">Songs</span><span class="templateDesctiption">Translation of songs, articles about the theory of music and musical genres.</span></a></div>
    <div class="aboutTemplateL"><a onclick="javascript:return false;" href="/t/General/"><span class="templateName" id="ab_General">Other</span><span class="templateDesctiption">All the rest.</span></a></div>
  </div>
  <div id="fCol"></div>
  <div id="sCol"></div>
  <div id="tCol"></div>
  <div id="user_template_span">
    <h3>Suggest your topic</h3>
    <p>The most popular variants will be added in new versions of the website.</p><span style="display:none;"><script>
          //createUserTemplatesBlockT();
        </script></span><label for="utemplates_u">Your topic</label><br><span style="display:block;"><div class="input1" style="width: 180px;display: inline-block;"><input type="text" name="utemplatesi" id="utemplatesi" value="" onfocus="javascript:checkedUT();" style="background-color:White;" maxlength="50"></div><input name="Ok" id="addUTBttmId" type="button" value="Send" onclick="javascript:saveUTemplates();" class="addUTBttm"></span></div>
</div>
<div class="templateHeader" id="autoTempl">
  <div class="templatesBlock">
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/auto/"><span class="templateName" id="auto">Detect topic</span><span class="templateDesctiption">Automatic detection of the topic of the text.</span></a></div>
    <div class="btwTemplate"></div>
  </div><span class="blockTemplateName">Detect topic</span></div>
<div class="templateHeader" id="schoolTempl">
  <div class="templatesBlock">
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/School/"><span class="templateName" id="School">Education: Languages</span><span class="templateDesctiption">Translation of grammar materials, dialogues, topics, exercises from textbooks.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Humanities/"><span class="templateName" id="Humanities">Education: Human Sci</span><span class="templateDesctiption">Law, history, literature, economy, religion.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Natural/"><span class="templateName" id="Natural">Education: Natural Sci</span><span class="templateDesctiption">Chemistry, physics, medicine, biology, ecology.</span></a></div>
    <div class="btwTemplate"></div>
  </div><span class="blockTemplateName ext">Education: Languages</span></div>
<div class="templateHeader" id="relationsTempl">
  <div class="templatesBlock">
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/PersonalCorrespondence/"><span class="templateName" id="PersonalCorrespondence">Communication: Personal correspondence</span><span class="templateDesctiption">Communication in instant messengers, chats, on dating sites, personal correspondence.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/BusinessCorrespondence/"><span class="templateName" id="BusinessCorrespondence">Communication: Business correspondence</span><span class="templateDesctiption">Official correspondence on business situations.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/LoveAndDating/"><span class="templateName" id="LoveAndDating">Communication: Love and Dating</span><span class="templateDesctiption">Search for a partner on dating sites, chatting, love and friendship.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Social/"><span class="templateName" id="Social">Communication: Social networks</span><span class="templateDesctiption">Interface of social networks Twitter, Facebook, Google +. Communication through them.</span></a></div>
    <div class="btwTemplate"></div>
  </div><span class="blockTemplateName ext">Communication: Personal correspondence</span></div>
<div class="templateHeader" id="technicsTempl">
  <div class="templatesBlock">
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Computer/"><span class="templateName" id="Computer">Technics: Computers</span><span class="templateDesctiption">Technical translation: software ingeneering, PC structure, Internet, products of Microsoft and Windows documentation, electronics, digital household appliances.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Automotive/"><span class="templateName" id="Automotive">Technics: Cars</span><span class="templateDesctiption">Technical translation: description of cars, instructions, ads about buy and sale cars, news from auto centers.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Gadget/"><span class="templateName" id="Gadget">Technics: Gadgets</span><span class="templateDesctiption">Technical translation: description of new personal mobile devices (movile phones, tablets, e-books, netbooks, ultrabooks, navigators, portable audio and video players).</span></a></div>
    <div class="btwTemplate"></div>
  </div><span class="blockTemplateName ext">Technics: Computers</span></div>
<div class="templateHeader" id="travelTempl">
  <div class="templatesBlock">
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Travels/"><span class="templateName" id="Travels">Traveling</span><span class="templateDesctiption">Booking hotels, air and train tickets, visa application forma, invitations, application forms.</span></a></div>
    <div class="btwTemplate"></div>
  </div><span class="blockTemplateName">Traveling</span></div>
<div class="templateHeader" id="onlinesTempl">
  <div class="templatesBlock">
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Onlines/"><span class="templateName" id="Onlines">Online-shopping</span><span class="templateDesctiption">Descriptions of methods of delivery and payment in Online shops, registered mails, service messages and interface elements, goods description.</span></a></div>
    <div class="btwTemplate"></div>
  </div><span class="blockTemplateName">Online-shopping</span></div>
<div class="templateHeader" id="otherTempl">
  <div class="templatesBlock">
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Business/"><span class="templateName" id="Business">Business</span><span class="templateDesctiption">Credits, accounting, exchange transactions and financial operations, taxation, logistics, legal documentation, banking activity.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Sport/"><span class="templateName" id="Sport">Sport</span><span class="templateDesctiption">Game results, sport news, texts about the championships and sports events.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Football/"><span class="templateName" id="Football">Football</span><span class="templateDesctiption">Football terms, names of UEFA World Cup 2014 participants and stadiums.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Culinary/"><span class="templateName" id="Culinary">Cookery</span><span class="templateDesctiption">Translation of culinary recipes and menu of restaurants.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Medicine/"><span class="templateName" id="Medicine">Health</span><span class="templateDesctiption">Diseases symptoms and treatment, information about medical institutions, literature about a healthy lifestyle, special literature and scientific articles about medicine.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/Music/"><span class="templateName" id="Music">Songs</span><span class="templateDesctiption">Translation of songs, articles about the theory of music and musical genres.</span></a></div>
    <div class="btwTemplate"></div>
    <div class="aboutTemplate"><a onclick="javascript:return false;" href="/t/General/"><span class="templateName" id="General">Other</span><span class="templateDesctiption">All the rest.</span></a></div>
    <div class="btwTemplate"></div>
  </div><span class="blockTemplateName ext">Other</span></div><span class="selDiv seiDivTmpl" style="margin-right: 20px; margin-top: 16px;" onclick="javascript:showAllTemplates();"><div id="curPTSTopicBlock_old" onclick="javascript:showAllTemplates();" style="border:1px solid #ffffff; overflow: hidden; float:left;"><select id="curPTSTopic" onclick="javascript:$(this).prop('disabled', true);showAllTemplates();"><option value="auto" selected>Detect topic</option>
      <option value="School">Education: Languages</option>
      <option value="Humanities">Education: Human Sci</option>
      <option value="Natural">Education: Natural Sci</option>
      <option value="PersonalCorrespondence">Communication: Personal correspondence</option>
      <option value="BusinessCorrespondence">Communication: Business correspondence</option>
      <option value="LoveAndDating">Communication: Love and Dating</option>
      <option value="Social">Communication: Social networks</option>
      <option value="Computer">Technics: Computers</option>
      <option value="Automotive">Technics: Cars</option>
      <option value="Gadget">Technics: Gadgets</option>
      <option value="Travels">Traveling</option>
      <option value="Onlines">Online-shopping</option>
      <option value="Business">Business</option>
      <option value="Sport">Sport</option>
      <option value="Football">Football</option>
      <option value="Culinary">Cookery</option>
      <option value="Medicine">Health</option>
      <option value="Music">Songs</option>
      <option value="General">Other</option></select></div></span><div style="clear:both;"></div><script>
    
    buildAllTemplatesList(countListTemplCol);
    if (window.location.pathname.indexOf('siteTranslation')==-1) {initTemplate('auto')};
    
    var curOpenTemplate = '';

    $(".aboutTemplate").hover(function(event){
    $(this).find('img').attr('src', '/images/ticons/'+$(this).find('img').attr('tmplname')+'_c.gif')
    },
    function(event){
    $(this).find('img').attr('src', '/images/ticons/'+$(this).find('img').attr('tmplname')+'.gif')
    }
    )
     $(".aboutTemplateL").hover(function(event){
    $(this).find('img').attr('src', '/images/ticons/'+$(this).find('img').attr('tmplname')+'_c.gif')
    },
    function(event){
    $(this).find('img').attr('src', '/images/ticons/'+$(this).find('img').attr('tmplname')+'.gif')
    }
    )

//    $(".templateHeader").toggle(
//    function(event){
//    $(".templatesBlock").hide();
//    $(".templateHeader").removeClass('tempSelectTemplate');
//    //$("#keepClick").show();
//    $("#keepClickTemplate").show();
//    $(this).find(".templatesBlock").show();
//    $(this).addClass('tempSelectTemplate');
//    },
//    function(event){
//    $(".templatesBlock").hide();
//    $(this).removeClass('tempSelectTemplate');
//    //$("#keepClick").hide();
//    $("#keepClickTemplate").hide();
 //   });
 
    $(".templateHeader").click(
    function(event){
    if (curOpenTemplate == ''){
          $(".templateHeader").removeClass('tempSelectTemplate');
          $("#keepClickTemplate").show();
          //alert('1');
          $("#keepClickTemplateTop").show();
          //alert('2');
          $(this).find(".templatesBlock").show();
          $(this).addClass('tempSelectTemplate');
          curOpenTemplate = $(this).attr('id');
          //alert($(this).attr('id'));
          }
    else {
          if ($(this).attr('id')== curOpenTemplate){
                $(".templatesBlock").hide();
                $("#keepClickTemplate").hide();
                $("#keepClickTemplateTop").hide(); 
                curOpenTemplate = '';
                 $(".templateHeader").removeClass('tempSelectTemplate');
                }
          else {
                 $("#"+curOpenTemplate+"").find(".templatesBlock").hide();
                 $(".templateHeader").removeClass('tempSelectTemplate');
                 $(this).find(".templatesBlock").show();
                 $(this).addClass('tempSelectTemplate');
                 curOpenTemplate = $(this).attr('id');
                
                }
          
          }
    });
 
 
 

    $(".aboutTemplate").click(function(event){
    if ($("#template").val()!=$(this).find('.templateName').attr('id')) {GA_eTrack();}
    $("#template").val($(this).find('.templateName').attr('id'));
    $(this).parent().next().html($(this).find('.templateName').html());
    $(".templateHeader").removeClass('curentBlockTemplate')
    $(this).parent().parent().addClass('curentBlockTemplate');
    $(".aboutTemplate").removeClass('curSelectTempl');
    $(".aboutTemplateL").removeClass('curSelectTempl');
    $("#ab_"+$(this).find('.templateName').attr('id')).parent().addClass('curSelectTempl');
    $(this).addClass('curSelectTempl');
    if ($('body').is('#SiteContent_sourceText')){
    if (location.pathname.indexOf("t/")>=0){
        if (rtrim($("#SiteContent_sourceText").val())!="") {GetTranslationCBK(1);}
        else {location.href="http://"+location.hostname+"/#!/"+$(this).find('.templateName').attr('id')+"/"}
        }
    else{
        setHash();
        if (rtrim($("#SiteContent_sourceText").val())!="") {GetTranslationCBK(1);}
        }
    }
    if ($('body').is('#sourceURL')){
      if (rtrim($("#sourceURL").val())!="") {GetTranslationCBK(1);}
    }
    $('#curPTSTopicBlock').html($('.aboutTemplate #' + $(this).find('.templateName').attr('id')).html());
      
      
    });
    
    $(".aboutTemplateL").click(function(event){
    if ($("#template").val()!=$(this).find('.templateName').attr('id').substr(3)) {GA_eTrack();}
    var aId = $(this).find('.templateName').attr('id').substr(3);
    $("#template").val(aId);
    $(".aboutTemplate").removeClass('curSelectTempl');
    $(".aboutTemplateL").removeClass('curSelectTempl');
    $(".templateHeader").removeClass('curentBlockTemplate');
    initTemplate(aId);
    $(this).addClass('curSelectTempl');
    $('.aboutTemplate #'+aId).parent().addClass('curSelectTempl');
    hideAllTemplates();
    if ($('#SiteContent_sourceText').length!=0){
    if (location.pathname.indexOf("t/")>=0){
        if (rtrim($("#SiteContent_sourceText").val())!="") {GetTranslationCBK(1);}
        else {location.href="http://"+location.hostname+"/#!/"+aId+"/"}
        }
    else{
        setHash();
        if (rtrim($("#SiteContent_sourceText").val())!="") {GetTranslationCBK(1);}
        }
    }
    if ($('#sourceURL').length!=0){
      if (rtrim($("#sourceURL").val())!="") {GetTranslationCBK(1);}
    }
    //$('#curPTSTopicBlock').html($('.aboutTemplate #' + $(this).find('.templateName').attr('id').substr(3)).html());
    $('#curPTSTopic').val($(this).find('.templateName').attr('id').substr(3));
    if ($('#curPTSTopic').val()=='auto') {$('#curPTSTopic :selected').html($('#ab_auto').html());}
    });
    
function checkTempl(in_tmplVal){
switch (in_tmplVal.toLowerCase()){ 
        case "sms": 
          in_tmplVal = 'PersonalCorrespondence';
          break;
        case "personalia": 
          in_tmplVal = 'General';
        break;	 
        default: 
           in_tmplVal = in_tmplVal;
    }
return in_tmplVal;
}

    function initTemplate(ctemp){
    ctemp = checkTempl(ctemp);
    $('.aboutTemplate #'+ctemp).parent().parent().addClass('curSelectTempl');
    $('.aboutTemplateL #ab_'+ctemp).parent().addClass('curSelectTempl');
    $("#template").val(ctemp);
    $("#curPTSTopic").val(ctemp);
    $('.aboutTemplate #'+ctemp).parent().parent().parent().parent().addClass('curentBlockTemplate');
    $('.aboutTemplate #'+ctemp).parent().parent().parent().next().html($('.aboutTemplate #'+ctemp).html());
    
    }

    
    function GA_eTrack(){
    _gaq.push(['_setCustomVar',1,'Template',$("#template").val(),3]);
    _gaq.push(['_setCustomVar',2,'SrcLang',langConvertor(GetDir()[0]),3]);
    _gaq.push(['_setCustomVar',3,'TgtLang',langConvertor(GetDir()[1]),3]);  
    _gaq.push(['_setCustomVar',4,'UserLang',langConvertor(GetDir()[0])+"-"+langConvertor(GetDir()[1]),3]);
    _gaq.push(['_trackEvent', 'Linguistic', 'Template', 'Change']);
    }

    function buildAllTemplatesList(cltc){
    var elements = $('#allList .aboutTemplateL');
    for(i=0;i<cltc;i++){ $('#fCol').append(elements[i]); if (i!=cltc-1) {$('#fCol').append('<div class="btwTemplate"></div>');}}
    for(i=cltc;i<cltc*2-2;i++){ $('#sCol').append(elements[i]); if (i!=cltc*2-1) { $('#sCol').append('<div class="btwTemplate"></div>');}}
    for(i=cltc*2-2;i<elements.length;i++){ $('#tCol').append(elements[i]);  $('#tCol').append('<div class="btwTemplate"></div>');}
    }


 
  </script></div>
       <input type="hidden" name="template" id="template" value="auto" />
    <script>
    function templateFromCookies() {
        var tmplCookie = "auto";
        var cString = getCookie('selDirText');
        if (cString) {
            var allCookie = cString.split("&");
            for (i = 0; i < allCookie.length; i++) {
                if (allCookie[i].substring(0, 11) == 'selectedTpl') tmplCookie = allCookie[i].substring(12);
            }
            if ((cString.indexOf("detectedTpl")==-1)&&(tmplCookie == "General")) {tmplCookie = "auto";}
            SetTemplates(tmplCookie);
        }
    }
    function SetTemplates(tmplVal) {
        tmplVal = checkTempl(tmplVal);
        $(".aboutTemplate").removeClass('curSelectTempl');
        $(".aboutTemplateL").removeClass('curSelectTempl');
        $(".templateHeader").removeClass('curentBlockTemplate');
        initTemplate(tmplVal);
        $(this).addClass('curSelectTempl');
        $('.aboutTemplate #' + tmplVal).parent().addClass('curSelectTempl');
        $("#ab_" + tmplVal).parent().addClass('curSelectTempl');
        $('#curPTSTopic').val(tmplVal);
    } //SetTemplates
    </script>
    <script>
      if ("" != '') { SetTemplates(""); }
      else {if (decodeURIComponent(location.hash) == '') { templateFromCookies(); } }
    </script>
      <div id="dir_set">
      <div class="trop_site"> 
        <select name="ctl00$SiteContent$dirs$rLangReserv" id="SiteContent_dirs_rLangReserv" style="display:none;">
	<option value="ar" class="au en ru de fr">Arabic</option>
	<option value="ca" class="au en ru">Catalan</option>
	<option value="zhcn" class="au en ru de fr">Chinese (Simplified)</option>
	<option selected="selected" value="en" class="au ru de fr es pt it ja fi el ar ca tr zhcn kk ko">English</option>
	<option value="fi" class="au en ru de fr">Finnish</option>
	<option value="fr" class="au en ru de es it pt ja fi ar kk tr zhcn ko">French</option>
	<option value="de" class="au en ru fr es it pt zhcn kk ja tr fi ar ko">German</option>
	<option value="el" class="au en ru">Greek</option>
	<option value="it" class="au en ru de fr">Italian</option>
	<option value="ja" class="au en ru de fr">Japanese</option>
	<option value="kk" class="au en ru de fr">Kazakh</option>
	<option value="ko" class="au en ru de fr">Korean</option>
	<option value="pt" class="au en ru de fr">Portuguese</option>
	<option value="ru" class="au en de fr es pt it ja fi el ar ca tr kk zhcn ko">Russian</option>
	<option value="es" class="au en ru de fr">Spanish</option>
	<option value="tr" class="au en ru de fr">Turkish</option>
</select>

      <span style="float: left;" id="dmenu" onclick="cancel_bubbling(event)" onmouseup="cancel_bubbling(event)" onmousedown="cancel_bubbling(event)"> 
      <span class="selDiv" > 
     <div style="border:1px solid #ffffff; overflow: hidden; float:left;">
       
        <select name="ctl00$SiteContent$dirs$sLang" id="SiteContent_dirs_sLang">
	<option value="au" class="en">Detect language</option>
	<option value="ar" class="ru">Arabic</option>
	<option value="ca" class="ru">Catalan</option>
	<option value="zhcn" class="ru">Chinese (Simplified)</option>
	<option value="en" class="de">English</option>
	<option value="fi" class="ru">Finnish</option>
	<option value="fr" class="en">French</option>
	<option value="de" class="en">German</option>
	<option value="el" class="ru">Greek</option>
	<option value="it" class="en">Italian</option>
	<option value="ja" class="en">Japanese</option>
	<option value="kk" class="ru">Kazakh</option>
	<option value="ko" class="ru">Korean</option>
	<option value="pt" class="en">Portuguese</option>
	<option value="ru" class="en">Russian</option>
	<option value="es" class="en">Spanish</option>
	<option value="tr" class="ru">Turkish</option>
</select>
       
     </div>
        </span> 
        <span style="padding: 4px; display: inline; float: left;"> <a href="javascript:;" onclick="javascript:RevertDir('SiteContent_dirs_sLang','SiteContent_dirs_rLang');" id="chBtt_a"><img src="/images/common/ch_ico_16_d.gif" alt="Swap languages" name="ch_bttn" width="22" height="23" border="0" align="top" id="ch_bttn" title="Swap languages"/> </a> </span> 
        <span id="rLang_span" class="selDiv">
        <div style="border:1px solid #ffffff; overflow: hidden; float:left;">
        
        <select name="ctl00$SiteContent$dirs$rLang" id="SiteContent_dirs_rLang" onchange="ChangedLang();">
	<option value="ar" class="au en ru de fr">Arabic</option>
	<option value="ca" class="au en ru">Catalan</option>
	<option value="zhcn" class="au en ru de fr">Chinese (Simplified)</option>
	<option selected="selected" value="en" class="au ru de fr es pt it ja fi el ar ca tr zhcn kk ko">English</option>
	<option value="fi" class="au en ru de fr">Finnish</option>
	<option value="fr" class="au en ru de es it pt ja fi ar kk tr zhcn ko">French</option>
	<option value="de" class="au en ru fr es it pt zhcn kk ja tr fi ar ko">German</option>
	<option value="el" class="au en ru">Greek</option>
	<option value="it" class="au en ru de fr">Italian</option>
	<option value="ja" class="au en ru de fr">Japanese</option>
	<option value="kk" class="au en ru de fr">Kazakh</option>
	<option value="ko" class="au en ru de fr">Korean</option>
	<option value="pt" class="au en ru de fr">Portuguese</option>
	<option value="ru" class="au en de fr es pt it ja fi el ar ca tr kk zhcn ko">Russian</option>
	<option value="es" class="au en ru de fr">Spanish</option>
	<option value="tr" class="au en ru de fr">Turkish</option>
</select>
        
        </div>
    <input type="hidden" id="chLangs" name="chLangs" value="false" />

        </span> 
        </span>


 
        <div id="btr_web">
          <input type="button" class="translit" id="bTranslate" onclick="javascript:GetTranslationCBK(1);" value="Translate" name="bTranslate">
        </div>
      </div>
    </div>
     <div id="viewModeBlock">
        <div class="viewModeList">
            <div class="viewModeEl curSelectTempl">
              <span class="vert_menu_ico sprite_ico vm_ico_menu"></span>
              <span class="viewModeName" id="vertBl">From left to right</span>
              <span class="viewModeDesctiption">The result of translation appears to the right of the source text field.</span>
            </div>
            <div class="btwTemplate"></div>
            <div class="viewModeEl">
              <span class="horiz_menu_ico sprite_ico vm_ico_menu"></span>
              <span class="viewModeName" id="horizBl">From the top down</span>
              <span class="viewModeDesctiption">The result of translation appears below the source text field. </span>
            </div>
            <div class="btwTemplate"></div>
            <div class="viewModeEl">
              <span class="auto_menu_ico sprite_ico vm_ico_menu"></span>
              <span class="viewModeName" id="autoBl">(detected automatically)</span>
              <span class="viewModeDesctiption">The view mode switches over depending on the screen resolution</span>
            </div>
	    </div>
	    <span id="viewModeStatus">
            <span class="vert_ico sprite_ico vm_ico"></span>
            View mode <br/>
            <span id="vmDes"></span>
        </span> 
     </div>
<div> &nbsp;</div>
    </section> 
    
    <section id="rightSection" style="clear:both;">
        <div id="Adv240">
       
            <center>
           <iframe id="testIA" width="300px" scrolling="no" height="250px" frameborder="0" src="/Components/advert_300mid_ot.html?rmz=2025439282&amp;tmpl=&amp;dir=&amp;pLang=en" style="border: 0; background: transparent!important"></iframe>
            </center>
            <SCRIPT TYPE="text/javascript">
                var temp4adv300 = "general"; var dir4adv300 = 'ar';
                var myObj2 = new function () {
                    this.handler = function (data) {
                        temp4adv300_rf = (document.getElementById('template')) ? document.getElementById('template').value : 'general';
                        temp4adv300_rf = temp4adv300_rf.toLowerCase();
                        $("#testIA").attr('src', '/Components/advert_300mid_ot.html?rmz=' + Math.floor(Math.random() * 1000000) + '&rpm=' + Math.floor(Math.random() * 1000000) + '&tmpl=' + temp4adv300_rf + '&dir=' + GetDirAdv());
                    };
                    customEvents.subscribe("onTranslate", this.handler);
                }
            </SCRIPT>
                   
        </div>
        <div id="blogRSSRight" class="rightBlog"></div>
    </section>
    
    <section id="mainSection">
      <div id="sourceBlock" class="vert">
        <div id="source" onclick="cancel_bubbling(event)" onmouseup="cancel_bubbling(event)" onmousedown="cancel_bubbling(event)">
            <div id="ttSourceText">Type a word, a text or a website address for translation
            </div><div id="btt"></div>
            <!--<div id="clearSourceBtt"></div>-->
            <textarea name="ctl00$SiteContent$sourceText" id="SiteContent_sourceText" onkeyup="textLimit();" spellcheck="false" onchange="textLimit();" onselect="javascript:captureRefers();" class="expand101-2400" onfocus="javascript:hideToolTip();"></textarea>
             <!-- speech -->
            <div id="disMicro"><img id="dis_mic" src="/images/speech/mic_dis.png"><span class="speech_info"><p>Select the source language</p></span></div>
            <button type="button" id="start_button" onclick="addGAEvent(); startButton(event);" style="display:none;">
            <img id="start_img" src="/images/speech/mic.png" alt="Start">
            <span class="speech_info" id="info">
                <p id="info_start">Click on the microphone icon and begin speaking for as long as you like.</p>
                <p id="info_speak_now">Speak now.</p>
                <p id="info_no_speech">No speech was detected. You may need to adjust your microphone settings.</p>
                <p id="info_no_microphone" style="display:none">No microphone was found. Ensure that a microphone is installed and that  microphone settings are configured correctly.</p>
                <p id="info_allow">Click the "Allow" button above to enable your microphone.</p>
                <p id="info_denied">Permission to use microphone was denied.</p>
                <p id="info_blocked">Permission to use microphone is blocked. To change, go to  chrome://settings/contentExceptions#media-stream</p>
                <p id="info_upgrade">Web Speech API is not supported by this browser. Upgrade to Chrome version 25 or later.</p>
            </span></button>
        </div>
        <div id="editBttns">
            <span class="editBttn" id="copyBttn" ><a href="javascript:Copy1();"><span class="copy_ico sprite_ico editBttn20" title="Copy text"></span></a></span>
            <span class="editBttn" id="pasteBttn"><a href="javascript:Paste1();" ><span class="paste_ico sprite_ico editBttn20" title="Insert text "></span></a></span>
            <span class="editBttn" id="clearBttn"><a href="javascript:Delete1();" ><span class="clear_ico sprite_ico editBttn20" title="Clear"></span></a></span>
            <span class="editBttn" id="spellBttn"><a href="javascript:Spelling();"><span class="spell_ico sprite_ico editBttn25" title="Check spelling"></span></a></span>
            <span class="editBttn" id="dictBttn"><a href="javascript:showRefers();"><span class="dict_ico sprite_ico editBttn25" title="Dictionary"></span></a></span>
            <span class="editBttn" id="vkBttn" style="padding-left:30px;"><a href="javascript:callVK();"><span class="keyboard_ico sprite_ico editBttn36" title="Virtual keyboard"></span></a></span>
         </div>
      </div>
       <script>
           function hideToolTip() {
               $('#btt').slideUp(300); $('#ttSourceText').slideUp(300);
           }
           $('#SiteContent_sourceText').focus();
           setTimeout('if ((blogPos == "top")&&(tt_count<11)){$("#btt").slideDown(100);$("#ttSourceText").slideDown(100);}', 500);
       </script>
     
      <div id="resultBlock" class="vert">  
        <div id="result">
          <div id="blurResult"><img src="/images/common/ajax-loader.gif" border="0" /></div>
          <div id="blogRSS" class="topBlog">
            <a href="http://www.promt.com/media/news/58715/"><div class="blogHeader">New PROMT 12: a universal corporate translation solution </div><div class="blogData">10/4/2016</div><div class="blogPost">PROMT, the leading&nbsp;&nbsp;provider of automated translation solutions for desktop, mobile, enterprise server and Internet, released a new version of company’s flagship product for corporate client</div></a>          
            <div id="moreBlog">Read More
                    <a target="_blank" href="http://blog.translate.ru"   rel="alternate" type="application/rss+xml"><span class="rss_ico sprite_ico moreBlogBttn" title="RSS"></span></a>
                    <a target="_blank" href="http://twitter.com/translate_ru"><span class="twitter_ico sprite_ico moreBlogBttn" title="Follow Translate.Ru on Twitter"></span></a>
                    <a target="_blank" href="http://www.facebook.com/Translate.Ru"><span class="fb_ico sprite_ico moreBlogBttn" title="Translate.Ru на Facebook"></span></a>
                    
                    <a target="_blank" href="http://translateru.livejournal.com/"><span class="lj_ico sprite_ico moreBlogBttn" title="ЖЖ"></span></a>
            </div>
         </div>
         <div id="editResultWin_test">
         <textarea spellcheck="false" id="editResult_test" onfocus="javascript:showEditTranslationWin(1);" ></textarea>
         <div id="spellBttms_test" style="text-align:center; padding:10px">
            <input type="button" onclick="javascript:hideEditTranslationWin(1);sendGAEditEvents('ok')" value="Done " class="transit_">
            &nbsp;&nbsp;&nbsp;&nbsp; 
            <input type="button" onclick="javascript:hideEditTranslationWin(0);sendGAEditEvents('cancel')" value="Cancel " class="cancelBtt"></div>
         </div>
         <div id="translationResult"></div>
         <div id="divFullWordResult"></div>
          <div id="topSamplesBlock">
            <div id="SamplesBlock">
                <h3 class="dictBlockHeader">Examples <span id="totalSmplCount10"></span></h3>
                <div id="topSamples" class="js-expandtxt"></div>
                <div id="moreSamples" class="morePhrases"><a href="javascript:;" id="linkMoreSamples" onclick="ShowFullDictSampl();">Show all</a></div>
            </div>
          </div>
          <div id="topPhrasesBlock">
            <div id="PhrasesBlock">
                <h3 class="dictBlockHeader">Phrases <span id="totalPhrCount10"></span></h3>
                <div id="topPhrases" class="js-expandtxt"></div>
                <div id="morePhrases" class="morePhrases"><a href="javascript:;" id="linkMorePhrases" onclick="ShowFullDictPhr();">Show all</a></div>
            </div>
          </div>
          <div id="explanatoryBLock">
            <h3 class="dictBlockHeader">Definitions</h3>
          </div>
         <div id="autoInfo">Translation is done </div>
         <div id="adviseIconDiv" style="display:none;position:relative;"></div>
         <div id="adviseWindow" style="display: none;">
                <img src="/images/common/yellwar_icon.gif" align="left" style=" padding:5px 18px 40px 5px;">
                <span id="adviseText"></span>
         </div>
         <div id="socialServices">
         <div id="ttt"></div>
          <div id="AdvInResult">
            <div><iframe id="inResultlFrame" name="inResultlFrame" width="400px" height="200px" scrolling="no" style="border:0px" src="" scrolling="no" frameborder="0" ></iframe>
        <script>
           // var myObj3 = new function(){
	         //     this.handler = function(data){$("#inResultlFrame").attr('src', '/Components/advert_ir_ot.html');};
	         //     customEvents.subscribe("onTranslate", this.handler);
	        //}
	        </script>
      </div>
        </div>
        <!-- edit translation result-->
        <div id="resultFunction">
            <span class="editBttn" id="clearResBtt"><a href="javascript:Delete2();" ><span class="clear_ico sprite_ico editBttn20" title="Clear"></span></a></span>
            <span class="editBttn" id="editResBtt" ><a href="javascript:;" onclick="javascript:showEditTranslationWin(1);"><span class="edit_ico sprite_ico editBttn20" title="Edit translation"></span></a></span>
            <span class="editBttn" id="printResBtt" ><a href="javascript:;" onclick="javascript:showPrintWin();"><span class="print_ico sprite_ico editBttn25" title="Print translation"></span></a></span>
        </div>
         <!-- rating-->
         <div id="rating">
            <span id="trest">Rate translation </span><img src="/images/common/starblank.gif" border="0"  align="absmiddle" id="rst1" onmouseout="javascript:clRating();" onclick="javascript:sendRating(1);" onmouseover="javascript:shRating(1);" class="vt" /><img src="/images/common/starblank.gif" border="0"  align="absmiddle" id="rst2" onmouseout="javascript:clRating();" onclick="javascript:sendRating(2);" onmouseover="javascript:shRating(2);" class="vt"/><img src="/images/common/starblank.gif" border="0" align="absmiddle" id="rst3" onmouseout="javascript:clRating();" onclick="javascript:sendRating(3);" onmouseover="javascript:shRating(3);"  class="vt" /><img src="/images/common/starblank.gif" border="0" align="absmiddle" id="rst4" onmouseout="javascript:clRating();" onclick="sendRating(4)" onmouseover="javascript:shRating(4);" class="vt"  /><img src="/images/common/starblank.gif" border="0"  align="absmiddle" id="rst5" onmouseout="javascript:clRating();" onclick="javascript:sendRating(5);" onmouseover="javascript:shRating(5);" class="vt" /><br/>
         </div>
         <!-- saveLink-->
            <a id="linkGL" href="javascript:;" onclick="javascript:getTranslationLinks();">Share translation</a> <a href="javascript:;" onclick="javascript:getTranslationLinks();"><img id="linkGL_img"  src="/images/common/ss_icns_bt.png" height="16" border="0"  align="top" /></a>
            
            <span id="getLinkSpan">
             <br /><div><a href="javascript:closeTranslationLinks();" class="close_"><span class="sprite_ico editBttn20 closer"></span></a><br/></div>               
                <div id="loadingLink"><img src="/images/common/al_fullWR.gif" width="15" height="15" /> please, wait... </div>
                <span id="saveLinkResult">
                <b style="clear:both;padding-right:30px;"> Direct link to the translation: </b><br/>
                 <div class="input_txt1">
                <input type="text"  id="dTrLink" name="dTrLink" value="http://www.translate.ru/"  onfocus="this.select()" readonly="readonly"/>
                </div>
                <div id="t_likes"></div>
                <div style=" clear:both; height:1px; overflow:hidden;"></div>
                <b style="padding-right:9px;">The code for embedding into your website or blog </b>
                <div class="input_txt1" style="height:120px;">
                <textarea style="" rows="3" id="fTrLink" name="fTrLink" onfocus="this.select()" readonly="readonly"> </textarea><br/>
                </div>
                </span>
            </span>
            <br/>
         <!-- addTranslation-->
         <a id="linkAT" href="javascript:;" onclick="javascript:showwAddTranslation();">Suggest your translation </a> <a href="javascript:;" onclick="javascript:showwAddTranslation();" title="Suggest your translation"><span class="sprite_ico editBttn15 at_ico" id="linkATPic"></span></a>
            <span id="ATSpan">
            <div><a href="javascript:closewAddTranslation();" class="close_"><span class="sprite_ico editBttn20 closer"></span></a></div>
            <div style="display:none;" id="servATText"><b><img hspace="10" align="middle" src="/images/common/al_fullWR.gif"/>Saving the translation </b></div> 
            <div style="margin-top:10px;" id="ATForm"><b>Your version of translation: </b><br/>
            <div class="input_txt2" style="width: 100%;  max-width: 335px; height:107px; float:right;">
                <textarea rows="3" id="addTranslationText" name="addTranslationText" ></textarea>
            </div>
                <span id="errAddTranslation" style="color:red;height:10px; display:block; width:320px; clear: right;"></span><br/>
                <input type="button" value="Send" id="addTranslationBttn" onclick="javascript:saveUTranslation();"/></div>
            </span>
            <br/>
         </div>
       </div>
      </div>
      <div style="clear:left">&nbsp;</div>
    </section> 
    
    <!-- new adv 728x200 06.2014  -->
    
    <section id="4advSection">
    <div id="adv4Blocks">
        <div class="adv4ElGr">
           <div id="advBlock1" class="bottom_sBlock1 advElem1">
        <div class="adv4El" id="adv4El1">
                <div class="adv4ElTop"><a href="/Download/">Download</a></div>
                <div class="adv4ElImg"><a href="/Download/"><img src="/images/advico/advico1.gif" title="Download a translator program for your computer!" alt="Download a translator program for your computer!" /></a></div>
                <div class="adv4ElText"><a href="/Download/">Choose a translator program for your computer!</a></div>
                
      </div>
      </div>
        </div>
        <div class="vLineDiv"></div>
        <div class="adv4ElGr">
            <div id="advBlock2" class="bottom_sBlock2 advElem1">
        <div class="adv4El" id="adv4El2">
                <div class="adv4ElTop"><a href="/Tools/">For developers</a></div>
                <div class="adv4ElImg"><a href="/Tools/"><img src="/images/advico/advico2.gif" title="Integration into the office solutions and API for developers." /></a></div>
                <div class="adv4ElText"><a href="/Tools/">Integration into the office solutions and API for developers.</a></div>
                
            </div>
        </div>           
        </div>
    
        <div class="vLineDiv"></div>
        <div class="adv4ElGr">
            <div id="advBlock3" class="bottom_sBlock3 advElem1">
        <div class="adv4El" id="adv4El3">
                <div class="adv4ElTop"><a href="/Mobile/">Mobile</a></div>
                <div class="adv4ElImg"><a href="/Mobile/"><img src="/images/advico/advico3.gif" title="Mobile"  alt="Download our translator on the mobile device"  /></a></div>
                <div class="adv4ElText"><a href="/Mobile/">For mobile devices. Learn the convenient way of using our translator on the mobile device.</a></div>
                
      </div>
        </div>
        </div>
        <div class="vLineDiv"></div>
        <div class="adv4ElGr">
            <div id="advBlock4" class="bottom_sBlock4 advElem3">
			          <div class="adv4El"  id="adv4El4">
                  <div class="adv4ElTop"><a href="http://www.onehourtranslation.com/affiliate/promt" target="_blank">Human translation</a></div>
                  <div class="adv4ElImg"><a href="http://www.onehourtranslation.com/affiliate/promt" target="_blank"><img src="/images/advico/advico4b.gif" title="Order the professional human translation" /></a></div>
                  <div class="adv4ElText"><a href="http://www.onehourtranslation.com/affiliate/promt" target="_blank"><b>OneHourTranslation.Com</b><br/>Order the professional human translation.</a></div>
                  
              </div>
               </div>
        </div>
        
    </div>
    </section>
    <section id="bottomAdvSection">
        <div id="bottomAdv">
        <div>
        <!-- Online-Translator_bottom -->
        <script type='text/javascript'>
          GA_googleFillSlot("Online-Translator_bottom");
        </script>
        </div>                       
        </div>
    </section>
     <div style="clear:both">&nbsp;</div>
    </div>
       <div id="serviceErrorSFr"  style="display:none;">
                <img src="/images/common/yellwar_icon.gif" align="left" style=" padding:5px 18px 40px 5px;">
                <span id="Span2">Сервис временно недоступен. Если ошибка повторится, сообщите о ней разработчикам через форму обратной связи.</span>
    </div>
    <div id="serviceErrorSFl"  style="display:none;">
                <img src="/images/common/yellwar_icon.gif" align="left" style=" padding:5px 18px 40px 5px;">
                <span id="Span1">Сервис временно недоступен. Если ошибка повторится, сообщите о ней разработчикам через форму обратной связи.</span>
    </div>
    <div id="serviceErrorSFt"  style="display:none;">
                <img src="/images/common/yellwar_icon.gif" align="left" style=" padding:5px 18px 40px 5px;">
                <span id="alertTxt">Сервис временно недоступен. Если ошибка повторится, сообщите о ней разработчикам через форму обратной связи.</span>
    </div>

<script type="text/javascript">
$(document).ready(function () {
    if ("" == "1") { location.hash = ""; GetTranslationCBK(0); }
});
function setHash() {
    var strHash = "!/" + $("#template").val() + "/";
    location.hash = strHash;
    GetNewAdvert();
}
function getDir4Hash() {
    var nameSDir = "";
    var nameRDir = "";
    var dirCode = GetDir();
    switch (dirCode.charAt(0)) {
        case "r":
            nameSDir = 'ru';
            break;
        case "e":
            nameSDir = 'en';
            break;
        case "g":
            nameSDir = 'de';
            break;
        case "f":
            nameSDir = 'fr';
            break;
        case "s":
            nameSDir = 'es';
            break;
        case "i":
            nameSDir = 'it';
            break;
        case "p":
            nameSDir = 'pt';
            break;
        case "o":
            nameSDir = 'fi';
            break;
        case "a":
            nameSDir = 'au';
            break;
        case "j":
            nameSDir = 'jp';
            break;
        default:
            nameSDir = '';
    }
    switch (dirCode.charAt(1)) {
        case "r":
            nameRDir = 'ru';
            break;
        case "e":
            nameRDir = 'en';
            break;
        case "g":
            nameRDir = 'de';
            break;
        case "f":
            nameRDir = 'fr';
            break;
        case "s":
            nameRDir = 'es';
            break;
        case "i":
            nameRDir = 'it';
            break;
        case "p":
            nameRDir = 'pt';
            break;
        case "o":
            nameRDir = 'fi';
            break;
        case "j":
            nameRDir = 'jp';
            break;
        default:
            nameRDir = '';
    }
    return nameSDir + "-" + nameRDir
}
function getParams4SavedLink(trid) {
  $.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/services/TranslationService.asmx/GetSavedTranslation",
    data: "{ trid:'" + trid + "'}",
    dataType: "json",
    success: function (res) {
        var result = GetAjaxResult(res);
        trUID = result.uid;
        setDirFromParam(result.dirCode.charAt(0), result.dirCode.charAt(1));
        $("#SiteContent_sourceText").val(decodeURIComponent(result.source));
        $(".aboutTemplate").removeClass('curSelectTempl');
        $(".aboutTemplateL").removeClass('curSelectTempl');
        $(".templateHeader").removeClass('curentBlockTemplate');
        initTemplate(result.template);
        $(this).addClass('curSelectTempl');
        $('.aboutTemplate #' + result.template).parent().addClass('curSelectTempl');
        $("#ab_" + result.template).parent().addClass('curSelectTempl');
        GetTranslationCBK(1);
        GetNewAdvert();
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) {
        alert("GetSavedTranslation Error!");
    }
  });
}
function getTemplatesList() {
   $("#allTemplatesBlock .aboutTemplateL .templateName").each(function (n) { templList[n] = $(this).attr('id').substring(3); })
}
getTemplatesList();
function getParams() {
    var curSource = '';
    var curTemplParam = '';
    var curDirParam = '';
    var curSLang = '';
    var curRLang = '';
    var strParam = decodeURIComponent(location.hash);
    if (strParam != '') { //  в хеше стопка параметров, обрабатываем
        strParam = strParam.substring(1)
        if (strParam.substring(0, 2) == "!/") {
            strParam = strParam.substring(2);
            var params = strParam.split('/');
            if (params[0] == 'links') { //это сохраненный перевод
                getParams4SavedLink(params[1]);
            }
            else {//это не из базы. Парсим параметры дальше
                for (var i = 0; i < params.length; i++) {
                    //Это текст?  
                    if (params[i].substring(0, 1) == "#") {//если есть # - это тект для перевода
                        curSource = params[i].substring(1);
                        $("#SiteContent_sourceText").val(curSource);
                    }
                    else {
                        //Это направление?  
                        if ((params[i].length == 5) && (params[i].charAt(2) == '-')) {//5 символов, 3-ий = "-", плюс надо проверить наличие напарвлений
                            switch (params[i].substring(0, 2)) {
                                case "ru":
                                    curSLang = 'r';
                                    break;
                                case "en":
                                    curSLang = 'e';
                                    break;
                                case "de":
                                    curSLang = 'g';
                                    break;
                                case "fr":
                                    curSLang = 'f';
                                    break;
                                case "es":
                                    curSLang = 's';
                                    break;
                                case "it":
                                    curSLang = 'i';
                                    break;
                                case "pt":
                                    curSLang = 'p';
                                    break;
                                case "au":
                                    curSLang = 'a';
                                    break;
                                case "jp":
                                    curSLang = 'j';
                                    break;
                                case "fi":
                                    curSLang = 'o';
                                    break;
                                default:
                                    curSLang = '';
                            }
                            switch (params[i].substring(3, 5)) {
                                case "ru":
                                    curRLang = 'r';
                                    break;
                                case "en":
                                    curRLang = 'e';
                                    break;
                                case "de":
                                    curRLang = 'g';
                                    break;
                                case "fr":
                                    curRLang = 'f';
                                    break;
                                case "es":
                                    curRLang = 's';
                                    break;
                                case "it":
                                    curRLang = 'i';
                                    break;
                                case "pt":
                                    curRLang = 'p';
                                    break;
                                case "jp":
                                    curRLang = 'j';
                                    break;
                                case "fi":
                                    curSLang = 'o';
                                    break;
                                default:
                                    curRLang = '';
                            }
                            if ((curSLang != '') && (curRLang != '')) {
                                setDirFromParam(curSLang, curRLang);
                            }
                        }
                        else {
                            //Это тематика?  
                            params[i] = checkTempl(params[i]);
                            for (k = 0; k < templList.length; k++) {
                                if (params[i] == templList[k]) { curTemplParam = params[i]; }
                            }
                            if (curTemplParam != "") {//если есть совпадения с массивом тематик
                                $(".aboutTemplate").removeClass('curSelectTempl');
                                $(".aboutTemplateL").removeClass('curSelectTempl');
                                $(".templateHeader").removeClass('curentBlockTemplate');
                                initTemplate(curTemplParam);
                                $(this).addClass('curSelectTempl');
                                $('.aboutTemplate #' + curTemplParam).parent().addClass('curSelectTempl');
                                $("#ab_" + curTemplParam).parent().addClass('curSelectTempl');
                                GetNewAdvert();
                            }
                            else {
                                //alert("Это не параметр, а какая-то лажа... Игнорируем");TODO почистить этот параметр
                            }
                        }
                    }
                }
            }
        }
        else {//  в хеше только текст для перевода           
            if ("" == "1") { location.hash = ""; } //старые формы перевода посылают в хеше всякое разное не то.
            else { curSource = strParam; $("#SiteContent_sourceText").val(curSource); }
        }
        if (curSource != '') { GetTranslationCBK(1); }
    }
    else {
    }
} //getParams()

function setDirFromParam(slang, rlang) {
    var selct1 = document.getElementById("SiteContent_dirs_sLang");
    var selct2 = document.getElementById("SiteContent_dirs_rLang");
    for (i = 0; i < selct1.options.length; i++) {
        if (selct1.options[i].value == slang) { selct1.selectedIndex = i; }
    }
    var langRes = document.getElementById("SiteContent_dirs_rLangReserv");
    var cloneDir = langRes.cloneNode(true);
    var clonedDirOptions = cloneDir.getElementsByTagName("option");
    refreshDynamicSelectOptions(selct1, selct2, clonedDirOptions, 0);
    if ((selct1.options[selct1.selectedIndex].value == "i") && (selct2.options[selct2.selectedIndex].value == "r")) { revDir = false; document.getElementById('ch_bttn').src = "/images/common/ch_ico_16_d.gif"; $('#chBtt_a').hover(function () { rollover_img('ch_bttn', '/images/common/ch_ico_16_d.gif'); }, function () { rollover_img('ch_bttn', '/images/common/ch_ico_16_d.gif'); }); };
    if ((selct1.options[selct1.selectedIndex].value == "i") && (selct2.options[selct2.selectedIndex].value == "e")) { revDir = true; document.getElementById('ch_bttn').src = "/images/common/ch_ico_16.gif"; $('#chBtt_a').hover(function () { rollover_img('ch_bttn', '/images/common/ch_ico_16_h.gif'); }, function () { rollover_img('ch_bttn', '/images/common/ch_ico_16.gif'); }); };
    if (Show_vkb) { set_kbLang(); changeVKL(kbLang); for (var i = 0; i < document.getElementById("langKeyboard").options.length; i++) { if (document.getElementById("langKeyboard").options[i].value == kbLang) { document.getElementById("langKeyboard").selectedIndex = i; } } }; var pattern4 = new RegExp("( |^)(" + selct1.options[selct1.selectedIndex].value + ")( |$)");
    revDirNow = false;
    ChangedLang();
    for (j = 0; j < selct2.options.length; j++) {
        if (selct2.options[j].value == rlang) { selct2.selectedIndex = j; }
    }
    ChangedLang();
}

var prevJsonParams = "";
function GetNewAdvert() {
wasTr = (uTrType != '') ? true : false;
var jsonStr = '{ "wasTranslation":"' + ((wasTr) ? 'true' : 'false') + '", ';
jsonStr += '"trType":"' + uTrType + '", ';
jsonStr += '"trSource":"' + TS + '", ';
jsonStr += '"dirCode":"' + GetDir() + '", ';
jsonStr += '"template":"' + $("#template").val().toLowerCase() + '", ';
jsonStr += '"lang":"en", ';
var id = "";
var arrDiv = $("div[id^=advBlock]");
jsonStr += '"bannerIDs":[';
for (i = 0; i < arrDiv.length; i++) {
    var classes = $(arrDiv[i]).attr("class");
    sp = classes.indexOf("_");
    if (sp > 0) {
        var place = classes.substring(0, sp);
        var format = classes.substring(sp + 1, classes.length);
        sp = format.indexOf(" ");
        jsonStr += '{ "id":"';
        if (sp > 0) {
            id = format.substring(sp + 1, format.length);
            format = format.substring(0, sp);
            jsonStr += id;
        }
        jsonStr += '", "place":"' + place + '", "format":"' + format + '" },';
    }
}
jsonStr = jsonStr.substr(0, jsonStr.length - 1);
jsonStr += '] }';
$.ajax({
    type: "POST",
    contentType: "application/json; charset=utf-8",
    url: "/servicesHL/LoadAdv.asmx/ReloadAdvert",
    data: "{ prevParams:'" + escape(prevJsonParams) + "', currParams:'" + escape(jsonStr) + "'}",
    dataType: "json",
    timeout: 5000,
    success: function (result) {
        var res = GetAjaxResult(result);      
        prevJsonParams = jsonStr;
        if ((res.needUpdate == true) && (res.banners != 'undefined')) {
            for (j = 0; j < res.banners.length; j++) {
                var clName = "div ." + res.banners[j].place + "_" + res.banners[j].format;
                $(clName).removeClass(id); $(clName).addClass(res.banners[j].bannerID);
                if ($(clName).html() != 'undefined') { $(clName).html(res.banners[j].code); }
            }
        }
    },
    error: function (XMLHttpRequest, textStatus, errorThrown) { }
});
}

function GetTopPhrases() {
    var source = lastTranslationWrd;
    if (source == "") return;
    var text = source;
    var dir = curPtsDirCode;
    $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "/services/TranslationService.asmx/GetPhrases",
        data: "{ dirCode:'" + dir + "', text:'" + text + "', page:0, pageSize:10 }",
        dataType: "json",
        timeout: 60000,
        success: function (res) {
            var result = GetAjaxResult(res);
            if ((result != "") && (result.Totals != 0)) {
                $("#topPhrasesBlock").show();
                var tmp = "";
                var maxTopPhraseLength = 5;
                if (result.Phrases.length < 5) { maxTopPhraseLength = result.Phrases.length }
                for (var i = 0; i < maxTopPhraseLength; i++) {
                    tmp += "<p class='phrList'><a href='/dictionary/" + dir + "/" + result.Phrases[i].K + "/'>" + result.Phrases[i].K + "</a> - " + result.Phrases[i].T + "</p>";
                }
                $("#totalPhrCount10").html("(" + result.Totals + ")");
                $("#topPhrases").html(tmp).show();
                $("#PhrasesBlock").show();
                $("#PhrasesBlock").click(function () { ShowFullDictPhr(); });
                if (result.Totals > 5) {
                    $("#morePhrases").show();
                }
                else { $("#morePhrases").hide(); }
            }
            $("#blurResult").hide();
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) { }
    });
}

function GetTopSamples() {
    source = lastTranslationWrd;
    if (source == "") return;
    $("#topSamples").html('').removeClass('js-expandtxt');
    var text = source;
    var dir = curPtsDirCode;
    $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "/services/TranslationService.asmx/FindSamplesEx",
        data: "{ dirCode:'" + dir + "', corpus:'' , text:'" + text + "', page: 0, pageSize:10, contains:'', options: 0 }",
        dataType: "json",
        timeout: 60000,
        success: function (res) {
            isLoading = false;
            var result = GetAjaxResult(res);
            if ((result != "") && (result.Totals != 0)) {
                allExamplesTotal = result.Totals;
                var tmp = "";
                var maxSamplLength = (result.Totals < 11) ? result.Totals : 10 ;
                for (i = 0; i < maxSamplLength; i++) {
                    if (result.Samples[i].Translations.length > 1) {
                        for (j = 0; j < result.Samples[i].Translations.length; j++) {
                            tmp += "<div class='samplesList'><span class='samSource'>" + result.Samples[i].Source + "</span>  <span class='samTranslation'>" + result.Samples[i].Translations[j] + "</span></div>";
                        }
                    }
                    else {
                        tmp += "<div class='samplesList'><span class='samSource'>" + result.Samples[i].Source + "</span>  <span class='samTranslation'>" + result.Samples[i].Translations + "</span></div>";
                    }
                }
                $("#totalSmplCount10").html("(" + result.Totals + ")");
                $("#topSamples").html(tmp);
                $("#SamplesBlock").click(function () { ShowFullDictSampl(); });
                if (result.Totals > 2) {
                    $("#topSamples").addClass('js-expandtxt');
                    $("#moreSamples").show();
                }
                else {
                        $("#moreSamples").hide();
                    }
                $("#topSamples").show();
                $("#SamplesBlock").show();
                $("#topSamplesBlock").show();
            }
            $("#blurResult").hide();
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) { }
    });
}
function ShowFullDictPhr() {
    setCookie("show", "phrases", "", "/");
    linkToDict('Phrases');
    location.href = trFdLnk;
        
}
function ShowFullDictSampl() {
    setCookie("show", "sampl", "", "/");
    linkToDict('Samples');
    location.href = trFdLnk + "#s3";
}
function createDefLinks() {
    var curLang = curPtsDirCode,
    countDifCForms = $(".source_only").length;
    var allCForms = [], cFormsUniq = [];
    for (i = 0; i < countDifCForms; i++) { allCForms[i] = $("#cforms_result" + (i + 1) + " .source_only").text(); }
    cFormsUniq = Unique(allCForms);
    $("#explanatoryBLock .difLinkBlock").remove();
    for (i = 0; i < cFormsUniq.length; i++) { createDictLink(cFormsUniq[i], curPtsDirCode.substring(0, 2)); }
    if (countDifCForms != 0) $("#explanatoryBLock").show();
}

function Unique(A) {
    var n = A.length, k = 0, B = [];
    for (var i = 0; i < n; i++) {
        var j = 0;
        while (j < k && B[j] !== A[i]) j++;
        if (j == k) B[k++] = A[i];
    }
    return B;
}

function createDictLink(cform, sourceLang) {
    var foundInStr = 'in ';
    switch (sourceLang) {
        case "en":
            createWikiLinks(cform, sourceLang, foundInStr);
            createDictionaryLinks(cform, sourceLang, foundInStr);
            createWebsterLinks(cform, sourceLang, foundInStr);
            break;
        case "ru":
            createWikiLinks(cform, sourceLang, foundInStr);
            createGramotaLinks(cform, sourceLang, foundInStr);
            createAcademicLinks(cform, sourceLang, foundInStr);
            break;
        case "de":
            createWikiLinks(cform, sourceLang, foundInStr);
            createDwdsLinks(cform, sourceLang, foundInStr);
            createWissenLinks(cform, sourceLang, foundInStr);
            break;
        default:
            createWikiLinks(cform, sourceLang, foundInStr);
    }
}

function createWikiLinks(lem, sourceLang, foundInTxt) {
    var dictLink = "<span class='difLinkBlock'><a href='https://" + sourceLang + ".wikipedia.org/wiki/" + lem + "' class='difLink' target='_blank'><b>" + lem + "</b></a> - " + foundInTxt + " <a href='https://" + sourceLang + ".wikipedia.org/'  target='_blank'>" + sourceLang + ".wikipedia.org</a></span>";
    $(dictLink).appendTo("#explanatoryBLock");
}
function createDictionaryLinks(lem, sourceLang, foundInTxt) {
    var dictLink = "<span class='difLinkBlock'><a href='http://" + "dictionary.reference.com/browse/" + lem + "' class='difLink' target='_blank'><b>" + lem + "</b></a> - " + foundInTxt + " <a href='http://dictionary.reference.com/'  target='_blank'>Dictionary.com</a></span>"
    $(dictLink).appendTo("#explanatoryBLock");
}
function createWebsterLinks(lem, sourceLang, foundInTxt) {
    var dictLink = "<span class='difLinkBlock'><a href='http://" + "www.merriam-webster.com/dictionary/" + lem + "' class='difLink' target='_blank'><b>" + lem + "</b></a> - " + foundInTxt + " <a href='http://www.merriam-webster.com/'  target='_blank'>Merriam-Webster.com/</a></span>"
    $(dictLink).appendTo("#explanatoryBLock");
}
function createGramotaLinks(lem, sourceLang, foundInTxt) {
    var dictLink = "<span class='difLinkBlock'><a href='http://" + "www.gramota.ru/slovari/dic/?word=" + lem + "&all=x' class='difLink' target='_blank'><b>" + lem + "</b></a> - " + foundInTxt + " <a href='http://www.gramota.ru/'  target='_blank'>Грамота.Ру</a></span>"
    $(dictLink).appendTo("#explanatoryBLock");
}
function createAcademicLinks(lem, sourceLang, foundInTxt) {
    var dictLink = "<span class='difLinkBlock'><a href='http://" + "dic.academic.ru/searchall.php?SWord=" + lem + "' class='difLink' target='_blank'><b>" + lem + "</b></a> - " + foundInTxt + " <a href='http://dic.academic.ru/'  target='_blank'>Академик</a></span>"
    $(dictLink).appendTo("#explanatoryBLock");
}
function createDwdsLinks(lem, sourceLang, foundInTxt) {
    var dictLink = "<span class='difLinkBlock'><a href='http://" + "www.dwds.de/?qu=" + lem + "' class='difLink' target='_blank'><b>" + lem + "</b></a> - " + foundInTxt + " <a href='http://www.dwds.de/'  target='_blank'>DWDS.de</a></span>"
    $(dictLink).appendTo("#explanatoryBLock");
}
function createWissenLinks(lem, sourceLang, foundInTxt) {
    var dictLink = "<span class='difLinkBlock'><a href='http://" + "www.wissen.de/rechtschreibung/" + lem + "' class='difLink' target='_blank'><b>" + lem + "</b></a> - " + foundInTxt + " <a href='http://www.wissen.de/'  target='_blank'>Wissen.de</a></span>"
    $(dictLink).appendTo("#explanatoryBLock");
}

function CheckFlash() {
    var flashinstalled = "no flash";
    MSDetect = "false";
    if (navigator.mimeTypes && navigator.mimeTypes.length) {
        x = navigator.mimeTypes['application/x-shockwave-flash'];
        if (x && x.enabledPlugin) flashinstalled = "installed";
        else flashinstalled = "no plugin";
    }
    else { MSDetect = "true"; }
} //end checkFlash
function closeSubscribe() {
    visSForm = 740; $("#ssBody").hide(); $("#ssHead a").hide(); if (!getCookie('subscibeFormOpen')) setCookie('subscibeFormOpen', 'open', 30);
    setTimeout('$("#ssHead").bind("click",function(){$("#ssBody").slideDown(300);$("#ssHead a").show();$("#ssHead").unbind("click");visSForm = 880;})', 100);

}
$(document).ready(function () {
//  if (!getCookie('subscibeFormOpen')) { visSForm = 880; var dl_open_delay = setTimeout("$('#ssBody').slideDown(300);", 2000); }
//  else { $("#ssHead a").hide(); visSForm = 740; $("#ssHead").bind("click", function () { $("#ssBody").slideDown(300); $("#ssHead a").show(); $("#ssHead").unbind("click"); visSForm = 880; }) }
  $('#ssAddr')
  .focus(function () { if ($(this).val() == 'Ваш адрес e-mail') { $(this).val(''); } })
  .blur(function () { if ($(this).val() == '') { $(this).val('Ваш адрес e-mail'); } });
  $('#ssSubmit').bind('click', function () { closeSubscribe(); setCookie('subscibeFormOpen', 'open', 3000); window.open("http://subscribe.translate.ru/subscriber/ru/subscribe/?site_id=4&campaign_id=11&email=" + $('#ssAddr').val()); })
});
</script>
<span id="vkb_f2" style="z-index:1002; display:none;">
    <div id="loadingVK" style="display:none; position:absolute; text-align:center; background:white; left:80px; top:30px; height:30px; width:210px; padding:20px">
            <span id="SiteContent_LoadVKText">Please wait ...</span>             
            <img src="/images/common/al_fullWR.gif" width="15" height="15" />
        </div>
    </span>

    
<!-- speech -->    
<script>
showInfo('info_start');
var googleLang = "en-US";

function CheckLang() {
    if (recognizing) { recognition.stop(); }
    val = SiteContent_dirs_sLang.value;
    if (val == 'a') { start_button.style.display = 'none'; disMicro.style.display = 'inline-block'; }
    else {
        start_button.style.display = 'inline-block'; disMicro.style.display = "none"; start_button.style.float = "right";
        switch (val) {
            case 'r': googleLang = "ru-RU"; break;
            case 'g': googleLang = "de-DE"; break;
            case 'f': googleLang = "fr-FR"; break;
            case 's': googleLang = "es-ES"; break;
            case 'i': googleLang = "it-IT"; break;
            case 'p': googleLang = "pt-BR"; break;
            case 'j': googleLang = "ja-JP"; break;
            case 'e': googleLang = "en-EN"; break;
            case 'o': googleLang = "fi-FI"; break;
            default: googleLang = "en-EN"; break;
        }
    }
}
showInfo('info_start');
var final_transcript = '';
var recognizing = false;
var ignore_onend;
var start_timestamp;
if (!('webkitSpeechRecognition' in window) || !jQuery.browser.chrome) {
    $("#start_button").css("visibility", "hidden");
    $("#disMicro").css("visibility", "hidden");
} else {
    CheckLang();
    var recognition = new webkitSpeechRecognition();
    recognition.continuous = true;
    recognition.interimResults = true;
    recognition.onstart = function () {
        recognizing = true;
        showInfo('info_speak_now');
        start_img.src = '/images/speech/mic-animate_.gif';
    };
    recognition.onerror = function (event) {
        if (event.error == 'no-speech') {
            start_img.src = '/images/speech/mic.png';
            showInfo('info_no_speech');
            ignore_onend = true;
        }
        if (event.error == 'audio-capture') {
            start_img.src = '/images/speech/mic.png';
            showInfo('info_no_microphone');
            ignore_onend = true;
        }
        if (event.error == 'not-allowed') {
            if (event.timeStamp - start_timestamp < 100) {
                showInfo('info_blocked');
            } else {
                showInfo('info_denied');
            }
            ignore_onend = true;
        }
    };
    recognition.onend = function () {
        recognizing = false;
        if (ignore_onend) {
            return;
        }
        start_img.src = '/images/speech/mic.png';
        hideToolTip();
        _gaq.push(['_setCustomVar', 1, 'SrcLang', googleLang]);
        _gaq.push(['_trackEvent', 'Services', 'Voice', 'Input', rtrim($("#SiteContent_sourceText").val()).length]);
        if (!final_transcript) {
            showInfo('info_start');
            return;
        }
        showInfo('');
    };
    recognition.onresult = function (event) {
        var interim_transcript = '';
        for (var i = event.resultIndex; i < event.results.length; ++i) {
            if (event.results[i].isFinal) {
                final_transcript += event.results[i][0].transcript;
            } else {
                interim_transcript += event.results[i][0].transcript;
            }
        }
        final_transcript = capitalize(final_transcript);
        SiteContent_sourceText.value = final_transcript + interim_transcript;
        if (interim_transcript == '') { SiteContent_sourceText.value = final_transcript; }

    };
}
var two_line = /\n\n/g;
var one_line = /\n/g;
function linebreak(s) {
    return s.replace(two_line, '<p></p>').replace(one_line, '<br>');
}
var first_char = /\S/;
function capitalize(s) {
    return s.replace(first_char, function (m) { return m.toUpperCase(); });
}
function createEmail() {
    var n = final_transcript.indexOf('\n');
    if (n < 0 || n >= 80) {
        n = 40 + final_transcript.substring(40).indexOf(' ');
    }
    var subject = encodeURI(final_transcript.substring(0, n));
    var body = encodeURI(final_transcript.substring(n + 1));
    window.location.href = 'mailto:?subject=' + subject + '&body=' + body;
}
function startButton(event) {
    if (recognizing) {
        recognition.stop();
        return;
    }
    final_transcript = '';
    recognition.lang = googleLang;
    recognition.start();
    ignore_onend = false;
    start_img.src = '/images/speech/mic-slash.png';
    showInfo('info_allow');
    start_timestamp = event.timeStamp;
}
function addGAEvent() {
    _gaq.push(['_setCustomVar', 1, 'SrcLang', googleLang]);
    _gaq.push(['_trackEvent', 'Services', 'Voice', 'Start', 0]);
}
function showInfo(s) {
    if (s) {
        for (var child = info.firstChild; child; child = child.nextSibling) {
            if (child.style) {
                child.style.display = child.id == s ? 'inline' : 'none';
            }
        }
        info.style.visibility = 'visible';
    } else {
        info.style.visibility = 'hidden';
    }
    return;
}
</script>

    
     <!--[if lt IE 9]>
        <div style="margin:0px auto; max-width: 1000px; min-width: 1000px;">
            <div style="float:right; height:19px; width:18px; background:url(/images/ie/mw_rbc.png) repeat-x;"></div>
            <div style="float:left; height:19px; width:16px; background:url(/images/ie/mw_lbc.png) repeat-x; "></div>
            <div style="background:url(/images/ie/mw_bbg.png) repeat-x; height:19px; margin:0 16px;"></div>
        </div>
<![endif]-->

    <footer>
   
       <div id="bott_link">
       <span id="btt_links"><a href="/About/">About service</a> | <a href="/About/Terms/">Terms</a> | <a href="/About/Cookies/">Cookies</a> | <a href="/About/Advertise/">Advertizing on  OnlineTranslator.com</a>  | <a href="/Help/">Help</a> | <a href="/Tools/">For developers</a> | <a href="/HumanTranslation/">Manual translation</a></span><br/>
      
           &copy; <a href="http://www.promt.com">PROMT Service LLC</a>, 1998-2017<br/>
       
        </div>
    </footer>  
    <div id="megaFullInfo" style="display:none;">
        <div id="mfi_translate">
            <span id="al_fullWR1" style="display:inline;"><img hspace="10" align="middle" src="/images/common/al_fullWR.gif"> Loading...</span>
        </div>
        <div id="mfi_grammInfoDiv">
            <div id="mfi_grammInfo">
                <span id="al_fullWR2" style="display: inline;"><img hspace="10" align="middle" src="/images/common/al_fullWR.gif">  Loading...</span>
            </div>
        </div>
        <div id="megaFullInfoAdv">
            Service works on the basis of PROMT software products<br/>
            <a href="http://shop.promt.com/store/promt/DisplayHomePage&Locale=en_US" target="_blank">Choose a translator program for your computer</a>
        </div>
    </div>
   <div id="spellInfo" style="display: none;">
   <div id="spellLoadDiv">
            <span id="spellLoad" style="display:inline;"><img hspace="10" align="middle" src="/images/common/al_fullWR.gif">  Loading...</span>
   </div>
   <div id="sumSpell">
        <div id="errSpellDescr">Errors are found in the text</div>
        <div id="okSpellDescr">No errors are found in the text</div>
   </div>
   <div id="spellEditor"></div>
   <div style="text-align:center; padding:10px" id="spellBttms"><input type="button" class="transit_" value="Готово!"  onclick="javascript:$('#spellEditor .suggs').remove();$('#SiteContent_sourceText').val($('#spellEditor').text());$('#spellInfo').dialog('close');"/>&nbsp;&nbsp;&nbsp;&nbsp; <input type="button" class="cancelBtt" value="Отмена" onclick="javascript:$('#spellInfo').dialog('close');"/></div>
       
           <div style="font-size:11px; border-top:1px solid #7f9db9; padding:5px;">
               <a target="_blank" href="http://www.orfo.ru/"><img border="0" src="/images/common/logo_informatic.gif" align="middle"/></a> 
              Spell-checking is performed by <a target="_blank" href="http://www.orfo.ru/"><b>ORFO</b></a>.<br>&copy; JSC INFORMATIC 
           </div>
   </div>
    <div id="keepClick"></div><div id="keepClickVM"></div><div id="keepClickSS"></div>
        <div id="keepClickTemplateTop"></div>
        <div id="keepClickEditor"></div>
    <!-- скрипты для фидбека -->
<script type="text/javascript">
    $("#tbEmail").hide(); $("#tbEmail").val("");
    function clearFeedback() {
        $("#tbOtzyv").val("");
        $("#ignore").val("");
    }
    function changedField(a) {
        var val = $("#changedField").val();
        $("#changedField").val(val + a);
    }
    function SendFeedback() {
        var hp = false;
        if ((location.pathname.toLowerCase() == "/") || (location.pathname.toLowerCase() == "/default.aspx")) { hp = true; }
        var message = $("#tbOtzyv").val();
        var name = encodeURI($("#tbImya").val()).split("'").join("\\'");
        var from = $("#tbEmail").val();
        var tmp = $("#tbPochtAdr").val();
        if (tmp == "") { return; }
        var changed = $("#changedField").val();
        var ignored = $("#ignore").val();
        if (ignored != "") { errTexts = "true"; /*boolSend="true";*/changed += "2"; }
        templ = ""; text = ""; rslt = "";
        if (hp) {
            if (trDirCode == "") { trDirCode = GetDir(); }
            templ = $("#template").val();
            text = rtrim($("#SiteContent_sourceText").val()); text = encodeURIComponent(text).split("'").join("\\'");
            rslt = (uTrType == 'text') ? $("#translationResult").text() : ""; rslt = encodeURIComponent(rslt).split("'").join("\\'");
        }
        message = encodeURIComponent(message).split("'").join("\\'");
        $("#loading").ajaxStart(function () { $(this).show(); });
        $("#loading").ajaxStop(function () { $(this).hide(); });
        $("#load_text").ajaxStart(function () { $(this).hide(); });
        $("#load_text").ajaxStop(function () { $(this).hide(); });
        $.ajax(
    { type: "POST", contentType: "application/json; charset=utf-8",
        url: "/services/UtilsService.asmx/Feedback",
        data: "{lang:'en', email:'" + from + "',tmpAddr:'" + tmp + "', name:'" + name + "', message:'" + message + "', changed:'" + changed + "', err:'" + wasErr + "', dir:'" + trDirCode + "', tpl:'" + templ + "', source:'" + text + "', result:'" + rslt + "'}",
        dataType: "json",
        success: function (result) {
            var res = GetAjaxResult(result);
            $("#lOtpravleno").show();
            $("#fFeedbackFld").hide(); $(".checkLabel1").hide(); $("#bAjaxFeedback").hide();
            $("#tbOtzyv").val("");
            $("#feedbackForm").height(100);
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) { alert("Sorry, the service is temporarily unavailable. Please try again later."); hideFeedbackForm(); }
    });
    } //FeedbackClick
    function MakeAnotherTranslate(key, dir) {
        uTrType = "";
        $("#editResultWin_test").hide();
        $("#editResultWin_test").hide();
        hideEditTranslationWin(0);
        $("#editResult_test").val('');
        $("#editResult_test").css('height', '');
        $("#topSamplesBlock").hide();
        $("#topPhrasesBlock").hide();
        $("#explanatoryBLock").hide();
        $("#socialServices").hide();
        $("#AdvInResult").hide();
        $("#AdvInResult").removeAttr('style');
        $("#linkAT").show(); $("#linkATPic").show();
        visitLink = false;
        $("#addTranslationText").unbind('keypress');
        closewAddTranslation();
        closeTranslationLinks();

        $("#divFullWordResult").hide();
        $("#adviseIconDiv").hide();
        $("#blurResult").show();
        if (rtrim($("#SiteContent_sourceText").val()) == "") { $("#SiteContent_sourceText").val(''); $("#SiteContent_sourceText").focus(); return false; }
        var text = rtrim($("#SiteContent_sourceText").val());
        text = encodeURIComponent(text).split("'").join("\\'");
        var templ = $("#template").val();
        var dirArr = dir.split('-');
        if (dirArr[0] != 'ar') { $('#SiteContent_sourceText').css('direction', 'ltr'); }
        if (dirArr[1] != 'ar') { $('#translationResult').css('direction', 'ltr'); $('#editResult_test').css('direction', 'ltr'); }
        $.ajax({
            type: "POST",
            contentType: "application/json; charset=utf-8",
            url: "/services/TranslationService.asmx/GetTranslateNew",
            data: "{ dirCode:'" + dir + "', template:'" + templ + "', text:'" + text + "', lang:'en', limit:" + maxlen + ",useAutoDetect:false, key:'" + key + "',  ts:'" + TS + "', tid:'" + tmpID + "',IsMobile:false}",
            dataType: "json",
            success: function (result) {
                var res = GetAjaxResult(result);
                SetValsAfterTr(res);
                trFdLnk = res.fdLink;
                curPtsDirCode = res.ptsDirCode;
                var curPtsDirCodeArr = curPtsDirCode.split('-')
                if (res.isWord && rtrim($('#SiteContent_sourceText').val()) != '') { GetTopPhrases(); GetTopSamples(); createDefLinks(); }
                RefreshAdv_inRes();
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                GetErrMsg("Sorry, the service is temporarily unavailable. Please try again later.");
            }
        });
    } //mkAnotherTr
    function MakeAnotherTranslateCBK(trlID, advDirCode) {
        TranslType = "advise"; tmpID = trlID; tmpDirCode = advDirCode; ReceiveServerData(""); /*CallServer(advDirCode, "");*/
    }
    function GetFullWordCBK(pos, type) {
        setCookie("show", "item" + pos, "", "/");
        if (pos == '0') linkToDict('More') 
        else linkToDict('Declination');
        location.href = trFdLnk;
    }

    function GetFullWordCBK_old(pos, type) {
        TranslType = type; tmpPos = pos;
        //tmpDirCode =((type=='dictWordER')||(type=='dictWord'))? GetDir(): trDirCode;
        tmpDirCode = trDirCode;
        ReceiveServerData(""); /*CallServer(tmpDirCode, "");*/
    }

    function closeAdviseWindow() { document.getElementById("adviseText").style.display = "none"; }
    function showAdviseWindow() { document.getElementById("adviseText").style.display = "block"; }
    function InsertAdvise(atext) {
        $('#adviseIconDiv').show();
        $('#adviseIconDiv').html('');
        $('#adviseIconDiv').html(atext).addClass('warning');
        $('#adviseText').show();
        $('#blurResult').hide();
    }

    function AddAdvise(atext) {
        $('#adviseIconDiv').html($('#adviseIconDiv').html() + '<br><br>' + atext).addClass('warning');
    }
    function SaveSocial(value, stype) {
        var dir = GetDir();
        if (trDirCode == "") { trDirCode = dir; }
        var templ = ($("#template").length>0) ? $("#template").val() : 'General';
        var  text = ($("#SiteContent_sourceText").length>0) ? $("#SiteContent_sourceText").val() : $("#SiteContent_sourceTextDict").val();
        text = rtrim(text);  text = encodeURIComponent(text).split("'").join("\\'");
        var rslt = (uTrType == 'text') ? $("#translationResult").text() : ""; rslt = encodeURIComponent(rslt).split("'").join("\\'");
        switch (stype) {
            case "link": $("#loadingLink").ajaxStart(function () { $(this).show(); }); break;
            case "vrnt": $("#ATForm").hide(); $("#servATText").show(); if (thisDict) { $("#ATForm_bt").hide(); $("#servATText_bt").show(); } break;
        }
        if (!(thisDict && stype=='link')) {
            $.ajax({
                type: "POST",
                contentType: "application/json; charset=utf-8",
                url: "/servicesHL/SocialServices.asmx/DoSocial",
                data: "{ value:'" + value + "', type:'" + stype + "', trUID:'" + trUID + "', dirCode:'" + trDirCode + "', template:'" + templ + "',source:'" + text + "', result:'" + rslt + "', sourceType:'" + uTrType + "', lang:'en' }",
                dataType: "json",
                success: function (res) {
                    var result = GetAjaxResult(res);
                    if (result.errCode != 1) {
                        switch (stype) {//экшн в зависимости от stype
                            case "link":
                                $("#loadingLink").hide();
                                $("#saveLinkResult").show();
                                thisTranslationLink = result.link;
                                saveTranslation = true;
                                thisTranslationLink = thisTranslationLink.replace('/General/', '/');
                                GenerateTexts(thisTranslationLink);
                                break;
                            case "tmpl":
                                alert('The most popular variants will be added in new versions of the website.');
                                break;
                            case "vrnt":
                                $("#servATText").html('<b>The most popular variants will be added in new versions of the website.<br/></b><span style="font-size:9px">It is much better now! Thanks!</span>');
                                var hideUTBttn = setTimeout("$('#keepClick').fadeOut('slow');closewAddTranslation();", 3000);
                                if (thisDict) {
                                    $("#servATText_bt").html('<b>The most popular variants will be added in new versions of the website.<br/></b><span style="font-size:9px">It is much better now! Thanks!</span>');
                                    var hideUTBttn = setTimeout("$('#keepClick').fadeOut('slow');closewAddTranslation();", 3000);
                                }
                                break;
                            case "rate":
                                closeTranslationLinks();
                                $("#trest").html('Your rating: ');
                                setVote(value); stopVote();
                                break;
                        }
                        if (result.uid != '') { trUID = result.uid; }
                    }
                    else {
                        switch (stype) {
                            case "link":
                                $("#serviceErrorSFl").dialog({ dialogClass: 'alert', title: '', width: 400, minHeight: 50, resizable: false, draggable: false, close: function () { closeTranslationLinks(); } });
                                saveTranslation = false; $("#serviceErrorSFl").dialog('open');
                                break;
                            case "tmpl":
                                alert('The topic was not saved!');
                                break;
                            case "vrnt":
                                $("#servATText").html("<b style='color:red;'>Сервис временно недоступен. <br/>Если ошибка повторится, сообщите, пожалуйста, о ней разработчикам через форму обратной связи. Спасибо за понимание!</b>");
                                var hideUTBttn = setTimeout("$('#keepClick').fadeOut('slow');closewAddTranslation();", 5000);
                                break;
                            case "rate":
                                $("#serviceErrorSFr").dialog({ dialogClass: 'alert', title: '', width: 400, minHeight: 50, resizable: false, draggable: false });
                                $("#serviceErrorSFr").dialog('open');
                                myVote = 0; clRating();
                                break;
                        }
                    }
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    switch (stype) {
                        case "link":
                            $("#serviceErrorSFl").dialog({ dialogClass: 'alert', title: '', width: 400, minHeight: 50, resizable: false, draggable: false, close: function () { closeTranslationLinks(); } });
                            closeTranslationLinks(); saveTranslation = false; $("#serviceErrorSFl").dialog('open');
                            break;
                        case "tmpl":
                            $("#serviceErrorSFt").dialog({ dialogClass: 'alert', title: '', width: 400, minHeight: 50, resizable: false, draggable: false });
                            $("#serviceErrorSFt").dialog('open');
                            break;
                        case "vrnt":
                            $("#servATText").html("<b style='color:red;'>Сервис временно недоступен. <br/>Если ошибка повторится, сообщите, пожалуйста, о ней разработчикам через форму обратной связи. Спасибо за понимание!</b>");
                            var hideUTBttn = setTimeout("$('#keepClick').fadeOut('slow');closewAddTranslation();", 5000);
                            break;
                        case "rate":
                            $("#serviceErrorSFr").dialog({ dialogClass: 'alert', title: '', width: 400, minHeight: 50, resizable: false, draggable: false });
                            $("#serviceErrorSFr").dialog('open'); myVote = 0; clRating();
                            break;
                    }
                }
            });
        }
        else {
            $("#loadingLink").hide();
            $("#saveLinkResult").show();
            thisTranslationLink = window.location.href;
            saveTranslation = true;
            GenerateTexts(thisTranslationLink);
        }
    } //end savesocial
    function saveUTemplates() {
        uTpl = $("#utemplatesi").val(); if (uTpl == "") return;
        SaveSocial(uTpl, 'tmpl');
        $("#utemplatesi").val('');
    } //end saveUTemplate
                        function reloadBottomAdv() {
//                            GA_googleFetchAds();
//                            GA_googleFillSlot("Translate.Ru_bottom");
                        }
    lastTranslation = $("#SiteContent_sourceText").val();  
</script>
 
<script type='text/javascript'>
    GA_googleFillSlot("Online-Translator.com_bottom_line");
</script>


<!-- Quantcast Tag -->
<script type="text/javascript">
    var _qevents = _qevents || [];
    (function () {
        var elem = document.createElement('script');
        elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
        elem.async = true;
        elem.type = "text/javascript";
        var scpt = document.getElementsByTagName('script')[0];
        scpt.parentNode.insertBefore(elem, scpt);
    })();
    _qevents.push({
        qacct: "p-33okowv15LMFY"
    });
</script>

<noscript>
<div style="display:none;">
<img src="//pixel.quantserve.com/pixel/p-33okowv15LMFY.gif" border="0" height="1" width="1" alt="Quantcast"/>
</div>
</noscript>
<!-- End Quantcast tag -->
   

<script type="text/javascript">
//<![CDATA[

WebForm_InitCallback();//]]>
</script>
</form>
  </div>

</body>
</html>
