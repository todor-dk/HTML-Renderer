<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>glob - Greg's Wiki</title>
<script type="text/javascript" src="/moin_static198/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>

<script type="text/javascript">
<!-- // GUI edit link and i18n
var gui_editor_link_href = "/glob?action=edit&editor=gui";
var gui_editor_link_text = "Edit (GUI)";
//-->
</script>

<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/modernized/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/moin_static198/modernized/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/moin_static198/modernized/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/moin_static198/modernized/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/modernized/css/msie.css">
<![endif]-->


<link rel="alternate" title="Greg's Wiki: glob" href="/glob?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=glob&amp;ddiffs=1" type="application/rss+xml">
<link rel="alternate" type="application/wiki" title="Edit" href="/glob?action=edit">

<link rel="Start" href="/EnglishFrontPage">
<link rel="Alternate" title="Wiki Markup" href="/glob?action=raw">
<link rel="Alternate" media="print" title="Print View" href="/glob?action=print">
<link rel="Search" href="/FindPage">
<link rel="Index" href="/TitleIndex">
<link rel="Glossary" href="/WordIndex">
<link rel="Help" href="/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="/glob">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="/EnglishFrontPage"><img src="/moin_static198/common/moinmoin.png" alt="MoinMoin Logo"></a></div>
<div id="username"><a href="/glob?action=login" id="login" rel="nofollow">Login</a></div>
<h1 id="locationline">

<span id="pagelocation"><a href="/glob">glob</a></span>
</h1>


<ul id="navibar">
<li class="wikilink"><a href="/BashGuide">BashGuide</a></li><li class="wikilink"><a href="/BashFAQ">BashFAQ</a></li><li class="wikilink"><a href="/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="/FindPage">FindPage</a></li><li class="wikilink"><a href="/HelpContents">HelpContents</a></li><li class="current"><a href="/glob">glob</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li><a href="/glob?action=edit&amp;editor=text" name="texteditlink" rel="nofollow">Edit (Text)</a></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/glob?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/glob?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/glob">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#Globs">Globs</a><ol><li>
<a href="#Ranges">Ranges</a><ol><li>
<a href="#globasciiranges_.28since_bash_4.3-alpha.29">globasciiranges (since bash 4.3-alpha)</a></li><li>
<a href="#For_older_versions">For older versions</a></li></ol></li><li>
<a href="#Options_which_change_globbing_behavior">Options which change globbing behavior</a><ol><li>
<a href="#extglob">extglob</a></li><li>
<a href="#nullglob">nullglob</a><ol><li>
<a href="#Warning">Warning</a></li><li>
<a href="#Portability">Portability</a></li></ol></li><li>
<a href="#dotglob">dotglob</a></li><li>
<a href="#globstar_.28since_bash_4.0-alpha.29">globstar (since bash 4.0-alpha)</a></li><li>
<a href="#failglob">failglob</a></li><li>
<a href="#GLOBIGNORE">GLOBIGNORE</a></li><li>
<a href="#nocasematch">nocasematch</a></li><li>
<a href="#nocaseglob_.28since_bash_2.02-alpha1.29">nocaseglob (since bash 2.02-alpha1)</a></li></ol></li></ol></li></ol></div> <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line867">
<h1 id="Globs">Globs</h1>
<span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line862">"Glob" is the common name for a set of Bash features that match or expand specific types of patterns.  Some synonyms for globbing (depending on the context in which it appears) are <a class="http" href="http://tiswww.case.edu/php/chet/bash/bashref.html#SEC36">pattern matching</a>, pattern expansion, filename expansion, and so on.  A glob may look like <tt>*.txt</tt> and, when used to match filenames, is sometimes called a "wildcard". <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line862">Traditional shell globs use a very simple syntax, which is less expressive than a <a href="/RegularExpression">RegularExpression</a>.  Most characters in a glob are treated literally, but a <tt>*</tt> matches 0 or more characters, a <tt>?</tt> matches precisely one character, and <tt>[...]</tt> matches any single character in a specified set (see <a href="/glob#Ranges">Ranges</a> below).  All globs are implicitly anchored at both start and end.  For example: <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><div><table><tbody><tr>  <td><p class="line891"><tt class="backtick">*</tt> </td>
  <td><p class="line862">Matches any string, of any length </td>
</tr>
<tr>  <td><span class="anchor" id="line-10"></span><p class="line891"><tt class="backtick">foo*</tt> </td>
  <td><p class="line862">Matches any string beginning with <tt class="backtick">foo</tt> </td>
</tr>
<tr>  <td><span class="anchor" id="line-11"></span><p class="line891"><tt class="backtick">*x*</tt> </td>
  <td><p class="line862">Matches any string containing an <tt class="backtick">x</tt> (beginning, middle or end) </td>
</tr>
<tr>  <td><span class="anchor" id="line-12"></span><p class="line891"><tt class="backtick">*.tar.gz</tt> </td>
  <td><p class="line862">Matches any string ending with <tt class="backtick">.tar.gz</tt> </td>
</tr>
<tr>  <td><span class="anchor" id="line-13"></span><p class="line891"><tt class="backtick">*.[ch]</tt> </td>
  <td><p class="line862">Matches any string ending with <tt class="backtick">.c</tt> or <tt class="backtick">.h</tt> </td>
</tr>
<tr>  <td><span class="anchor" id="line-14"></span><p class="line891"><tt class="backtick">foo?</tt> </td>
  <td><p class="line862">Matches <tt class="backtick">foot</tt> or <tt class="backtick">foo$</tt> but not <tt class="backtick">fools</tt> </td>
</tr>
</tbody></table></div><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><p class="line874">Bash expands globs which appear unquoted in commands, by matching filenames relative to the current directory.  The expansion of the glob results in 1 or more words (0 or more, if certain options are set), and those words (filenames) are used in the command.  For example: <span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><p class="line867"><span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><span class="anchor" id="line-1-1"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-a6b115d9c68367b2ed7e23a34916355ccb2f1b67\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-a6b115d9c68367b2ed7e23a34916355ccb2f1b67" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-a6b115d9c68367b2ed7e23a34916355ccb2f1b67_1">   1</a> </span><span class="LineAnchor" id="CA-a6b115d9c68367b2ed7e23a34916355ccb2f1b67_1"></span><span class="anchor" id="line-1-2"></span>tar xvf *.tar</span>
<span class="line"><span class="LineNumber"><a href="#CA-a6b115d9c68367b2ed7e23a34916355ccb2f1b67_2">   2</a> </span><span class="LineAnchor" id="CA-a6b115d9c68367b2ed7e23a34916355ccb2f1b67_2"></span><span class="anchor" id="line-2-1"></span><span class="Comment"># Expands to: tar xvf file1.tar file2.tar file42.tar ...</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a6b115d9c68367b2ed7e23a34916355ccb2f1b67_3">   3</a> </span><span class="LineAnchor" id="CA-a6b115d9c68367b2ed7e23a34916355ccb2f1b67_3"></span><span class="anchor" id="line-3-1"></span><span class="Comment"></span><span class="Comment"># (which is generally not what one wants)</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a6b115d9c68367b2ed7e23a34916355ccb2f1b67_4">   4</a> </span><span class="LineAnchor" id="CA-a6b115d9c68367b2ed7e23a34916355ccb2f1b67_4"></span><span class="anchor" id="line-4-1"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line874">Even if a file contains internal whitespace, the expansion of a glob that matches that file will still preserve each filename as a single word.  For example, <span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><p class="line867"><span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-1-3"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_1">   1</a> </span><span class="LineAnchor" id="CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_1"></span><span class="anchor" id="line-1-4"></span><span class="Comment"># This is safe even if a filename contains whitespace:</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_2">   2</a> </span><span class="LineAnchor" id="CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_2"></span><span class="anchor" id="line-2-2"></span><span class="Comment"></span><span class="ResWord">for </span>f in *.tar; <span class="ResWord">do</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_3">   3</a> </span><span class="LineAnchor" id="CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_3"></span><span class="anchor" id="line-3-2"></span><span class="ResWord">    </span>tar tvf <span class="String">"$f"</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_4">   4</a> </span><span class="LineAnchor" id="CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_4"></span><span class="anchor" id="line-4-2"></span><span class="ResWord">done</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_5">   5</a> </span><span class="LineAnchor" id="CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_5"></span><span class="anchor" id="line-5-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_6">   6</a> </span><span class="LineAnchor" id="CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_6"></span><span class="anchor" id="line-6-1"></span><span class="Comment"># But this one is not:</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_7">   7</a> </span><span class="LineAnchor" id="CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_7"></span><span class="anchor" id="line-7-1"></span><span class="Comment"></span><span class="ResWord">for </span>f in <span class="ResWord">$(</span>ls | grep <span class="String">'\.tar$'</span><span class="ResWord">)</span>; <span class="ResWord">do</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_8">   8</a> </span><span class="LineAnchor" id="CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_8"></span><span class="anchor" id="line-8-1"></span><span class="ResWord">    </span>tar tvf <span class="String">"$f"</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_9">   9</a> </span><span class="LineAnchor" id="CA-aaf1d6a7185af10f101f4ac82c9de2edee960d7c_9"></span><span class="anchor" id="line-9-1"></span><span class="ResWord">done</span></span>
</pre></div></div><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><p class="line862">In the second example above, the output of <tt>ls</tt> is filtered, and then the result of the whole pipeline is <a href="/WordSplitting">divided into words</a>, to serve as iterative values for the loop.  This word-splitting will occur at internal whitespace within each filename, which makes it useless in the general case.  The first example has no such problem, because the filenames produced by the glob do <em>not</em> undergo any further word-splitting.  For more such examples, see <a href="/BashPitfalls">BashPitfalls</a>. <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><p class="line862">Globs are also used to match patterns in a few places in Bash.  The most traditional is in the <a href="/BashGuide/TestsAndConditionals#Choices">case</a> command: <span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line867"><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><span class="anchor" id="line-1-5"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-b97b17225e9a07f68b8847bb140e8da56adbf601\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-b97b17225e9a07f68b8847bb140e8da56adbf601" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-b97b17225e9a07f68b8847bb140e8da56adbf601_1">   1</a> </span><span class="LineAnchor" id="CA-b97b17225e9a07f68b8847bb140e8da56adbf601_1"></span><span class="anchor" id="line-1-6"></span><span class="ResWord">case</span> <span class="String">"$input"</span> in</span>
<span class="line"><span class="LineNumber"><a href="#CA-b97b17225e9a07f68b8847bb140e8da56adbf601_2">   2</a> </span><span class="LineAnchor" id="CA-b97b17225e9a07f68b8847bb140e8da56adbf601_2"></span><span class="anchor" id="line-2-3"></span>    [Yy]|<span class="String">''</span>) <span class="ID">confirm</span>=1;;</span>
<span class="line"><span class="LineNumber"><a href="#CA-b97b17225e9a07f68b8847bb140e8da56adbf601_3">   3</a> </span><span class="LineAnchor" id="CA-b97b17225e9a07f68b8847bb140e8da56adbf601_3"></span><span class="anchor" id="line-3-3"></span>    [Nn]*) <span class="ID">confirm</span>=0;;</span>
<span class="line"><span class="LineNumber"><a href="#CA-b97b17225e9a07f68b8847bb140e8da56adbf601_4">   4</a> </span><span class="LineAnchor" id="CA-b97b17225e9a07f68b8847bb140e8da56adbf601_4"></span><span class="anchor" id="line-4-3"></span>    *) <span class="ResWord">echo</span> <span class="String">"I don't understand.  Please try again."</span>;;</span>
<span class="line"><span class="LineNumber"><a href="#CA-b97b17225e9a07f68b8847bb140e8da56adbf601_5">   5</a> </span><span class="LineAnchor" id="CA-b97b17225e9a07f68b8847bb140e8da56adbf601_5"></span><span class="anchor" id="line-5-2"></span><span class="ResWord">esac</span></span>
</pre></div></div><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><p class="line862">Patterns (which are separated by <tt>|</tt> characters) are matched against the first word after the <tt>case</tt> itself.  The first pattern which matches, "wins", causing the corresponding commands to be executed. <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><p class="line862">Bash also allows globs to appear on the right-hand side of a comparison inside a <tt>[[</tt> command: <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><p class="line867"><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-1-7"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-0b7d0e2f75d57da1d252745274f20a5bef23222d\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-0b7d0e2f75d57da1d252745274f20a5bef23222d" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-0b7d0e2f75d57da1d252745274f20a5bef23222d_1">   1</a> </span><span class="LineAnchor" id="CA-0b7d0e2f75d57da1d252745274f20a5bef23222d_1"></span><span class="anchor" id="line-1-8"></span><span class="ResWord">if</span> [[ <span class="ID">$output</span> = *[Ee]rror* ]]; <span class="ResWord">then</span> ...</span>
</pre></div></div><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><p class="line862">Finally, globs are used during <a href="/BashFAQ/073">parameter expansion</a> to indicate patterns which may be stripped out, or replaced, during a substitution.  Simple examples (there are many more on the previously referenced page): <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><p class="line867"><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-1-9"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-589f50f7094eca4679fe3af0b65ba02163b27a40\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-589f50f7094eca4679fe3af0b65ba02163b27a40" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-589f50f7094eca4679fe3af0b65ba02163b27a40_1">   1</a> </span><span class="LineAnchor" id="CA-589f50f7094eca4679fe3af0b65ba02163b27a40_1"></span><span class="anchor" id="line-1-10"></span><span class="ID">filename</span>=<span class="ResWord">${</span><span class="ID">path</span>##*/<span class="ResWord">}</span>    <span class="Comment"># strip leading pattern that matches */ (be greedy)</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-589f50f7094eca4679fe3af0b65ba02163b27a40_2">   2</a> </span><span class="LineAnchor" id="CA-589f50f7094eca4679fe3af0b65ba02163b27a40_2"></span><span class="anchor" id="line-2-4"></span><span class="Comment"></span><span class="ID">dirname</span>=<span class="ResWord">${</span><span class="ID">path</span>%/*<span class="ResWord">}</span>      <span class="Comment"># strip trailing pattern matching /* (non-greedy)</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-589f50f7094eca4679fe3af0b65ba02163b27a40_3">   3</a> </span><span class="LineAnchor" id="CA-589f50f7094eca4679fe3af0b65ba02163b27a40_3"></span><span class="anchor" id="line-3-4"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-589f50f7094eca4679fe3af0b65ba02163b27a40_4">   4</a> </span><span class="LineAnchor" id="CA-589f50f7094eca4679fe3af0b65ba02163b27a40_4"></span><span class="anchor" id="line-4-4"></span><span class="ResWord">printf</span> <span class="String">'%s\n'</span> <span class="String">"${arr[@]}"</span>          <span class="Comment"># dump an array, one element per line</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-589f50f7094eca4679fe3af0b65ba02163b27a40_5">   5</a> </span><span class="LineAnchor" id="CA-589f50f7094eca4679fe3af0b65ba02163b27a40_5"></span><span class="anchor" id="line-5-3"></span><span class="Comment"></span><span class="ResWord">printf</span> <span class="String">'%s\n'</span> <span class="String">"${arr[@]/error*/}"</span>  <span class="Comment"># dump array, removing error* if matched</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-589f50f7094eca4679fe3af0b65ba02163b27a40_6">   6</a> </span><span class="LineAnchor" id="CA-589f50f7094eca4679fe3af0b65ba02163b27a40_6"></span><span class="anchor" id="line-6-2"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><p class="line862">(Reference: <a href="/BashGuide/Arrays">Arrays</a> <a href="/Quotes">Quotes</a> <a class="http" href="http://bash-hackers.org/wiki/doku.php/commands/builtin/printf">printf</a>.) <span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><p class="line867">
<h2 id="Ranges">Ranges</h2>
<span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><p class="line862">Globs can specify a <em>range</em> or <em>class</em> of characters, using square brackets.  This gives you the ability to match against a set of characters.  For example: <span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><div><table><tbody><tr>  <td><p class="line891"><tt class="backtick">[abcd]</tt>        </td>
  <td><p class="line862">Matches <tt class="backtick">a</tt> or <tt class="backtick">b</tt> or <tt class="backtick">c</tt> or <tt class="backtick">d</tt></td>
</tr>
<tr>  <td><span class="anchor" id="line-75"></span><p class="line891"><tt class="backtick">[a-d]</tt>         </td>
  <td><p class="line862">The same as above, if <em>globasciiranges</em> is set or your <a href="/locale">locale</a> is C or POSIX. Otherwise, implementation-defined.</td>
</tr>
<tr>  <td><span class="anchor" id="line-76"></span><p class="line891"><tt class="backtick">[!aeiouAEIOU]</tt> </td>
  <td><p class="line862">Matches any character <em>except</em> <tt class="backtick">a</tt>, <tt class="backtick">e</tt>, <tt class="backtick">i</tt>, <tt class="backtick">o</tt>, <tt class="backtick">u</tt> and their uppercase counterparts</td>
</tr>
<tr>  <td><span class="anchor" id="line-77"></span><p class="line891"><tt class="backtick">[[:alnum:]]</tt>   </td>
  <td><p class="line862">Matches any alphanumeric character in the current locale (letter or number)</td>
</tr>
<tr>  <td><span class="anchor" id="line-78"></span><p class="line891"><tt class="backtick">[[:space:]]</tt>   </td>
  <td><p class="line862">Matches any whitespace character</td>
</tr>
<tr>  <td><span class="anchor" id="line-79"></span><p class="line891"><tt class="backtick">[![:space:]]</tt>  </td>
  <td><p class="line862">Matches any character that is <em>not</em> whitespace</td>
</tr>
<tr>  <td><span class="anchor" id="line-80"></span><p class="line891"><tt class="backtick">[[:digit:]_.]</tt> </td>
  <td><p class="line862">Matches any digit, or <tt class="backtick">_</tt> or <tt class="backtick">.</tt></td>
</tr>
</tbody></table></div><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><p class="line862">In most shell implementations, one may also use <tt class="backtick">^</tt> as the range negation character, e.g. <tt class="backtick">[^[:space:]]</tt>.  However, POSIX specifies <tt class="backtick">!</tt> for this role, and therefore <tt class="backtick">!</tt> is the standard choice. <span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><p class="line867">
<h3 id="globasciiranges_.28since_bash_4.3-alpha.29">globasciiranges (since bash 4.3-alpha)</h3>
<span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><p class="line874">Interprets [a-d] as [abcd]. To match a literal -, include it as first or last character. <span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><p class="line867">
<h3 id="For_older_versions">For older versions</h3>
<span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><p class="line862">Note that <em>Implementation-defined</em> means it may work as you expect on one machine, but give completely different results on another machine.  Do not use the <tt class="backtick">m-n</tt> syntax unless you have explicitly set your locale to C first, or you may get unexpected results.  The <a class="http" href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html#tag_09_03_05">POSIX character class expressions</a> should be preferred whenever possible. <span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><p class="line867">
<h2 id="Options_which_change_globbing_behavior">Options which change globbing behavior</h2>
<span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><p class="line867">
<h3 id="extglob">extglob</h3>
<span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><p class="line862">In addition to the traditional globs (supported by all Bourne-family shells) that we've seen so far, Bash (and Korn Shell) offers <em>extended globs</em>, which have the expressive power of <a href="/RegularExpression">regular expressions</a>.  Korn shell enables these by default; in Bash, you must run the command <span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><p class="line867"><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-1-11"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-1bfc1c22a5ff429ab84734aa5096d8d681fcd9ee\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-1bfc1c22a5ff429ab84734aa5096d8d681fcd9ee" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-1bfc1c22a5ff429ab84734aa5096d8d681fcd9ee_1">   1</a> </span><span class="LineAnchor" id="CA-1bfc1c22a5ff429ab84734aa5096d8d681fcd9ee_1"></span><span class="anchor" id="line-1-12"></span><span class="ResWord">shopt</span> -s extglob</span>
</pre></div></div><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><p class="line862">in your shell (or at the <em>start</em> of your script -- see note on parsing below) to use them.  The <a class="http" href="http://tiswww.case.edu/php/chet/bash/bashref.html#SEC36">pattern matching reference</a> describes the syntax, which is reproduced here: <span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><dl><dt>?(pattern-list)</dt><dd>Matches zero or one occurrence of the given patterns. <span class="anchor" id="line-105"></span></dd><dt>*(pattern-list)</dt><dd>Matches zero or more occurrences of the given patterns. <span class="anchor" id="line-106"></span></dd><dt>+(pattern-list)</dt><dd>Matches one or more occurrences of the given patterns. <span class="anchor" id="line-107"></span></dd><dt>@(pattern-list)</dt><dd>Matches one of the given patterns. <span class="anchor" id="line-108"></span></dd><dt>!(pattern-list)</dt><dd>Matches anything except one of the given patterns. <span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span></dd></dl><p class="line862">Patterns in a list are separated by <tt class="backtick">|</tt> characters. <span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><p class="line874">Extended globs allow you to solve a number of problems which otherwise require a rather surprising amount of ugly hacking; for example, <span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><p class="line867"><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-1-13"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-49ca9c804c326bc19a77e57eb4f91d7c47800219\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-49ca9c804c326bc19a77e57eb4f91d7c47800219" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-49ca9c804c326bc19a77e57eb4f91d7c47800219_1">   1</a> </span><span class="LineAnchor" id="CA-49ca9c804c326bc19a77e57eb4f91d7c47800219_1"></span><span class="anchor" id="line-1-14"></span><span class="Comment"># To remove all the files except ones matching *.jpg:</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-49ca9c804c326bc19a77e57eb4f91d7c47800219_2">   2</a> </span><span class="LineAnchor" id="CA-49ca9c804c326bc19a77e57eb4f91d7c47800219_2"></span><span class="anchor" id="line-2-5"></span><span class="Comment"></span>rm !(*.jpg)</span>
<span class="line"><span class="LineNumber"><a href="#CA-49ca9c804c326bc19a77e57eb4f91d7c47800219_3">   3</a> </span><span class="LineAnchor" id="CA-49ca9c804c326bc19a77e57eb4f91d7c47800219_3"></span><span class="anchor" id="line-3-5"></span><span class="Comment"># All except *.jpg and *.gif and *.png:</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-49ca9c804c326bc19a77e57eb4f91d7c47800219_4">   4</a> </span><span class="LineAnchor" id="CA-49ca9c804c326bc19a77e57eb4f91d7c47800219_4"></span><span class="anchor" id="line-4-5"></span><span class="Comment"></span>rm !(*.jpg|*.gif|*.png)</span>
</pre></div></div><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><p class="line867"><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-1-15"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-c5a6323dae0b54c512a78cff16fe5e159115172b\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-c5a6323dae0b54c512a78cff16fe5e159115172b" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-c5a6323dae0b54c512a78cff16fe5e159115172b_1">   1</a> </span><span class="LineAnchor" id="CA-c5a6323dae0b54c512a78cff16fe5e159115172b_1"></span><span class="anchor" id="line-1-16"></span><span class="Comment"># To copy all the MP3 songs except one to your device</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c5a6323dae0b54c512a78cff16fe5e159115172b_2">   2</a> </span><span class="LineAnchor" id="CA-c5a6323dae0b54c512a78cff16fe5e159115172b_2"></span><span class="anchor" id="line-2-6"></span><span class="Comment"></span>cp !(04*).mp3 /mnt</span>
</pre></div></div><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><p class="line862">To use an extglob in a parameter expansion (this can also be done in one BASH statement with <a href="/BashFAQ/067">read</a>): <span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><p class="line867"><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><span class="anchor" id="line-1-17"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-f626b9ace8e5aa918729c927fb177e7f893ed2be\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-f626b9ace8e5aa918729c927fb177e7f893ed2be" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-f626b9ace8e5aa918729c927fb177e7f893ed2be_1">   1</a> </span><span class="LineAnchor" id="CA-f626b9ace8e5aa918729c927fb177e7f893ed2be_1"></span><span class="anchor" id="line-1-18"></span><span class="Comment"># To trim leading and trailing whitespace from a variable</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-f626b9ace8e5aa918729c927fb177e7f893ed2be_2">   2</a> </span><span class="LineAnchor" id="CA-f626b9ace8e5aa918729c927fb177e7f893ed2be_2"></span><span class="anchor" id="line-2-7"></span><span class="Comment"></span><span class="ID">x</span>=<span class="ResWord">${</span><span class="ID">x</span>##+([[:<span class="ID">space</span>:]])<span class="ResWord">}</span>; <span class="ID">x</span>=<span class="ResWord">${</span><span class="ID">x</span>%%+([[:<span class="ID">space</span>:]])<span class="ResWord">}</span></span>
</pre></div></div><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><p class="line874">Extended glob patterns can be nested, too. <span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><p class="line867"><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><span class="anchor" id="line-1-19"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-0f9a7ebc7461423055438b3ea6828b123b55b30f\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-0f9a7ebc7461423055438b3ea6828b123b55b30f" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-0f9a7ebc7461423055438b3ea6828b123b55b30f_1">   1</a> </span><span class="LineAnchor" id="CA-0f9a7ebc7461423055438b3ea6828b123b55b30f_1"></span><span class="anchor" id="line-1-20"></span>[[ <span class="ID">$fruit</span> = @(ba*(na)|a+(p)le) ]] &amp;&amp; <span class="ResWord">echo</span> <span class="String">"Nice fruit"</span></span>
</pre></div></div><span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><p class="line867"><strong><tt class="backtick">extglob</tt> changes the way certain characters are parsed. It is necessary to have a newline (not just a semicolon) between <tt class="backtick">shopt&nbsp;-s&nbsp;extglob</tt> and any subsequent commands to use it.</strong> <span class="anchor" id="line-140"></span>You cannot enable extended globs inside a <a href="/BashGuide/CompoundCommands#Command.2BAFw_Grouping">group command</a> that uses them, because the entire block is parsed before the <tt class="backtick">shopt</tt> is <em>evaluated</em>.  <span class="anchor" id="line-141"></span>Note that the typical <a href="/BashGuide/CompoundCommands#Functions">function</a> body <em>is</em> a <em>group command</em>. An unpleasant workaround could be to use a <em>subshell command list</em> as the function body. <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><p class="line874">Therefore, if you use this option in a script, it is best put right under the shebang line. <span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><p class="line867"><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><span class="anchor" id="line-1-21"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-b8f890c9e06661cbcd0c43ffadf7d3c8f3079092\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-b8f890c9e06661cbcd0c43ffadf7d3c8f3079092" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-b8f890c9e06661cbcd0c43ffadf7d3c8f3079092_1">   1</a> </span><span class="LineAnchor" id="CA-b8f890c9e06661cbcd0c43ffadf7d3c8f3079092_1"></span><span class="anchor" id="line-1-22"></span><span class="Comment">#!/usr/bin/env bash</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b8f890c9e06661cbcd0c43ffadf7d3c8f3079092_2">   2</a> </span><span class="LineAnchor" id="CA-b8f890c9e06661cbcd0c43ffadf7d3c8f3079092_2"></span><span class="anchor" id="line-2-8"></span><span class="Comment"></span><span class="ResWord">shopt</span> -s extglob   <span class="Comment"># and others, such as nullglob dotglob</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b8f890c9e06661cbcd0c43ffadf7d3c8f3079092_3">   3</a> </span><span class="LineAnchor" id="CA-b8f890c9e06661cbcd0c43ffadf7d3c8f3079092_3"></span><span class="anchor" id="line-3-6"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><p class="line862">If your code must be sourced and needs <tt class="backtick">extglob</tt>, ensure it preserves the original setting from your shell: <span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><p class="line867"><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-1-23"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_1">   1</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_1"></span><span class="anchor" id="line-1-24"></span><span class="Comment"># remember whether extglob was originally set, so we know whether to unset it</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_2">   2</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_2"></span><span class="anchor" id="line-2-9"></span><span class="Comment"></span><span class="ResWord">shopt</span> -q extglob; <span class="ID">extglob_set</span>=<span class="ID">$?</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_3">   3</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_3"></span><span class="anchor" id="line-3-7"></span><span class="Comment"># set extglob if it wasn't originally set.</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_4">   4</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_4"></span><span class="anchor" id="line-4-6"></span><span class="Comment"></span>((extglob_set)) &amp;&amp; <span class="ResWord">shopt</span> -s extglob</span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_5">   5</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_5"></span><span class="anchor" id="line-5-4"></span><span class="Comment"># Note, 0 (true) from shopt -q is "false" in a math context.</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_6">   6</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_6"></span><span class="anchor" id="line-6-3"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_7">   7</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_7"></span><span class="anchor" id="line-7-2"></span><span class="Comment"># The basic concept behind the following is to delay parsing of the globs until evaluation.</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_8">   8</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_8"></span><span class="anchor" id="line-8-2"></span><span class="Comment"></span><span class="Comment"># This matters at group commands, such as functions in { } blocks</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_9">   9</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_9"></span><span class="anchor" id="line-9-2"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_10">  10</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_10"></span><span class="anchor" id="line-10-1"></span><span class="ResWord">declare</span> -a <span class="ID">s</span>=<span class="String">'( !(x) )'</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_11">  11</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_11"></span><span class="anchor" id="line-11-1"></span><span class="ResWord">echo</span> <span class="String">"${s[@]}"</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_12">  12</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_12"></span><span class="anchor" id="line-12-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_13">  13</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_13"></span><span class="anchor" id="line-13-1"></span><span class="ResWord">echo</span> <span class="String">"${InvalidVar:-!(x)}"</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_14">  14</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_14"></span><span class="anchor" id="line-14-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_15">  15</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_15"></span><span class="anchor" id="line-15-1"></span><span class="ResWord">eval</span> <span class="String">'echo !(x)'</span>  <span class="Comment"># using eval if no other option.</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_16">  16</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_16"></span><span class="anchor" id="line-16-1"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_17">  17</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_17"></span><span class="anchor" id="line-17-1"></span><span class="Comment"># unset extglob if it wasn't originally set</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_18">  18</a> </span><span class="LineAnchor" id="CA-ae2fea8dbabf9161b5a802de9d60f178c115a6b3_18"></span><span class="anchor" id="line-18-1"></span><span class="Comment"></span>((extglob_set)) &amp;&amp; <span class="ResWord">shopt</span> -u extglob</span>
</pre></div></div><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><p class="line874">This should also apply for other shell options. <span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><p class="line867">
<h3 id="nullglob">nullglob</h3>
<span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><p class="line867"><tt class="backtick">nullglob</tt> expands non-matching globs to zero arguments, rather than to themselves.  <span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><p class="line867"><span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-1-25"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-24b3cf9a873a70db2242f0197f7c08108f26fdff\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-24b3cf9a873a70db2242f0197f7c08108f26fdff" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_1">   1</a> </span><span class="LineAnchor" id="CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_1"></span><span class="anchor" id="line-1-26"></span><span class="ID">$ </span>ls *.c</span>
<span class="line"><span class="LineNumber"><a href="#CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_2">   2</a> </span><span class="LineAnchor" id="CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_2"></span><span class="anchor" id="line-2-10"></span>ls: cannot access *.c: No such file or directory</span>
<span class="line"><span class="LineNumber"><a href="#CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_3">   3</a> </span><span class="LineAnchor" id="CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_3"></span><span class="anchor" id="line-3-8"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_4">   4</a> </span><span class="LineAnchor" id="CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_4"></span><span class="anchor" id="line-4-7"></span><span class="Comment"># with nullglob set</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_5">   5</a> </span><span class="LineAnchor" id="CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_5"></span><span class="anchor" id="line-5-5"></span><span class="Comment"></span><span class="ResWord">shopt</span> -s nullglob</span>
<span class="line"><span class="LineNumber"><a href="#CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_6">   6</a> </span><span class="LineAnchor" id="CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_6"></span><span class="anchor" id="line-6-4"></span>ls *.c</span>
<span class="line"><span class="LineNumber"><a href="#CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_7">   7</a> </span><span class="LineAnchor" id="CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_7"></span><span class="anchor" id="line-7-3"></span><span class="Comment"># Runs "ls" with no arguments, and lists EVERYTHING</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_8">   8</a> </span><span class="LineAnchor" id="CA-24b3cf9a873a70db2242f0197f7c08108f26fdff_8"></span><span class="anchor" id="line-8-3"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><p class="line862">Typically, <tt class="backtick">nullglob</tt> is used to <a href="/BashFAQ/004">count the number of files</a> matching a pattern: <span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><p class="line867"><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-1-27"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-60ec3adbf4836f98cbd6ce177b71605e6963d1e0\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-60ec3adbf4836f98cbd6ce177b71605e6963d1e0" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-60ec3adbf4836f98cbd6ce177b71605e6963d1e0_1">   1</a> </span><span class="LineAnchor" id="CA-60ec3adbf4836f98cbd6ce177b71605e6963d1e0_1"></span><span class="anchor" id="line-1-28"></span><span class="ResWord">shopt</span> -s nullglob</span>
<span class="line"><span class="LineNumber"><a href="#CA-60ec3adbf4836f98cbd6ce177b71605e6963d1e0_2">   2</a> </span><span class="LineAnchor" id="CA-60ec3adbf4836f98cbd6ce177b71605e6963d1e0_2"></span><span class="anchor" id="line-2-11"></span><span class="ID">files</span>=(*)</span>
<span class="line"><span class="LineNumber"><a href="#CA-60ec3adbf4836f98cbd6ce177b71605e6963d1e0_3">   3</a> </span><span class="LineAnchor" id="CA-60ec3adbf4836f98cbd6ce177b71605e6963d1e0_3"></span><span class="anchor" id="line-3-9"></span><span class="ResWord">echo</span> <span class="String">"There are ${#files[@]} files in this directory."</span></span>
</pre></div></div><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><p class="line862">Without <em>nullglob</em>, the glob would expand to a literal <tt class="backtick">*</tt> in an empty <span class="anchor" id="line-198"></span>directory, resulting in an erroneous count of 1. <span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><p class="line867">
<h4 id="Warning">Warning</h4>
<span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><p class="line862">Enabling <tt class="backtick">nullglob</tt> on a wide scope can trigger bugs caused by bad programming <span class="anchor" id="line-203"></span>practices. It "breaks" the expectations of many utilities. <span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><p class="line874">Removing array elements: <span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-1-29"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-596a74f72eccd20add55e8fa4548b38b79846396\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-596a74f72eccd20add55e8fa4548b38b79846396" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-596a74f72eccd20add55e8fa4548b38b79846396_1">   1</a> </span><span class="LineAnchor" id="CA-596a74f72eccd20add55e8fa4548b38b79846396_1"></span><span class="anchor" id="line-1-30"></span><span class="ResWord">shopt</span> -s nullglob</span>
<span class="line"><span class="LineNumber"><a href="#CA-596a74f72eccd20add55e8fa4548b38b79846396_2">   2</a> </span><span class="LineAnchor" id="CA-596a74f72eccd20add55e8fa4548b38b79846396_2"></span><span class="anchor" id="line-2-12"></span><span class="ResWord">unset </span>array[1]</span>
<span class="line"><span class="LineNumber"><a href="#CA-596a74f72eccd20add55e8fa4548b38b79846396_3">   3</a> </span><span class="LineAnchor" id="CA-596a74f72eccd20add55e8fa4548b38b79846396_3"></span><span class="anchor" id="line-3-10"></span><span class="Comment">#unsets nothing</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-596a74f72eccd20add55e8fa4548b38b79846396_4">   4</a> </span><span class="LineAnchor" id="CA-596a74f72eccd20add55e8fa4548b38b79846396_4"></span><span class="anchor" id="line-4-8"></span><span class="Comment"></span><span class="ResWord">unset</span> -v <span class="String">"array[1]"</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-596a74f72eccd20add55e8fa4548b38b79846396_5">   5</a> </span><span class="LineAnchor" id="CA-596a74f72eccd20add55e8fa4548b38b79846396_5"></span><span class="anchor" id="line-5-6"></span><span class="Comment">#correct</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-596a74f72eccd20add55e8fa4548b38b79846396_6">   6</a> </span><span class="LineAnchor" id="CA-596a74f72eccd20add55e8fa4548b38b79846396_6"></span><span class="anchor" id="line-6-5"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><p class="line874">Array member assignments in compound form using subscripts: <span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-1-31"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-d0891a3f4f6164554c925de38ad73c5cf1d9b57a\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-d0891a3f4f6164554c925de38ad73c5cf1d9b57a" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-d0891a3f4f6164554c925de38ad73c5cf1d9b57a_1">   1</a> </span><span class="LineAnchor" id="CA-d0891a3f4f6164554c925de38ad73c5cf1d9b57a_1"></span><span class="anchor" id="line-1-32"></span><span class="ResWord">shopt</span> -s nullglob</span>
<span class="line"><span class="LineNumber"><a href="#CA-d0891a3f4f6164554c925de38ad73c5cf1d9b57a_2">   2</a> </span><span class="LineAnchor" id="CA-d0891a3f4f6164554c925de38ad73c5cf1d9b57a_2"></span><span class="anchor" id="line-2-13"></span><span class="ID">array</span>=([1]=*)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d0891a3f4f6164554c925de38ad73c5cf1d9b57a_3">   3</a> </span><span class="LineAnchor" id="CA-d0891a3f4f6164554c925de38ad73c5cf1d9b57a_3"></span><span class="anchor" id="line-3-11"></span><span class="Comment">#results in an empty array</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d0891a3f4f6164554c925de38ad73c5cf1d9b57a_4">   4</a> </span><span class="LineAnchor" id="CA-d0891a3f4f6164554c925de38ad73c5cf1d9b57a_4"></span><span class="anchor" id="line-4-9"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-220"></span><p class="line862">This was reported as a <a class="http" href="http://lists.gnu.org/archive/html/bug-bash/2012-08/msg00032.html">bug</a> in 2012, yet is unchanged to this day. <span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><p class="line874">Apart from few builtins that use modified parsing under special conditions <span class="anchor" id="line-223"></span>(e.g. declare) <strong>always use <a href="/Quotes">Quotes</a></strong> when arguments to simple commands could be interpreted as globs. <span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><p class="line862">Enabling <tt class="backtick">failglob</tt>, <tt class="backtick">nullglob</tt>, or both during development and testing can help catch mistakes early. <span class="anchor" id="line-226"></span>To prevent <em>pathname expansion</em> occuring in unintended places, you can set <a href="/glob#failglob">failglob</a>. <span class="anchor" id="line-227"></span>However, you must then guarantee all intended globs match at least one file. <span class="anchor" id="line-228"></span>Also note that the result of a glob expansion does not always differ from the glob itself. <tt class="backtick">failglob</tt> won't distinguish <tt class="backtick">echo&nbsp;?</tt> from <tt class="backtick">echo&nbsp;'?'</tt> in a directory containing only a file named <tt class="backtick">?</tt>. <tt class="backtick">nullglob</tt> will. <span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><p class="line867">
<h4 id="Portability">Portability</h4>
<span class="anchor" id="line-231"></span><p class="line874">"null globbing" is not specified by POSIX. In portable scripts, you must explicitly check that a glob match was successful by checking that the files actually exist. <span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><p class="line867"><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><span class="anchor" id="line-1-33"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_1">   1</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_1"></span><span class="anchor" id="line-1-34"></span><span class="Comment"># POSIX</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_2">   2</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_2"></span><span class="anchor" id="line-2-14"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_3">   3</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_3"></span><span class="anchor" id="line-3-12"></span><span class="ResWord">for </span>x in *; <span class="ResWord">do</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_4">   4</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_4"></span><span class="anchor" id="line-4-10"></span>    [ -e <span class="String">"$x"</span> ] || <span class="ResWord">break</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_5">   5</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_5"></span><span class="anchor" id="line-5-7"></span>    ...</span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_6">   6</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_6"></span><span class="anchor" id="line-6-6"></span><span class="ResWord">done</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_7">   7</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_7"></span><span class="anchor" id="line-7-4"></span><span class="ResWord"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_8">   8</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_8"></span><span class="anchor" id="line-8-4"></span><span class="ResWord"></span>f() {</span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_9">   9</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_9"></span><span class="anchor" id="line-9-3"></span>    [ -e <span class="String">"$1"</span> ] || <span class="ResWord">return </span>1</span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_10">  10</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_10"></span><span class="anchor" id="line-10-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_11">  11</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_11"></span><span class="anchor" id="line-11-2"></span>    <span class="ResWord">for </span>x <span class="ResWord">do</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_12">  12</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_12"></span><span class="anchor" id="line-12-2"></span>        ...</span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_13">  13</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_13"></span><span class="anchor" id="line-13-2"></span>    <span class="ResWord">done</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_14">  14</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_14"></span><span class="anchor" id="line-14-2"></span>}</span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_15">  15</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_15"></span><span class="anchor" id="line-15-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_16">  16</a> </span><span class="LineAnchor" id="CA-b45ec2c20d2fe91b4ebef38a03e5c7ffc0cd3380_16"></span><span class="anchor" id="line-16-2"></span>f * || <span class="ResWord">echo</span> <span class="String">"No files found"</span></span>
</pre></div></div><span class="anchor" id="line-251"></span><p class="line874">Some modern POSIX-compatible shells allow null globbing as an extension. <span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><p class="line867"><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-1-35"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-f08144a550a680794224ad1f011fdcc684f72e55\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-f08144a550a680794224ad1f011fdcc684f72e55" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-f08144a550a680794224ad1f011fdcc684f72e55_1">   1</a> </span><span class="LineAnchor" id="CA-f08144a550a680794224ad1f011fdcc684f72e55_1"></span><span class="anchor" id="line-1-36"></span><span class="Comment"># Bash</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-f08144a550a680794224ad1f011fdcc684f72e55_2">   2</a> </span><span class="LineAnchor" id="CA-f08144a550a680794224ad1f011fdcc684f72e55_2"></span><span class="anchor" id="line-2-15"></span><span class="Comment"></span><span class="ResWord">shopt</span> -s nullglob</span>
</pre></div></div><span class="anchor" id="line-257"></span><p class="line862">In ksh93, there is no toggle-able option. Rather, that the "nullglob" behavior is to be enabled is specified inline using the "N" option to the <tt class="backtick">∼()</tt> sub-pattern syntax. <span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><p class="line867"><span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><span class="anchor" id="line-1-37"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115_1">   1</a> </span><span class="LineAnchor" id="CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115_1"></span><span class="anchor" id="line-1-38"></span><span class="Comment"># ksh93</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115_2">   2</a> </span><span class="LineAnchor" id="CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115_2"></span><span class="anchor" id="line-2-16"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115_3">   3</a> </span><span class="LineAnchor" id="CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115_3"></span><span class="anchor" id="line-3-13"></span><span class="ResWord">for </span>x in ~(N)*; <span class="ResWord">do</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115_4">   4</a> </span><span class="LineAnchor" id="CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115_4"></span><span class="anchor" id="line-4-11"></span>    ...</span>
<span class="line"><span class="LineNumber"><a href="#CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115_5">   5</a> </span><span class="LineAnchor" id="CA-4f9929fc34cd072b3a4d94bb52d1c12908d09115_5"></span><span class="anchor" id="line-5-8"></span><span class="ResWord">done</span></span>
</pre></div></div><span class="anchor" id="line-266"></span><p class="line874">In zsh, an toggle-able option(NULL_GLOB) or a glob qualifier(N) can be used. <span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><span class="anchor" id="line-1-39"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-8fb47f30e940e5c744eb7fec211b0c04e25cb9a9\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-8fb47f30e940e5c744eb7fec211b0c04e25cb9a9" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-8fb47f30e940e5c744eb7fec211b0c04e25cb9a9_1">   1</a> </span><span class="LineAnchor" id="CA-8fb47f30e940e5c744eb7fec211b0c04e25cb9a9_1"></span><span class="anchor" id="line-1-40"></span><span class="Comment"># zsh</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-8fb47f30e940e5c744eb7fec211b0c04e25cb9a9_2">   2</a> </span><span class="LineAnchor" id="CA-8fb47f30e940e5c744eb7fec211b0c04e25cb9a9_2"></span><span class="anchor" id="line-2-17"></span><span class="Comment"></span><span class="ResWord">for </span>x in *(N); <span class="ResWord">do</span> ...; <span class="ResWord">done</span> <span class="Comment"># or setopt NULL_GLOB</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-8fb47f30e940e5c744eb7fec211b0c04e25cb9a9_3">   3</a> </span><span class="LineAnchor" id="CA-8fb47f30e940e5c744eb7fec211b0c04e25cb9a9_3"></span><span class="anchor" id="line-3-14"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-271"></span><p class="line874">mksh doesn't yet support nullglob (maintainer says he'll think about it). <span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><p class="line867">
<h3 id="dotglob">dotglob</h3>
<span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span><p class="line862">By convention, a filename beginning with a dot is "hidden", and not shown by <tt class="backtick">ls</tt>.  Globbing uses the same convention -- filenames beginning with a dot are not matched by a glob, unless the glob also begins with a dot.  Bash has a <strong>dotglob</strong> option that lets globs match "dot files": <span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><p class="line867"><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><span class="anchor" id="line-1-41"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-91d8bcd887e7d27e484e58d29758e5e0f19660b0\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-91d8bcd887e7d27e484e58d29758e5e0f19660b0" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-91d8bcd887e7d27e484e58d29758e5e0f19660b0_1">   1</a> </span><span class="LineAnchor" id="CA-91d8bcd887e7d27e484e58d29758e5e0f19660b0_1"></span><span class="anchor" id="line-1-42"></span><span class="ResWord">shopt</span> -s dotglob nullglob</span>
<span class="line"><span class="LineNumber"><a href="#CA-91d8bcd887e7d27e484e58d29758e5e0f19660b0_2">   2</a> </span><span class="LineAnchor" id="CA-91d8bcd887e7d27e484e58d29758e5e0f19660b0_2"></span><span class="anchor" id="line-2-18"></span><span class="ID">files</span>=(*)</span>
<span class="line"><span class="LineNumber"><a href="#CA-91d8bcd887e7d27e484e58d29758e5e0f19660b0_3">   3</a> </span><span class="LineAnchor" id="CA-91d8bcd887e7d27e484e58d29758e5e0f19660b0_3"></span><span class="anchor" id="line-3-15"></span><span class="ResWord">echo</span> <span class="String">"There are ${#files[@]} files here, including dot files and subdirs"</span></span>
</pre></div></div><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><p class="line862">It should be noted that when <tt class="backtick">dotglob</tt> is enabled, <tt class="backtick">*</tt> will match files like <tt class="backtick">.bashrc</tt> but <em>not</em> the <tt class="backtick">.</tt> or <tt class="backtick">..</tt> directories.  This is orthogonal to the problem of matching "just the dot files" -- a glob of <tt class="backtick">.*</tt> <em>will</em> match <tt class="backtick">.</tt> and <tt class="backtick">..</tt>, typically causing problems. <span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span><p class="line867">
<h3 id="globstar_.28since_bash_4.0-alpha.29">globstar (since bash 4.0-alpha)</h3>
<span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span><p class="line874">globstar recursively repeats a pattern containing '**'. <span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span><p class="line867"><span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><span class="anchor" id="line-1-43"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_1">   1</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_1"></span><span class="anchor" id="line-1-44"></span><span class="ID">$ </span><span class="ResWord">shopt</span> -s globstar; tree</span>
<span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_2">   2</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_2"></span><span class="anchor" id="line-2-19"></span>.</span>
<span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_3">   3</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_3"></span><span class="anchor" id="line-3-16"></span>├── directory2</span>
<span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_4">   4</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_4"></span><span class="anchor" id="line-4-12"></span>│   ├── directory3</span>
<span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_5">   5</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_5"></span><span class="anchor" id="line-5-9"></span>│   ├── file1.c</span>
<span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_6">   6</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_6"></span><span class="anchor" id="line-6-7"></span>│   └── file2</span>
<span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_7">   7</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_7"></span><span class="anchor" id="line-7-5"></span>├── file1</span>
<span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_8">   8</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_8"></span><span class="anchor" id="line-8-5"></span>└── file2.c</span>
<span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_9">   9</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_9"></span><span class="anchor" id="line-9-4"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_10">  10</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_10"></span><span class="anchor" id="line-10-3"></span><span class="Comment"># Suppose that for the following examples.</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_11">  11</a> </span><span class="LineAnchor" id="CA-0f801d37bae1c89208e0dfbb56440fbd9ac77697_11"></span><span class="anchor" id="line-11-3"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span><p class="line874">Matching files: <span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><p class="line867"><span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span><span class="anchor" id="line-1-45"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-099c007ba3c11655bff946bdfa9a8b9905600d23\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-099c007ba3c11655bff946bdfa9a8b9905600d23_1">   1</a> </span><span class="LineAnchor" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23_1"></span><span class="anchor" id="line-1-46"></span><span class="ID">$ </span><span class="ID">files</span>=(**)</span>
<span class="line"><span class="LineNumber"><a href="#CA-099c007ba3c11655bff946bdfa9a8b9905600d23_2">   2</a> </span><span class="LineAnchor" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23_2"></span><span class="anchor" id="line-2-20"></span><span class="Comment"># equivalent to: files=(* */* */*/*)</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-099c007ba3c11655bff946bdfa9a8b9905600d23_3">   3</a> </span><span class="LineAnchor" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23_3"></span><span class="anchor" id="line-3-17"></span><span class="Comment"></span><span class="Comment"># finds all files recursively</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-099c007ba3c11655bff946bdfa9a8b9905600d23_4">   4</a> </span><span class="LineAnchor" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23_4"></span><span class="anchor" id="line-4-13"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-099c007ba3c11655bff946bdfa9a8b9905600d23_5">   5</a> </span><span class="LineAnchor" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23_5"></span><span class="anchor" id="line-5-10"></span><span class="ID">$ </span><span class="ID">files</span>=(**/*.c)</span>
<span class="line"><span class="LineNumber"><a href="#CA-099c007ba3c11655bff946bdfa9a8b9905600d23_6">   6</a> </span><span class="LineAnchor" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23_6"></span><span class="anchor" id="line-6-8"></span><span class="Comment"># equivalent to: files=(*.c */*.c */*/*.c)</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-099c007ba3c11655bff946bdfa9a8b9905600d23_7">   7</a> </span><span class="LineAnchor" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23_7"></span><span class="anchor" id="line-7-6"></span><span class="Comment"></span><span class="Comment"># finds all *.c files recursively</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-099c007ba3c11655bff946bdfa9a8b9905600d23_8">   8</a> </span><span class="LineAnchor" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23_8"></span><span class="anchor" id="line-8-6"></span><span class="Comment"></span><span class="Comment"># corresponds to: find -name "*.c"</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-099c007ba3c11655bff946bdfa9a8b9905600d23_9">   9</a> </span><span class="LineAnchor" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23_9"></span><span class="anchor" id="line-9-5"></span><span class="Comment"></span><span class="Comment"># Caveat: **.c will not work, as it expands to *.c/*.c/…</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-099c007ba3c11655bff946bdfa9a8b9905600d23_10">  10</a> </span><span class="LineAnchor" id="CA-099c007ba3c11655bff946bdfa9a8b9905600d23_10"></span><span class="anchor" id="line-10-4"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-315"></span><span class="anchor" id="line-316"></span><p class="line874">Just like '*', '**' followed by a '/' will only match directories: <span class="anchor" id="line-317"></span><span class="anchor" id="line-318"></span><p class="line867"><span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><span class="anchor" id="line-1-47"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_1">   1</a> </span><span class="LineAnchor" id="CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_1"></span><span class="anchor" id="line-1-48"></span><span class="ID">$ </span><span class="ID">files</span>=(**/)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_2">   2</a> </span><span class="LineAnchor" id="CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_2"></span><span class="anchor" id="line-2-21"></span><span class="Comment"># finds all subdirectories</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_3">   3</a> </span><span class="LineAnchor" id="CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_3"></span><span class="anchor" id="line-3-18"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_4">   4</a> </span><span class="LineAnchor" id="CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_4"></span><span class="anchor" id="line-4-14"></span><span class="ID">$ </span><span class="ID">files</span>=(. **/)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_5">   5</a> </span><span class="LineAnchor" id="CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_5"></span><span class="anchor" id="line-5-11"></span><span class="Comment"># finds all subdirectories, including the current directory</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_6">   6</a> </span><span class="LineAnchor" id="CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_6"></span><span class="anchor" id="line-6-9"></span><span class="Comment"></span><span class="Comment"># corresponds to: find -type d</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_7">   7</a> </span><span class="LineAnchor" id="CA-4255a57adc34387778c41a8fe7a133f2e0e25b8c_7"></span><span class="anchor" id="line-7-7"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span><p class="line867">
<h3 id="failglob">failglob</h3>
<span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><p class="line874">If a pattern fails to match, bash reports an expansion error. This can be useful at the commandline: <span class="anchor" id="line-330"></span><span class="anchor" id="line-331"></span><p class="line867"><span class="anchor" id="line-332"></span><span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span><span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span><span class="anchor" id="line-337"></span><span class="anchor" id="line-1-49"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-91073b53758e4a604a3c71a681ab418ea3340426\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-91073b53758e4a604a3c71a681ab418ea3340426" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-91073b53758e4a604a3c71a681ab418ea3340426_1">   1</a> </span><span class="LineAnchor" id="CA-91073b53758e4a604a3c71a681ab418ea3340426_1"></span><span class="anchor" id="line-1-50"></span><span class="Comment"># Good at the command line!</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-91073b53758e4a604a3c71a681ab418ea3340426_2">   2</a> </span><span class="LineAnchor" id="CA-91073b53758e4a604a3c71a681ab418ea3340426_2"></span><span class="anchor" id="line-2-22"></span><span class="Comment"></span><span class="ID">$ </span>&gt; *.foo <span class="Comment"># creates file '*.foo' if glob fails to match</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-91073b53758e4a604a3c71a681ab418ea3340426_3">   3</a> </span><span class="LineAnchor" id="CA-91073b53758e4a604a3c71a681ab418ea3340426_3"></span><span class="anchor" id="line-3-19"></span><span class="Comment"></span><span class="ID">$ </span><span class="ResWord">shopt</span> -s failglob</span>
<span class="line"><span class="LineNumber"><a href="#CA-91073b53758e4a604a3c71a681ab418ea3340426_4">   4</a> </span><span class="LineAnchor" id="CA-91073b53758e4a604a3c71a681ab418ea3340426_4"></span><span class="anchor" id="line-4-15"></span><span class="ID">$ </span>&gt; *.foo <span class="Comment"># doesn't get executed</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-91073b53758e4a604a3c71a681ab418ea3340426_5">   5</a> </span><span class="LineAnchor" id="CA-91073b53758e4a604a3c71a681ab418ea3340426_5"></span><span class="anchor" id="line-5-12"></span><span class="Comment"></span>-bash: no match: *.foo</span>
</pre></div></div><span class="anchor" id="line-338"></span><span class="anchor" id="line-339"></span><p class="line867">
<h3 id="GLOBIGNORE">GLOBIGNORE</h3>
<span class="anchor" id="line-340"></span><span class="anchor" id="line-341"></span><p class="line862">The Bash variable (not shopt) <tt class="backtick">GLOBIGNORE</tt> allows you to specify patterns a glob <em>should not</em> match.  This lets you work around the infamous "I want to match all of my dot files, but not . or .." problem: <span class="anchor" id="line-342"></span><span class="anchor" id="line-343"></span><p class="line867"><span class="anchor" id="line-344"></span><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span><span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><span class="anchor" id="line-1-51"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-ad9d341880d3cb6c399af712603cae08e62a8ee9\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-ad9d341880d3cb6c399af712603cae08e62a8ee9" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-ad9d341880d3cb6c399af712603cae08e62a8ee9_1">   1</a> </span><span class="LineAnchor" id="CA-ad9d341880d3cb6c399af712603cae08e62a8ee9_1"></span><span class="anchor" id="line-1-52"></span><span class="ID">$ </span><span class="ResWord">echo</span> .*</span>
<span class="line"><span class="LineNumber"><a href="#CA-ad9d341880d3cb6c399af712603cae08e62a8ee9_2">   2</a> </span><span class="LineAnchor" id="CA-ad9d341880d3cb6c399af712603cae08e62a8ee9_2"></span><span class="anchor" id="line-2-23"></span>. .. .bash_history .bash_logout .bashrc .inputrc .vimrc</span>
<span class="line"><span class="LineNumber"><a href="#CA-ad9d341880d3cb6c399af712603cae08e62a8ee9_3">   3</a> </span><span class="LineAnchor" id="CA-ad9d341880d3cb6c399af712603cae08e62a8ee9_3"></span><span class="anchor" id="line-3-20"></span><span class="ID">$ </span><span class="ID">GLOBIGNORE</span>=.:..</span>
<span class="line"><span class="LineNumber"><a href="#CA-ad9d341880d3cb6c399af712603cae08e62a8ee9_4">   4</a> </span><span class="LineAnchor" id="CA-ad9d341880d3cb6c399af712603cae08e62a8ee9_4"></span><span class="anchor" id="line-4-16"></span><span class="ID">$ </span><span class="ResWord">echo</span> .*</span>
<span class="line"><span class="LineNumber"><a href="#CA-ad9d341880d3cb6c399af712603cae08e62a8ee9_5">   5</a> </span><span class="LineAnchor" id="CA-ad9d341880d3cb6c399af712603cae08e62a8ee9_5"></span><span class="anchor" id="line-5-13"></span>.bash_history .bash_logout .bashrc .inputrc .vimrc</span>
</pre></div></div><span class="anchor" id="line-350"></span><span class="anchor" id="line-351"></span><p class="line874">Unset GLOBIGNORE <span class="anchor" id="line-352"></span><span class="anchor" id="line-353"></span><p class="line867"><span class="anchor" id="line-354"></span><span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span><span class="anchor" id="line-357"></span><span class="anchor" id="line-1-53"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-2a2f9cb9b133795caaae43a7936f35234f21313f\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-2a2f9cb9b133795caaae43a7936f35234f21313f" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-2a2f9cb9b133795caaae43a7936f35234f21313f_1">   1</a> </span><span class="LineAnchor" id="CA-2a2f9cb9b133795caaae43a7936f35234f21313f_1"></span><span class="anchor" id="line-1-54"></span><span class="ID">$ </span><span class="ID">GLOBIGNORE</span>=</span>
<span class="line"><span class="LineNumber"><a href="#CA-2a2f9cb9b133795caaae43a7936f35234f21313f_2">   2</a> </span><span class="LineAnchor" id="CA-2a2f9cb9b133795caaae43a7936f35234f21313f_2"></span><span class="anchor" id="line-2-24"></span><span class="ID">$ </span><span class="ResWord">echo</span> .*</span>
<span class="line"><span class="LineNumber"><a href="#CA-2a2f9cb9b133795caaae43a7936f35234f21313f_3">   3</a> </span><span class="LineAnchor" id="CA-2a2f9cb9b133795caaae43a7936f35234f21313f_3"></span><span class="anchor" id="line-3-21"></span>. .. .bash_history .bash_logout .bashrc .inputrc .vimrc</span>
</pre></div></div><span class="anchor" id="line-358"></span><span class="anchor" id="line-359"></span><p class="line867">
<h3 id="nocasematch">nocasematch</h3>
<span class="anchor" id="line-360"></span><span class="anchor" id="line-361"></span><p class="line874">Globs inside [[ and case commands are matched case-insensitive: <span class="anchor" id="line-362"></span><span class="anchor" id="line-363"></span><p class="line867"><span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span><span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span><span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span><span class="anchor" id="line-372"></span><span class="anchor" id="line-373"></span><span class="anchor" id="line-374"></span><span class="anchor" id="line-1-55"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_1">   1</a> </span><span class="LineAnchor" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_1"></span><span class="anchor" id="line-1-56"></span>foo() {</span>
<span class="line"><span class="LineNumber"><a href="#CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_2">   2</a> </span><span class="LineAnchor" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_2"></span><span class="anchor" id="line-2-25"></span>   <span class="ResWord">local </span>f <span class="ID">r</span>=0 <span class="ID">nc</span>=0</span>
<span class="line"><span class="LineNumber"><a href="#CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_3">   3</a> </span><span class="LineAnchor" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_3"></span><span class="anchor" id="line-3-22"></span>   <span class="ResWord">shopt</span> -q nocasematch &amp;&amp; <span class="ID">nc</span>=1 || <span class="ResWord">shopt</span> -s nocasematch</span>
<span class="line"><span class="LineNumber"><a href="#CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_4">   4</a> </span><span class="LineAnchor" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_4"></span><span class="anchor" id="line-4-17"></span>   <span class="ResWord">for </span>f; <span class="ResWord">do</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_5">   5</a> </span><span class="LineAnchor" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_5"></span><span class="anchor" id="line-5-14"></span>      [[ <span class="ID">$f</span> = *.@(txt|jpg) ]] || <span class="ResWord">continue</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_6">   6</a> </span><span class="LineAnchor" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_6"></span><span class="anchor" id="line-6-10"></span><span class="ResWord">      </span>cmd -on <span class="String">"$f"</span> || <span class="ID">r</span>=1</span>
<span class="line"><span class="LineNumber"><a href="#CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_7">   7</a> </span><span class="LineAnchor" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_7"></span><span class="anchor" id="line-7-8"></span>   <span class="ResWord">done</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_8">   8</a> </span><span class="LineAnchor" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_8"></span><span class="anchor" id="line-8-7"></span>   ((nc)) || <span class="ResWord">shopt</span> -u nocasematch</span>
<span class="line"><span class="LineNumber"><a href="#CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_9">   9</a> </span><span class="LineAnchor" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_9"></span><span class="anchor" id="line-9-6"></span>   <span class="ResWord">return</span> <span class="ID">$r</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_10">  10</a> </span><span class="LineAnchor" id="CA-390c5c5b50fbc0ee35d81e174935f15ef3e2aa39_10"></span><span class="anchor" id="line-10-5"></span>}</span>
</pre></div></div><span class="anchor" id="line-375"></span><span class="anchor" id="line-376"></span><p class="line874">This is conventionally done this way: <span class="anchor" id="line-377"></span><span class="anchor" id="line-378"></span><span class="anchor" id="line-379"></span><span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><span class="anchor" id="line-382"></span><span class="anchor" id="line-1-57"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-f572ead897fc9da5834326b181b280ec22f64bac\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-f572ead897fc9da5834326b181b280ec22f64bac" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-f572ead897fc9da5834326b181b280ec22f64bac_1">   1</a> </span><span class="LineAnchor" id="CA-f572ead897fc9da5834326b181b280ec22f64bac_1"></span><span class="anchor" id="line-1-58"></span><span class="ResWord">case</span> <span class="ID">$f</span> in</span>
<span class="line"><span class="LineNumber"><a href="#CA-f572ead897fc9da5834326b181b280ec22f64bac_2">   2</a> </span><span class="LineAnchor" id="CA-f572ead897fc9da5834326b181b280ec22f64bac_2"></span><span class="anchor" id="line-2-26"></span>    *.[Tt][Xx][Tt]|*.[Jj][Pp][Gg]) : ;;</span>
<span class="line"><span class="LineNumber"><a href="#CA-f572ead897fc9da5834326b181b280ec22f64bac_3">   3</a> </span><span class="LineAnchor" id="CA-f572ead897fc9da5834326b181b280ec22f64bac_3"></span><span class="anchor" id="line-3-23"></span>    *) <span class="ResWord">continue</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-f572ead897fc9da5834326b181b280ec22f64bac_4">   4</a> </span><span class="LineAnchor" id="CA-f572ead897fc9da5834326b181b280ec22f64bac_4"></span><span class="anchor" id="line-4-18"></span><span class="ResWord"></span><span class="ResWord">esac</span></span>
</pre></div></div><span class="anchor" id="line-383"></span><span class="anchor" id="line-384"></span><p class="line874">and in earlier versions of bash we'd use a similar glob: <span class="anchor" id="line-385"></span><span class="anchor" id="line-386"></span><span class="anchor" id="line-387"></span><span class="anchor" id="line-1-59"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-a386c78369a1e839efcbfe4640737064ad7eea2e\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-a386c78369a1e839efcbfe4640737064ad7eea2e" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-a386c78369a1e839efcbfe4640737064ad7eea2e_1">   1</a> </span><span class="LineAnchor" id="CA-a386c78369a1e839efcbfe4640737064ad7eea2e_1"></span><span class="anchor" id="line-1-60"></span>[[ <span class="ID">$f</span> = *.@([Tt][Xx][Tt]|[Jj][Pp][Gg]) ]] || <span class="ResWord">continue</span></span>
</pre></div></div><span class="anchor" id="line-388"></span><p class="line874">or with no extglob: <span class="anchor" id="line-389"></span><span class="anchor" id="line-390"></span><span class="anchor" id="line-391"></span><span class="anchor" id="line-1-61"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-e8d3c78ae49fc1a997600f5562c23a5462520808\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-e8d3c78ae49fc1a997600f5562c23a5462520808" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-e8d3c78ae49fc1a997600f5562c23a5462520808_1">   1</a> </span><span class="LineAnchor" id="CA-e8d3c78ae49fc1a997600f5562c23a5462520808_1"></span><span class="anchor" id="line-1-62"></span>[[ <span class="ID">$f</span> = *.[Tt][Xx][Tt] ]] || [[ <span class="ID">$f</span> = *.[Jj][Pp][Gg] ]] || <span class="ResWord">continue</span></span>
</pre></div></div><span class="anchor" id="line-392"></span><p class="line874">Here, one might keep the tests separate for maintenance; they can be easily reused and dropped, <span class="anchor" id="line-393"></span><ul><li style="list-style-type:none"><p class="line862">without having to concern oneself with where they fit in relation to an internal ||. <span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span></li></ul><p class="line874">Note also: <span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span><span class="anchor" id="line-398"></span><span class="anchor" id="line-1-63"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-4fa24c2f680d47d44361507c3e91db40984fd0fb\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-4fa24c2f680d47d44361507c3e91db40984fd0fb" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-4fa24c2f680d47d44361507c3e91db40984fd0fb_1">   1</a> </span><span class="LineAnchor" id="CA-4fa24c2f680d47d44361507c3e91db40984fd0fb_1"></span><span class="anchor" id="line-1-64"></span>[[ <span class="ID">$f</span> = *.@([Tt][Xx][Tt]|[Jj][Pp]?([Ee])[Gg]) ]]</span>
</pre></div></div><span class="anchor" id="line-399"></span><p class="line874">Variants left as an exercise. <span class="anchor" id="line-400"></span><span class="anchor" id="line-401"></span><p class="line867">
<h3 id="nocaseglob_.28since_bash_2.02-alpha1.29">nocaseglob (since bash 2.02-alpha1)</h3>
<span class="anchor" id="line-402"></span><span class="anchor" id="line-403"></span><p class="line862">This option makes <em>pathname expansion</em> case-insensitive. <span class="anchor" id="line-404"></span>In contrast, <a href="/glob#nocasematch">nocasematch</a> operates on matches in <em><a href="/BashGuide/TestsAndConditionals#Conditional_Blocks">[[</a></em> and <em><a href="/BashGuide/TestsAndConditionals#Choices">case</a></em> commands. <span class="anchor" id="line-405"></span><span class="anchor" id="line-406"></span><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-407"></span><a href="/CategoryShell">CategoryShell</a> <span class="anchor" id="line-408"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" lang="en" dir="ltr">glob  (last edited 2016-11-21 20:34:15 by <span title="??? @ exit.oslo.tor-node.net[217.170.201.106]">exit</span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li><a href="/glob?action=edit&amp;editor=text" name="texteditlink" rel="nofollow">Edit (Text)</a></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/glob?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/glob?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/glob">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>

