<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>BashGuide/Patterns - Greg's Wiki</title>
<script type="text/javascript" src="/moin_static198/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>

<script type="text/javascript">
<!-- // GUI edit link and i18n
var gui_editor_link_href = "/BashGuide/Patterns?action=edit&editor=gui";
var gui_editor_link_text = "Edit (GUI)";
//-->
</script>

<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/modernized/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/moin_static198/modernized/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/moin_static198/modernized/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/moin_static198/modernized/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/modernized/css/msie.css">
<![endif]-->


<link rel="alternate" title="Greg's Wiki: BashGuide/Patterns" href="/BashGuide/Patterns?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=BashGuide%2FPatterns&amp;ddiffs=1" type="application/rss+xml">
<link rel="alternate" type="application/wiki" title="Edit" href="/BashGuide/Patterns?action=edit">

<link rel="Start" href="/EnglishFrontPage">
<link rel="Alternate" title="Wiki Markup" href="/BashGuide/Patterns?action=raw">
<link rel="Alternate" media="print" title="Print View" href="/BashGuide/Patterns?action=print">
<link rel="Up" href="/BashGuide">
<link rel="Search" href="/FindPage">
<link rel="Index" href="/TitleIndex">
<link rel="Glossary" href="/WordIndex">
<link rel="Help" href="/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="/BashGuide/Patterns">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="/EnglishFrontPage"><img src="/moin_static198/common/moinmoin.png" alt="MoinMoin Logo"></a></div>
<div id="username"><a href="/BashGuide/Patterns?action=login" id="login" rel="nofollow">Login</a></div>
<h1 id="locationline">

<span id="pagelocation"><span class="pagepath"><a href="/BashGuide">BashGuide</a></span><span class="sep">/</span><a href="/BashGuide/Patterns">Patterns</a></span>
</h1>


<ul id="navibar">
<li class="wikilink"><a href="/BashGuide">BashGuide</a></li><li class="wikilink"><a href="/BashFAQ">BashFAQ</a></li><li class="wikilink"><a href="/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="/FindPage">FindPage</a></li><li class="wikilink"><a href="/HelpContents">HelpContents</a></li><li class="current"><a href="/BashGuide/Patterns">BashGuide/Patterns</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li><a href="/BashGuide/Patterns?action=edit&amp;editor=text" name="texteditlink" rel="nofollow">Edit (Text)</a></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/BashGuide/Patterns?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/BashGuide/Patterns?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/BashGuide/Patterns">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><p class="line867"><a href="/BashGuide/Parameters">&lt;- Parameters</a> | <a href="/BashGuide/TestsAndConditionals">Tests and Conditionals -&gt;</a> <span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-5"></span><span class="anchor" id="StartOfContent"></span> <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line867">
<h1 id="Patterns">Patterns</h1>
<span class="anchor" id="line-8"></span><p class="line867"><a href="/BASH">BASH</a> offers three different kinds of <em>pattern matching</em>.  Pattern matching serves two roles in the shell: selecting filenames within a directory, or determining whether a string conforms to a desired format. <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><p class="line862">On the command line you will mostly use <em>globs</em>.  These are a fairly straight-forward form of patterns that can easily be used to match a range of files, or to check variables against simple rules. <span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><p class="line862">The second type of pattern matching involves <em>extended globs</em>, which allow more complicated expressions than regular globs. <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><p class="line862">Since version <tt class="backtick">3.0</tt>, Bash also supports <em>regular expression</em> patterns.  These will be useful mainly in scripts to test user input or parse data.  (You can't use a regular expression to select filenames; only globs and extended globs can do that.) <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><p class="line867"><hr class="hr4" /><p class="line874"> <span class="anchor" id="line-17"></span><ul><li style="list-style-type:none"><p class="line891"><em>Pattern</em>: A pattern is a string with a special format designed to match filenames, or to check, classify or validate data strings. <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span></li></ul><p class="line867"><hr class="hr4" /><p class="line874"> <span class="anchor" id="line-20"></span><span class="anchor" id="Glob_Patterns"></span> <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><p class="line867">
<h2 id="Glob_Patterns-1">Glob Patterns</h2>
<span class="anchor" id="line-23"></span><p class="line867"><a href="/glob">Globs</a> are a very important concept in Bash, if only for their incredible convenience.  Properly understanding globs will benefit you in many ways.  Globs are basically patterns that can be used to match filenames or other strings. <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line874">Globs are composed of normal characters and metacharacters.  Metacharacters are characters that have a special meaning.  These are the metacharacters that can be used in globs: <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><ul><li><p class="line891"><strong>*</strong>: Matches any string, including the null string. <span class="anchor" id="line-28"></span></li><li><p class="line891"><strong>?</strong>: Matches any single character. <span class="anchor" id="line-29"></span></li><li><p class="line891"><strong>[...]</strong>: Matches any one of the enclosed characters. <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span></li></ul><p class="line862">Globs are implicitly <em>anchored</em> at both ends.  What this means is that a glob must match a <em>whole</em> string (filename or data string).  A glob of <tt class="backtick">a*</tt> will not match the string <tt class="backtick">cat</tt>, because it only matches the <tt class="backtick">at</tt>, not the whole string.  A glob of <tt class="backtick">ca*</tt>, however, would match <tt class="backtick">cat</tt>. <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><p class="line874">Here's an example of how we can use glob patterns to expand to filenames: <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><p class="line867"><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><pre><span class="anchor" id="line-1"></span>$ ls
<span class="anchor" id="line-2"></span>a  abc  b  c
<span class="anchor" id="line-3"></span>$ echo *
<span class="anchor" id="line-4"></span>a abc b c
<span class="anchor" id="line-5"></span>$ echo a*
<span class="anchor" id="line-6"></span>a abc</pre><span class="anchor" id="line-43"></span><p class="line862">Bash sees the glob, for example <tt class="backtick">a*</tt>.  It <em>expands</em> this glob, by looking in the current directory and matching it against all files there.  Any filenames that match the glob are gathered up and sorted, and then the list of filenames is used in place of the glob.  As a result, the statement <tt class="backtick">echo&nbsp;a*</tt> is replaced by the statement <tt class="backtick">echo&nbsp;a&nbsp;abc</tt>, which is then executed. <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><p class="line862">When a glob is used to match <em>filenames</em>, the <tt class="backtick">*</tt> and <tt class="backtick">?</tt> characters cannot match a slash (<tt class="backtick">/</tt>) character.  So, for instance, the glob <tt class="backtick">*/bin</tt> might match <tt class="backtick">foo/bin</tt> but it cannot match <tt class="backtick">/usr/local/bin</tt>.  When globs match <em>patterns</em>, the <tt class="backtick">/</tt> restriction is removed. <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><p class="line862">Bash performs filename expansions <em>after</em> word splitting has already been done.  Therefore, filenames generated by a glob will not be split; they will always be handled correctly.  For example: <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><p class="line867"><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><pre><span class="anchor" id="line-1-1"></span>$ touch "a b.txt"
<span class="anchor" id="line-2-1"></span>$ ls
<span class="anchor" id="line-3-1"></span>a b.txt
<span class="anchor" id="line-4-1"></span>$ rm *
<span class="anchor" id="line-5-1"></span>$ ls</pre><span class="anchor" id="line-56"></span><p class="line862">Here, <tt class="backtick">*</tt> is expanded into the single filename "<tt class="backtick">a&nbsp;b.txt</tt>".  This filename will be passed as a single argument to <tt class="backtick">rm</tt>.  Using globs to enumerate files is <strong>always</strong> a better idea than using <tt>`ls`</tt> for that purpose.  Here's an example with some more complex syntax which we will cover later on, but it will illustrate the reason very well: <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><p class="line867"><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><pre><span class="anchor" id="line-1-2"></span>$ ls
<span class="anchor" id="line-2-2"></span>a b.txt
<span class="anchor" id="line-3-2"></span>$ for file in `ls`; do rm "$file"; done
<span class="anchor" id="line-4-2"></span>rm: cannot remove `a': No such file or directory
<span class="anchor" id="line-5-2"></span>rm: cannot remove `b.txt': No such file or directory
<span class="anchor" id="line-6-1"></span>$ for file in *; do rm "$file"; done
<span class="anchor" id="line-7"></span>$ ls</pre><span class="anchor" id="line-67"></span><p class="line862">Here we use the <tt class="backtick">for</tt> command to go through the output of the <tt class="backtick">ls</tt> command.  The <tt class="backtick">ls</tt> command prints the string <tt class="backtick">a&nbsp;b.txt</tt>.  The <tt class="backtick">for</tt> command splits that string into words over which it iterates.  As a result, <tt class="backtick">for</tt> iterates over first <tt class="backtick">a</tt>, and then <tt class="backtick">b.txt</tt>.  Naturally, this is <strong>not</strong> what we want.  The glob, however, expands in the proper form.  It results in the string "<tt class="backtick">a&nbsp;b.txt</tt>", which <tt class="backtick">for</tt> takes as a single argument. <span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><p class="line874">In addition to filename expansion, globs may also be used to check whether data matches a specific format.  For example, we might be given a filename, and need to take different actions depending on its extension: <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><p class="line867"><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><pre><span class="anchor" id="line-1-3"></span>$ filename="somefile.jpg"
<span class="anchor" id="line-2-3"></span>$ if [[ $filename = *.jpg ]]; then
<span class="anchor" id="line-3-3"></span>&gt; echo "$filename is a jpeg"
<span class="anchor" id="line-4-3"></span>&gt; fi
<span class="anchor" id="line-5-3"></span>somefile.jpg is a jpeg</pre><span class="anchor" id="line-78"></span><p class="line862">The <tt class="backtick">[[</tt> keyword and the <tt class="backtick">case</tt> keyword (which we will discuss in more detail later) both offer the opportunity to check a string against a glob -- either regular globs, or extended globs, if the latter have been enabled. <span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><p class="line867"><hr class="hr4" /><p class="line874"> <span class="anchor" id="line-81"></span><ul><li style="list-style-type:none"><p class="line891"><strong>Good Practice: <br>
 You should always use globs instead of <tt class="backtick">ls</tt> (or similar) to enumerate files. Globs will always expand safely and minimize the risk for bugs. <br>
 You can sometimes end up with some very weird filenames.  Most scripts aren't tested against all the odd cases that they may end up being used with.  Don't let your script be one of those!</strong> <span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span></li></ul><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-84"></span><ul><li style="list-style-type:none"><p class="line891"><strong>In The Manual: <a class="http" href="http://www.gnu.org/software/bash/manual/bashref.html#Pattern-Matching">Pattern Matching</a></strong> <span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span></li></ul><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-87"></span><ul><li style="list-style-type:none"><p class="line891"><strong>In the FAQ: <br>
 <a href="/BashFAQ/016">How can I use a logical AND/OR/NOT in a shell pattern (glob)?</a></strong> <span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span></li></ul><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-90"></span><ul><li style="list-style-type:none"><p class="line891"><em>Glob</em>: A glob is a string that can match certain strings or filenames. <span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span></li></ul><p class="line867"><hr class="hr4" /><p class="line874"> <span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><p class="line867">
<h2 id="Extended_Globs">Extended Globs</h2>
<span class="anchor" id="line-95"></span><p class="line862">Bash also supports a feature called <em>Extended Globs</em>.  These globs are more powerful in nature; technically, they are equivalent to regular expressions, although the syntax looks different than most people are used to.  This feature is turned off by default, but can be turned on with the <tt class="backtick">shopt</tt> command, which is used to toggle <strong>sh</strong>ell <strong>opt</strong>ions: <span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><p class="line867"><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><pre><span class="anchor" id="line-1-4"></span>$ shopt -s extglob</pre><span class="anchor" id="line-100"></span><ul><li><p class="line891"><strong>?(list)</strong>: Matches zero or one occurrence of the given patterns. <span class="anchor" id="line-101"></span></li><li><p class="line891"><strong>*(list)</strong>: Matches zero or more occurrences of the given patterns. <span class="anchor" id="line-102"></span></li><li><p class="line891"><strong>+(list)</strong>: Matches one or more occurrences of the given patterns. <span class="anchor" id="line-103"></span></li><li><p class="line891"><strong>@(list)</strong>: Matches one of the given patterns. <span class="anchor" id="line-104"></span></li><li><p class="line891"><strong>!(list)</strong>: Matches anything but the given patterns. <span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span></li></ul><p class="line862">The list inside the parentheses is a list of globs or extended globs separated by the <tt class="backtick">|</tt> character. Here's an example: <span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><p class="line867"><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><pre><span class="anchor" id="line-1-5"></span>$ ls
<span class="anchor" id="line-2-4"></span>names.txt  tokyo.jpg  california.bmp
<span class="anchor" id="line-3-4"></span>$ echo !(*jpg|*bmp)
<span class="anchor" id="line-4-4"></span>names.txt</pre><span class="anchor" id="line-114"></span><p class="line862">Our extended glob expands to anything that does not match the <tt class="backtick">*jpg</tt> or the <tt class="backtick">*bmp</tt> pattern.  Only the text file passes for that, so it is expanded. <span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><p class="line867"><span class="anchor" id="Regular_Expressions"></span> <span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><p class="line867">
<h2 id="Regular_Expressions-1">Regular Expressions</h2>
<span class="anchor" id="line-119"></span><p class="line862">Regular expressions (regex) are similar to <em>Glob Patterns</em>, but they can only be used for pattern matching, not for filename matching.  Since 3.0, Bash supports the <tt class="backtick">=~</tt> operator to the <tt class="backtick">[[</tt> keyword.  This operator matches the string that comes before it against the regex pattern that follows it.  When the string matches the pattern, <tt class="backtick">[[</tt> returns with an exit code of <tt class="backtick">0</tt> ("true").  If the string does not match the pattern, an exit code of <tt class="backtick">1</tt> ("false") is returned.  In case the pattern's syntax is invalid, <tt class="backtick">[[</tt> will abort the operation and return an exit code of <tt class="backtick">2</tt>. <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><p class="line862">Bash uses the <em>Extended Regular Expression</em> (<tt class="backtick">ERE</tt>) dialect.  We will not cover regexes in depth in this guide, but if you are interested in this concept, please read up on <a href="/RegularExpression">RegularExpression</a>, or <a class="http" href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html#tag_09_04">Extended Regular Expressions</a>. <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><p class="line867"><em>Regular Expression</em> patterns that use capturing groups (parentheses) will have their captured strings assigned to the <tt class="backtick">BASH_REMATCH</tt> variable for later retrieval. <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><p class="line874">Let's illustrate how regex can be used in Bash: <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><p class="line867"><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><pre><span class="anchor" id="line-1-6"></span>$ langRegex='(..)_(..)'
<span class="anchor" id="line-2-5"></span>$ if [[ $LANG =~ $langRegex ]]
<span class="anchor" id="line-3-5"></span>&gt; then
<span class="anchor" id="line-4-5"></span>&gt;     echo "Your country code (ISO 3166-1-alpha-2) is ${BASH_REMATCH[2]}."
<span class="anchor" id="line-5-4"></span>&gt;     echo "Your language code (ISO 639-1) is ${BASH_REMATCH[1]}."
<span class="anchor" id="line-6-2"></span>&gt; else
<span class="anchor" id="line-7-1"></span>&gt;     echo "Your locale was not recognised"
<span class="anchor" id="line-8"></span>&gt; fi</pre><span class="anchor" id="line-137"></span><p class="line862">Be aware that regex parsing in Bash has changed between releases <tt class="backtick">3.1</tt> and <tt class="backtick">3.2</tt>.  Before <tt class="backtick">3.2</tt> it was safe to wrap your regex pattern in quotes but this has changed in <tt class="backtick">3.2</tt>.  Since then, regex should always be unquoted.  You should protect any special characters by escaping it using a backslash.  The best way to always be compatible is to put your regex in a variable and expand that variable in <tt class="backtick">[[</tt> without quotes, as we showed above. <span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><p class="line867"><hr class="hr4" /><p class="line874"> <span class="anchor" id="line-140"></span><ul><li style="list-style-type:none"><p class="line891"><strong>Good Practice: <br>
 Since the way regex is used in <tt class="backtick">3.2</tt> is also valid in <tt class="backtick">3.1</tt> we <em>highly</em> recommend you just never quote your regex. Remember to keep special characters properly escaped!</strong> <span class="anchor" id="line-141"></span></li><li style="list-style-type:none"><p class="line891"><strong> For cross-compatibility (to avoid having to escape parentheses, pipes and so on) use a variable to store your regex, e.g. <tt>re='^\*(&nbsp;&gt;|&nbsp;*Applying&nbsp;|.*\.diff|.*\.patch)';&nbsp;[[&nbsp;$var&nbsp;=~&nbsp;$re&nbsp;]]</tt>  This is much easier to maintain since you only write ERE syntax and avoid the need for shell-escaping, as well as being compatible with all 3.x BASH versions.</strong> <span class="anchor" id="line-142"></span></li><li style="list-style-type:none"><p class="line862">See also <a class="http" href="http://tiswww.case.edu/php/chet/bash/FAQ">Chet Ramey's Bash FAQ</a>, section E14. <span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span></li></ul><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-145"></span><ul><li style="list-style-type:none"><p class="line891"><strong>In The Manual: <a class="http" href="http://www.daemon-systems.org/man/regex.3.html">Regex(3)</a></strong> <span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span></li></ul><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-148"></span><ul><li style="list-style-type:none"><p class="line891"><strong>In the FAQ: <br>
 <a href="/BashFAQ/066">I want to check if [[ $var == foo or $var == bar or $var == more ... without repeating $var n times.</a></strong> <span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span></li></ul><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-151"></span><ul><li style="list-style-type:none"><p class="line891"><em>Regular Expression</em>: A regular expression is a more complex pattern that can be used to match specific strings (but unlike globs cannot expand to filenames). <span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span></li></ul><p class="line867"><hr class="hr4" /><p class="line874"> <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><p class="line867">
<h2 id="Brace_Expansion">Brace Expansion</h2>
<span class="anchor" id="line-156"></span><p class="line862">Then, there is <em>Brace Expansion</em>.  Brace Expansion technically does not fit in the category of patterns, but it is similar.  Globs only expand to actual filenames, but brace expansions will expand to any possible permutation of their contents.  Here's how they work: <span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><p class="line867"><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><pre><span class="anchor" id="line-1-7"></span>$ echo th{e,a}n
<span class="anchor" id="line-2-6"></span>then than
<span class="anchor" id="line-3-6"></span>$ echo {/home/*,/root}/.*profile
<span class="anchor" id="line-4-6"></span>/home/axxo/.bash_profile /home/lhunath/.profile /root/.bash_profile /root/.profile
<span class="anchor" id="line-5-5"></span>$ echo {1..9}
<span class="anchor" id="line-6-3"></span>1 2 3 4 5 6 7 8 9
<span class="anchor" id="line-7-2"></span>$ echo {0,1}{0..9}
<span class="anchor" id="line-8-1"></span>00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18 19</pre><span class="anchor" id="line-168"></span><p class="line862">The brace expansion is replaced by a list of words, just like a glob is.  However, these words aren't necessarily filenames, and they are not sorted (<tt class="backtick">than</tt> would have come before <tt class="backtick">then</tt> if they were). <span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><p class="line862">Brace expansion happens <em>before</em> filename expansion.  In the second <tt class="backtick">echo</tt> command above, we used a combination of brace expansion and globs.  The brace expansion goes first, and we get: <span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><p class="line867"><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><pre><span class="anchor" id="line-1-8"></span>$ echo /home/*/.*profile /root/.*profile</pre><span class="anchor" id="line-175"></span><p class="line874">After the brace expansion, the globs are expanded, and we get the filenames as the final result. <span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><p class="line874">Brace expansions can only be used to generate lists of words.  They cannot be used for pattern matching. <span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><p class="line862">There are a few interesting and not very intuitive differences between ranges in character classes like [a-z] and brace expansion. For example, brace expansion allows counting backward, as can be seen with <tt class="backtick">{5..1}</tt> or even <tt class="backtick">{b..Y}</tt>, whereas <tt class="backtick">[5-1]</tt> isn't expanded by the shell. <tt class="backtick">[b-Y]</tt> may or may not be expanded, depending on your <a href="/locale">locale</a>. Also, character ranges in brace expansions ignore locale variables like LANG and LC_COLLATE and always use ASCII ordering. Globbing on the other hand is affected by language settings.  <span class="anchor" id="line-180"></span>The following fragment is an example for counting down and for displaying characters in the order of their ASCII codes: <span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><pre><span class="anchor" id="line-1-9"></span>$ echo {b..Y}
<span class="anchor" id="line-2-7"></span>b a ` _ ^ ]  [ Z Y</pre><span class="anchor" id="line-185"></span><p class="line867"><span class="anchor" id="EndOfContent"></span> <span class="anchor" id="line-186"></span><hr class="hr4" /><p class="line874"> <span class="anchor" id="line-187"></span><a href="/BashGuide/Parameters">&lt;- Parameters</a> | <a href="/BashGuide/TestsAndConditionals">Tests and Conditionals -&gt;</a> <span class="anchor" id="line-188"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" lang="en" dir="ltr">BashGuide/Patterns  (last edited 2016-01-15 10:08:43 by <span title="??? @ google-proxy-66-249-93-205.google.com[66.249.93.205]">google-proxy-66-249-93-205</span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li><a href="/BashGuide/Patterns?action=edit&amp;editor=text" name="texteditlink" rel="nofollow">Edit (Text)</a></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/BashGuide/Patterns?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/BashGuide/Patterns?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/BashGuide/Patterns">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>

