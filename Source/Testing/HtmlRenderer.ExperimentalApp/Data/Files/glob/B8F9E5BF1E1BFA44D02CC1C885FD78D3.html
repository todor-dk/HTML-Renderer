<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>PHP: glob - Manual </title>

 <link rel="shortcut icon" href="http://php.net/favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="http://php.net/manual/en/function.glob.php">
 <link rel="shorturl" href="http://php.net/glob">
 <link rel="alternate" href="http://php.net/glob" hreflang="x-default">

 <link rel="contents" href="http://php.net/manual/en/index.php">
 <link rel="index" href="http://php.net/manual/en/ref.filesystem.php">
 <link rel="prev" href="http://php.net/manual/en/function.fwrite.php">
 <link rel="next" href="http://php.net/manual/en/function.is-dir.php">

 <link rel="alternate" href="http://php.net/manual/en/function.glob.php" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.glob.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.glob.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.glob.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.glob.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/ja/function.glob.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.glob.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.glob.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.glob.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.glob.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="http://php.net/cached.php?t=1421837618&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="http://php.net/cached.php?t=1421837618&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="http://php.net/cached.php?t=1478800802&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="http://php.net/cached.php?t=1449787206&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base href="http://php.net/manual/en/function.glob.php">

</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="/" class="brand"><img src="/images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="/downloads">Downloads</a></li>
      <li class="active"><a href="/docs.php">Documentation</a></li>
      <li class=""><a href="/get-involved" >Get Involved</a></li>
      <li class=""><a href="/support">Help</a></li>
    </ul>
    <form class="navbar-search" id="topsearch" action="/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='/conferences/index.php#id2017-07-10-1'>php[world] 2017</a></div>
<nav id="trick"><div><dl>
<dt><a href='/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='/manual/en/security.php'>Security</a></dt>
	<dd><a href='/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='/manual/en/security.globals.php'>Using Register Globals</a></dd>
	<dd><a href='/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='/manual/en/security.magicquotes.php'>Magic Quotes</a></dd>
	<dd><a href='/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='/manual/en/features.php'>Features</a></dt>
	<dd><a href='/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='/manual/en/features.safe-mode.php'>Safe Mode</a></dd>
	<dd><a href='/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='/manual/en/refs.creditcard.php'>Credit Card Processing</a></dd>
	<dd><a href='/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.is-dir.php">
          is_dir &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.fwrite.php">
          &laquo; fwrite        </a>
      </div>
          <ul>
            <li><a href='index.php'>PHP Manual</a></li>      <li><a href='funcref.php'>Function Reference</a></li>      <li><a href='refs.fileprocess.file.php'>File System Related Extensions</a></li>      <li><a href='book.filesystem.php'>Filesystem</a></li>      <li><a href='ref.filesystem.php'>Filesystem Functions</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.glob.php' selected="selected">English</option>
            <option value='pt_BR/function.glob.php'>Brazilian Portuguese</option>
            <option value='zh/function.glob.php'>Chinese (Simplified)</option>
            <option value='fr/function.glob.php'>French</option>
            <option value='de/function.glob.php'>German</option>
            <option value='ja/function.glob.php'>Japanese</option>
            <option value='ro/function.glob.php'>Romanian</option>
            <option value='ru/function.glob.php'>Russian</option>
            <option value='es/function.glob.php'>Spanish</option>
            <option value='tr/function.glob.php'>Turkish</option>
            <option value="help-translate.php">Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://edit.php.net/?project=PHP&amp;perm=en/function.glob.php">Edit</a>
      <a href="https://bugs.php.net/report.php?bug_type=Documentation+problem&amp;manpage=function.glob">Report a Bug</a>
    </div>
  </div><div id="function.glob" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">glob</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">glob</span> &mdash; <span class="dc-title">Find pathnames matching a pattern</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.glob-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>glob</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$pattern</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   The <span class="function"><strong>glob()</strong></span> function searches for all the pathnames
   matching <code class="parameter">pattern</code> according to the rules used by
   the libc glob() function, which is similar to the rules used by common
   shells.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.glob-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">pattern</code></dt>

     <dd>

      <p class="para">
       The pattern. No tilde expansion or parameter substitution is done.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">flags</code></dt>

     <dd>

      <p class="para">
       Valid flags:
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          <strong><code>GLOB_MARK</code></strong> - Adds a slash to each directory returned
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>GLOB_NOSORT</code></strong> - Return files as they appear in the
          directory (no sorting). When this flag is not used, the pathnames are
          sorted alphabetically
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>GLOB_NOCHECK</code></strong> - Return the search pattern if no
          files matching it were found
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>GLOB_NOESCAPE</code></strong> - Backslashes do not quote
          metacharacters
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>GLOB_BRACE</code></strong> - Expands {a,b,c} to match &#039;a&#039;, &#039;b&#039;,
          or &#039;c&#039;
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>GLOB_ONLYDIR</code></strong> - Return only directory entries
          which match the pattern
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>GLOB_ERR</code></strong> - Stop on read errors (like unreadable
          directories), by default errors are ignored.
         </span>
        </li>
       </ul>
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.glob-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns an array containing the matched files/directories, an empty array
   if no file matched or <strong><code>FALSE</code></strong> on error.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    On some systems it is impossible to distinguish between empty match and an
    error.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.glob-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.1.0</td>
       <td>
        <strong><code>GLOB_ERR</code></strong> was added
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.glob-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-2656">
    <p><strong>Example #1 
     Convenient way how <span class="function"><strong>glob()</strong></span> can replace
     <span class="function"><a href="function.opendir.php" class="function">opendir()</a></span> and friends.
    </strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">"*.txt"</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$filename</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$filename</span><span style="color: #DD0000">&nbsp;size&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">filesize</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
funclist.txt size 44686
funcsummary.txt size 267625
quickref.txt size 137820
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.glob-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function will not work on
<a href="features.remote-files.php" class="link">remote files</a> as the file to
be examined must be accessible via the server&#039;s filesystem.</span></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    This function isn&#039;t available on some systems (e.g. old Sun OS).
   </span>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    The <strong><code>GLOB_BRACE</code></strong> flag is not available on some non GNU
    systems, like Solaris.
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.glob-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.opendir.php" class="function" rel="rdfs-seeAlso">opendir()</a> - Open directory handle</span></li>
    <li class="member"><span class="function"><a href="function.readdir.php" class="function" rel="rdfs-seeAlso">readdir()</a> - Read entry from directory handle</span></li>
    <li class="member"><span class="function"><a href="function.closedir.php" class="function" rel="rdfs-seeAlso">closedir()</a> - Close directory handle</span></li>
    <li class="member"><span class="function"><a href="function.fnmatch.php" class="function" rel="rdfs-seeAlso">fnmatch()</a> - Match filename against a pattern</span></li>
   </ul>
  </p>
 </div>


</div>
<section id="usernotes">
 <div class="head">
  <span class="action"><a href="/manual/add-note.php?sect=function.glob&amp;redirect=http://php.net/manual/en/function.glob.php"><img src='/images/notes-add@2x.png' alt='add a note' width='12' height='12'> <small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">50 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="88250">  <div class="votes">
    <div id="Vu88250">
    <a href="/manual/vote-note.php?id=88250&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd88250">
    <a href="/manual/vote-note.php?id=88250&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V88250" title="86% like this...">
    238
    </div>
  </div>
  <a href="#88250" class="name">
  <strong class="user"><em>crayonviolent at phpfreaks dot com</em></strong></a><a class="genanchor" href="#88250"> &para;</a><div class="date" title="2009-01-16 11:50"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom88250">
<div class="phpcode"><code><span class="html">
Since I feel this is rather vague and non-helpful, I thought I'd make a post detailing the mechanics of the glob regex.<br /><br />glob uses two special symbols that act like sort of a blend between a meta-character and a quantifier.&nbsp; These two characters are the * and ? <br /><br />The ? matches 1 of any character except a /<br />The * matches 0 or more of any character except a /<br /><br />If it helps, think of the * as the pcre equivalent of .* and ? as the pcre equivalent of the dot (.)<br /><br />Note: * and ? function independently from the previous character. For instance, if you do glob("a*.php") on the following list of files, all of the files starting with an 'a' will be returned, but * itself would match:<br /><br />a.php // * matches nothing<br />aa.php // * matches the second 'a'<br />ab.php // * matches 'b'<br />abc.php // * matches 'bc'<br />b.php // * matches nothing, because the starting 'a' fails<br />bc.php // * matches nothing, because the starting 'a' fails<br />bcd.php // * matches nothing, because the starting 'a' fails<br /><br />It does not match just a.php and aa.php as a 'normal' regex would, because it matches 0 or more of any character, not the character/class/group before it. <br /><br />Executing glob("a?.php") on the same list of files will only return aa.php and ab.php because as mentioned, the ? is the equivalent of pcre's dot, and is NOT the same as pcre's ?, which would match 0 or 1 of the previous character.<br /><br />glob's regex also supports character classes and negative character classes, using the syntax [] and [^]. It will match any one character inside [] or match any one character that is not in [^].<br /><br />With the same list above, executing <br /><br />glob("[ab]*.php) will return (all of them):<br />a.php&nbsp; // [ab] matches 'a', * matches nothing<br />aa.php // [ab] matches 'a', * matches 2nd 'a'<br />ab.php // [ab] matches 'a', * matches 'b'<br />abc.php // [ab] matches 'a', * matches 'bc'<br />b.php // [ab] matches 'b', * matches nothing<br />bc.php // [ab] matches 'b', * matches 'c'<br />bcd.php // [ab] matches 'b', * matches 'cd'<br /><br />glob("[ab].php") will return a.php and b.php<br /><br />glob("[^a]*.php") will return:<br />b.php // [^a] matches 'b', * matches nothing<br />bc.php // [^a] matches 'b', * matches 'c'<br />bcd.php // [^a] matches 'b', * matches 'cd'<br /><br />glob("[^ab]*.php") will return nothing because the character class will fail to match on the first character. <br /><br />You can also use ranges of characters inside the character class by having a starting and ending character with a hyphen in between.&nbsp; For example, [a-z] will match any letter between a and z, [0-9] will match any (one) number, etc.. <br /><br />glob also supports limited alternation with {n1, n2, etc..}.&nbsp; You have to specify GLOB_BRACE as the 2nd argument for glob in order for it to work.&nbsp; So for example, if you executed glob("{a,b,c}.php", GLOB_BRACE) on the following list of files:<br /><br />a.php<br />b.php<br />c.php<br /><br />all 3 of them would return.&nbsp; Note: using alternation with single characters like that is the same thing as just doing glob("[abc].php").&nbsp; A more interesting example would be glob("te{xt,nse}.php", GLOB_BRACE) on:<br /><br />tent.php<br />text.php<br />test.php<br />tense.php<br /><br />text.php and tense.php would be returned from that glob.<br /><br />glob's regex does not offer any kind of quantification of a specified character or character class or alternation.&nbsp; For instance, if you have the following files:<br /><br />a.php<br />aa.php<br />aaa.php<br />ab.php<br />abc.php<br />b.php<br />bc.php<br /><br />with pcre regex you can do ~^a+\.php$~ to return <br /><br />a.php<br />aa.php<br />aaa.php<br /><br />This is not possible with glob.&nbsp; If you are trying to do something like this, you can first narrow it down with glob, and then get exact matches with a full flavored regex engine.&nbsp; For example, if you wanted all of the php files in the previous list that only have one or more 'a' in it, you can do this:<br /><br /><span class="default">&lt;?php<br />&nbsp;&nbsp; $list </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="string">"a*.php"</span><span class="keyword">);<br />&nbsp;&nbsp; foreach (</span><span class="default">$list </span><span class="keyword">as </span><span class="default">$l</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"~^a+\.php$~"</span><span class="keyword">,</span><span class="default">$file</span><span class="keyword">))<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$files</span><span class="keyword">[] = </span><span class="default">$l</span><span class="keyword">;<br />&nbsp;&nbsp; }<br /></span><span class="default">?&gt;<br /></span><br />glob also does not support lookbehinds, lookaheads, atomic groupings, capturing, or any of the 'higher level' regex functions.<br /><br />glob does not support 'shortkey' meta-characters like \w or \d.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92710">  <div class="votes">
    <div id="Vu92710">
    <a href="/manual/vote-note.php?id=92710&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92710">
    <a href="/manual/vote-note.php?id=92710&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92710" title="82% like this...">
    45
    </div>
  </div>
  <a href="#92710" class="name">
  <strong class="user"><em>uramihsayibok, gmail, com</em></strong></a><a class="genanchor" href="#92710"> &para;</a><div class="date" title="2009-08-04 03:38"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom92710">
<div class="phpcode"><code><span class="html">
Those of you with PHP 5 don't have to come up with these wild functions to scan a directory recursively: the SPL can do it.<br /><br /><span class="default">&lt;?php<br /><br />$dir_iterator </span><span class="keyword">= new </span><span class="default">RecursiveDirectoryIterator</span><span class="keyword">(</span><span class="string">"/path"</span><span class="keyword">);<br /></span><span class="default">$iterator </span><span class="keyword">= new </span><span class="default">RecursiveIteratorIterator</span><span class="keyword">(</span><span class="default">$dir_iterator</span><span class="keyword">, </span><span class="default">RecursiveIteratorIterator</span><span class="keyword">::</span><span class="default">SELF_FIRST</span><span class="keyword">);<br /></span><span class="comment">// could use CHILD_FIRST if you so wish<br /><br /></span><span class="keyword">foreach (</span><span class="default">$iterator </span><span class="keyword">as </span><span class="default">$file</span><span class="keyword">) {<br />&nbsp; &nbsp; echo </span><span class="default">$file</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">;<br />}<br /><br /></span><span class="default">?&gt;<br /></span><br />Not to mention the fact that $file will be an SplFileInfo class, so you can do powerful stuff really easily:<br /><br /><span class="default">&lt;?php<br /><br />$size </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />foreach (</span><span class="default">$iterator </span><span class="keyword">as </span><span class="default">$file</span><span class="keyword">) {<br />&nbsp; &nbsp; if (</span><span class="default">$file</span><span class="keyword">-&gt;</span><span class="default">isFile</span><span class="keyword">()) {<br />&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">-&gt;</span><span class="default">getPathname</span><span class="keyword">(), </span><span class="default">27</span><span class="keyword">) . </span><span class="string">": " </span><span class="keyword">. </span><span class="default">$file</span><span class="keyword">-&gt;</span><span class="default">getSize</span><span class="keyword">() . </span><span class="string">" B; modified " </span><span class="keyword">. </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">$file</span><span class="keyword">-&gt;</span><span class="default">getMTime</span><span class="keyword">()) . </span><span class="string">"\n"</span><span class="keyword">;<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$size </span><span class="keyword">+= </span><span class="default">$file</span><span class="keyword">-&gt;</span><span class="default">getSize</span><span class="keyword">();<br />&nbsp; &nbsp; }<br />}<br /><br />echo </span><span class="string">"\nTotal file size: "</span><span class="keyword">, </span><span class="default">$size</span><span class="keyword">, </span><span class="string">" bytes\n"</span><span class="keyword">;<br /><br /></span><span class="default">?&gt;<br /></span><br />\Luna\luna.msstyles: 4190352 B; modified 2008-04-13<br />\Luna\Shell\Homestead\shellstyle.dll: 362496 B; modified 2006-02-28<br />\Luna\Shell\Metallic\shellstyle.dll: 362496 B; modified 2006-02-28<br />\Luna\Shell\NormalColor\shellstyle.dll: 361472 B; modified 2006-02-28<br />\Luna.theme: 1222 B; modified 2006-02-28<br />\Windows Classic.theme: 3025 B; modified 2006-02-28<br /><br />Total file size: 5281063 bytes</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90672">  <div class="votes">
    <div id="Vu90672">
    <a href="/manual/vote-note.php?id=90672&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd90672">
    <a href="/manual/vote-note.php?id=90672&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V90672" title="85% like this...">
    5
    </div>
  </div>
  <a href="#90672" class="name">
  <strong class="user"><em>r dot hartung at roberthartung dot de</em></strong></a><a class="genanchor" href="#90672"> &para;</a><div class="date" title="2009-05-04 12:34"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom90672">
<div class="phpcode"><code><span class="html">
You can use multiple asterisks with the glob() - function.<br /><br />Example:<br /><br /><span class="default">&lt;?php<br />&nbsp; $paths </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="string">'my/*/dir/*.php'</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />$paths will contains paths as following examples:<br /><br />- my/1/dir/xyz.php<br />- my/bar/dir/bar.php<br />- my/bar/dir/foo.php</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102931">  <div class="votes">
    <div id="Vu102931">
    <a href="/manual/vote-note.php?id=102931&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd102931">
    <a href="/manual/vote-note.php?id=102931&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V102931" title="82% like this...">
    18
    </div>
  </div>
  <a href="#102931" class="name">
  <strong class="user"><em>david dot schueler at tel-billig dot de</em></strong></a><a class="genanchor" href="#102931"> &para;</a><div class="date" title="2011-03-15 06:32"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom102931">
<div class="phpcode"><code><span class="html">
Don't use glob() if you try to list files in a directory where very much files are stored (&gt;100.000). You get an "Allowed memory size of XYZ bytes exhausted ..." error.<br />You may try to increase the memory_limit variable in php.ini. Mine has 128MB set and the script will still reach this limit while glob()ing over 500.000 files.<br /><br />The more stable way is to use readdir() on very large numbers of files:<br /><span class="default">&lt;?php<br /></span><span class="comment">// code snippet<br /></span><span class="keyword">if (</span><span class="default">$handle </span><span class="keyword">= </span><span class="default">opendir</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)) {<br />&nbsp; &nbsp; while (</span><span class="default">false </span><span class="keyword">!== (</span><span class="default">$file </span><span class="keyword">= </span><span class="default">readdir</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">))) {<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// do something with the file<br />&nbsp; &nbsp; &nbsp; &nbsp; // note that '.' and '..' is returned even<br />&nbsp; &nbsp; </span><span class="keyword">}<br />&nbsp; &nbsp; </span><span class="default">closedir</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103022">  <div class="votes">
    <div id="Vu103022">
    <a href="/manual/vote-note.php?id=103022&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd103022">
    <a href="/manual/vote-note.php?id=103022&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V103022" title="80% like this...">
    9
    </div>
  </div>
  <a href="#103022" class="name">
  <strong class="user"><em>Ultimater at gmail dot com</em></strong></a><a class="genanchor" href="#103022"> &para;</a><div class="date" title="2011-03-20 11:44"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom103022">
<div class="phpcode"><code><span class="html">
glob() isn't limited to one directory:<br /><br /><span class="default">&lt;?php<br />$results</span><span class="keyword">=</span><span class="default">glob</span><span class="keyword">(</span><span class="string">"{includes/*.php,core/*.php}"</span><span class="keyword">,</span><span class="default">GLOB_BRACE</span><span class="keyword">);<br />echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">,</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$results</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">),</span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span><br />Just be careful when using GLOB_BRACE regarding spaces around the comma:<br />{includes/*.php,core/*.php} works as expected, but<br />{includes/*.php, core/*.php} with a leading space, will only match the former as expected but not the latter<br />unless you have a directory named " core" on your machine with a leading space.<br />PHP can create such directories quite easily like so:<br />mkdir(" core");</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68869">  <div class="votes">
    <div id="Vu68869">
    <a href="/manual/vote-note.php?id=68869&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd68869">
    <a href="/manual/vote-note.php?id=68869&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V68869" title="80% like this...">
    9
    </div>
  </div>
  <a href="#68869" class="name">
  <strong class="user"><em>redcube at gmx dot de</em></strong></a><a class="genanchor" href="#68869"> &para;</a><div class="date" title="2006-08-14 02:22"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom68869">
<div class="phpcode"><code><span class="html">
Please note that glob('*') ignores all 'hidden' files by default. This means it does not return files that start with a dot (e.g. ".file").<br />If you want to match those files too, you can use "{,.}*" as the pattern with the GLOB_BRACE flag.<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">// Search for all files that match .* or *<br /></span><span class="default">$files </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="string">'{,.}*'</span><span class="keyword">, </span><span class="default">GLOB_BRACE</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />Note: This also returns the directory special entries . and ..</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106595">  <div class="votes">
    <div id="Vu106595">
    <a href="/manual/vote-note.php?id=106595&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106595">
    <a href="/manual/vote-note.php?id=106595&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106595" title="73% like this...">
    30
    </div>
  </div>
  <a href="#106595" class="name">
  <strong class="user"><em>Mike</em></strong></a><a class="genanchor" href="#106595"> &para;</a><div class="date" title="2011-11-21 07:48"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom106595">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br /><br /></span><span class="keyword">if ( ! </span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'glob_recursive'</span><span class="keyword">))<br />{<br />&nbsp; &nbsp; </span><span class="comment">// Does not support flag GLOB_BRACE<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">glob_recursive</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$flags </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$files </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$flags</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">glob</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">).</span><span class="string">'/*'</span><span class="keyword">, </span><span class="default">GLOB_ONLYDIR</span><span class="keyword">|</span><span class="default">GLOB_NOSORT</span><span class="keyword">) as </span><span class="default">$dir</span><span class="keyword">)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$files </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$files</span><span class="keyword">, </span><span class="default">glob_recursive</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">basename</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">), </span><span class="default">$flags</span><span class="keyword">));<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$files</span><span class="keyword">;<br />&nbsp; &nbsp; }<br />}<br /><br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108440">  <div class="votes">
    <div id="Vu108440">
    <a href="/manual/vote-note.php?id=108440&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd108440">
    <a href="/manual/vote-note.php?id=108440&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V108440" title="76% like this...">
    11
    </div>
  </div>
  <a href="#108440" class="name">
  <strong class="user"><em>Sam Bryan</em></strong></a><a class="genanchor" href="#108440"> &para;</a><div class="date" title="2012-04-26 04:13"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom108440">
<div class="phpcode"><code><span class="html">
glob is case sensitive, even on Windows systems.<br /><br />It does support character classes though, so a case insensitive version of<br /><span class="default">&lt;?php glob</span><span class="keyword">(</span><span class="string">'my/dir/*.csv'</span><span class="keyword">) </span><span class="default">?&gt;<br /></span><br />could be written as<br /><span class="default">&lt;?php glob</span><span class="keyword">(</span><span class="string">'my/dir/*.[cC][sS][vV]'</span><span class="keyword">) </span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="110510">  <div class="votes">
    <div id="Vu110510">
    <a href="/manual/vote-note.php?id=110510&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd110510">
    <a href="/manual/vote-note.php?id=110510&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V110510" title="75% like this...">
    6
    </div>
  </div>
  <a href="#110510" class="name">
  <strong class="user"><em>Gabriel S. Luraschi</em></strong></a><a class="genanchor" href="#110510"> &para;</a><div class="date" title="2012-10-30 06:54"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom110510">
<div class="phpcode"><code><span class="html">
Use this to exclude hidden files on MS Windows.<br /><br /><span class="default">&lt;?php<br />exec</span><span class="keyword">(</span><span class="string">"dir \"</span><span class="keyword">{</span><span class="default">$path</span><span class="keyword">}</span><span class="string">\" /A:-H /B"</span><span class="keyword">, </span><span class="default">$result</span><span class="keyword">);<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="110340">  <div class="votes">
    <div id="Vu110340">
    <a href="/manual/vote-note.php?id=110340&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd110340">
    <a href="/manual/vote-note.php?id=110340&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V110340" title="71% like this...">
    15
    </div>
  </div>
  <a href="#110340" class="name">
  <strong class="user"><em>ni dot pineau at gmail dot com</em></strong></a><a class="genanchor" href="#110340"> &para;</a><div class="date" title="2012-10-12 04:08"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom110340">
<div class="phpcode"><code><span class="html">
Note that in case you are using braces with glob you might retrieve duplicated entries for files that matche more than one item :<br /><br /><span class="default">&lt;?php<br /><br />$a </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="string">'/path/*{foo,bar}.dat'</span><span class="keyword">,</span><span class="default">GLOB_BRACE</span><span class="keyword">);<br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;<br /></span><br />Result : <br />Array<br />(<br />&nbsp; &nbsp; [0] =&gt; /path/file_foo.dat<br />&nbsp; &nbsp; [1] =&gt; /path/file_foobar.dat<br />&nbsp; &nbsp; [2] =&gt; /path/file_foobar.dat<br />)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74996">  <div class="votes">
    <div id="Vu74996">
    <a href="/manual/vote-note.php?id=74996&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd74996">
    <a href="/manual/vote-note.php?id=74996&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V74996" title="75% like this...">
    2
    </div>
  </div>
  <a href="#74996" class="name">
  <strong class="user"><em>nataxia at gmail dot com</em></strong></a><a class="genanchor" href="#74996"> &para;</a><div class="date" title="2007-05-07 04:05"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom74996">
<div class="phpcode"><code><span class="html">
Something I used to sort dir &amp; subdir into array (multidimensional) reflecting dir structure.<br /><br />&nbsp; &nbsp; function getRecursiveFolderList($curDir,$currentA=false) <br />&nbsp; &nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; $dirs = glob($curDir . '/*', GLOB_ONLYDIR);&nbsp; &nbsp;&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; $cur = 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; foreach($dirs as $dir)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $currentA[$cur]['path'] = $dir;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $currentA[$cur] = $this-&gt;getRecursiveFolderList($dir,$currentA[$cur]);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ++$cur;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; return $currentA;<br />&nbsp; &nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106047">  <div class="votes">
    <div id="Vu106047">
    <a href="/manual/vote-note.php?id=106047&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106047">
    <a href="/manual/vote-note.php?id=106047&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106047" title="71% like this...">
    3
    </div>
  </div>
  <a href="#106047" class="name">
  <strong class="user"><em>mkas at destiny dot lt</em></strong></a><a class="genanchor" href="#106047"> &para;</a><div class="date" title="2011-10-05 12:58"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom106047">
<div class="phpcode"><code><span class="html">
recursive file search<br /><br /><span class="default">&lt;?php<br />$path</span><span class="keyword">[] = </span><span class="string">'starting_place/*'</span><span class="keyword">;<br /><br />while(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) != </span><span class="default">0</span><span class="keyword">)<br />{<br />&nbsp; &nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />&nbsp; &nbsp; foreach(</span><span class="default">glob</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) as </span><span class="default">$item</span><span class="keyword">)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">))<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$path</span><span class="keyword">[] = </span><span class="default">$item </span><span class="keyword">. </span><span class="string">'/*'</span><span class="keyword">;<br />&nbsp; &nbsp; &nbsp; &nbsp; elseif (</span><span class="default">is_file</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">))<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//do something<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br />&nbsp; &nbsp; }<br />}<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71531">  <div class="votes">
    <div id="Vu71531">
    <a href="/manual/vote-note.php?id=71531&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71531">
    <a href="/manual/vote-note.php?id=71531&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71531" title="71% like this...">
    6
    </div>
  </div>
  <a href="#71531" class="name">
  <strong class="user"><em>lesion at autistici dot org</em></strong></a><a class="genanchor" href="#71531"> &para;</a><div class="date" title="2006-12-04 08:14"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom71531">
<div class="phpcode"><code><span class="html">
Maybe all of you still know this, but it seems that if the directory contains some unresolved symlink, glob() simply ignore those files.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111217">  <div class="votes">
    <div id="Vu111217">
    <a href="/manual/vote-note.php?id=111217&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd111217">
    <a href="/manual/vote-note.php?id=111217&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V111217" title="68% like this...">
    8
    </div>
  </div>
  <a href="#111217" class="name">
  <strong class="user"><em>agd243 at gmail dot com</em></strong></a><a class="genanchor" href="#111217"> &para;</a><div class="date" title="2013-01-27 02:45"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom111217">
<div class="phpcode"><code><span class="html">
A simple function that find all files by extension an return it by an array.<br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">findFiles</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">, </span><span class="default">$extensions </span><span class="keyword">= array()) {<br />&nbsp; &nbsp; function </span><span class="default">glob_recursive</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">, &amp;</span><span class="default">$directories </span><span class="keyword">= array()) {<br />&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">glob</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">, </span><span class="default">GLOB_ONLYDIR </span><span class="keyword">| </span><span class="default">GLOB_NOSORT</span><span class="keyword">) as </span><span class="default">$folder</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$directories</span><span class="keyword">[] = </span><span class="default">$folder</span><span class="keyword">;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">glob_recursive</span><span class="keyword">(</span><span class="string">"</span><span class="keyword">{</span><span class="default">$folder</span><span class="keyword">}</span><span class="string">/*"</span><span class="keyword">, </span><span class="default">$directories</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; </span><span class="default">glob_recursive</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">, </span><span class="default">$directories</span><span class="keyword">);<br />&nbsp; &nbsp; </span><span class="default">$files </span><span class="keyword">= array ();<br />&nbsp; &nbsp; foreach(</span><span class="default">$directories </span><span class="keyword">as </span><span class="default">$directory</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$extensions </span><span class="keyword">as </span><span class="default">$extension</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">glob</span><span class="keyword">(</span><span class="string">"</span><span class="keyword">{</span><span class="default">$directory</span><span class="keyword">}</span><span class="string">/*.</span><span class="keyword">{</span><span class="default">$extension</span><span class="keyword">}</span><span class="string">"</span><span class="keyword">) as </span><span class="default">$file</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$files</span><span class="keyword">[</span><span class="default">$extension</span><span class="keyword">][] = </span><span class="default">$file</span><span class="keyword">;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; return </span><span class="default">$files</span><span class="keyword">;<br />}<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">findFiles</span><span class="keyword">(</span><span class="string">"C:"</span><span class="keyword">, array (<br /><br />&nbsp; &nbsp; </span><span class="string">"jpg"</span><span class="keyword">,<br />&nbsp; &nbsp; </span><span class="string">"pdf"</span><span class="keyword">,<br />&nbsp; &nbsp; </span><span class="string">"png"</span><span class="keyword">,<br />&nbsp; &nbsp; </span><span class="string">"html"<br /></span><span class="keyword">)));<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97899">  <div class="votes">
    <div id="Vu97899">
    <a href="/manual/vote-note.php?id=97899&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd97899">
    <a href="/manual/vote-note.php?id=97899&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V97899" title="68% like this...">
    6
    </div>
  </div>
  <a href="#97899" class="name">
  <strong class="user"><em>peter dot adrianov at gmail dot com</em></strong></a><a class="genanchor" href="#97899"> &para;</a><div class="date" title="2010-05-14 04:29"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom97899">
<div class="phpcode"><code><span class="html">
Non-recursive search files, proceeding down directory tree.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">scandir_through</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)<br />{<br />&nbsp; &nbsp; </span><span class="default">$items </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$dir </span><span class="keyword">. </span><span class="string">'/*'</span><span class="keyword">);<br /><br />&nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$items</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$items</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$add </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$items</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] . </span><span class="string">'/*'</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$items </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$items</span><span class="keyword">, </span><span class="default">$add</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; return </span><span class="default">$items</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86425">  <div class="votes">
    <div id="Vu86425">
    <a href="/manual/vote-note.php?id=86425&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd86425">
    <a href="/manual/vote-note.php?id=86425&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V86425" title="68% like this...">
    6
    </div>
  </div>
  <a href="#86425" class="name">
  <strong class="user"><em>carlos dot lage at nospam at foo dot bar at gmail dot com</em></strong></a><a class="genanchor" href="#86425"> &para;</a><div class="date" title="2008-10-17 06:18"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom86425">
<div class="phpcode"><code><span class="html">
I lost hours looking for the solution for this problem.<br />glob() wasn't eating up my directory names (stuff like "foobar[]"), and I searched online for some hours, I tried preg_quote to no avail.<br /><br />I finally found the proper way to escape stuff in glob() in an obscure Python mailing list:<br /><br /><span class="default">&lt;?php <br />preg_replace</span><span class="keyword">(</span><span class="string">'/(\*|\?|\[)/'</span><span class="keyword">, </span><span class="string">'[$1]'</span><span class="keyword">, </span><span class="default">$dir_path</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />If you want to add a directory path before your pattern, you should do it like this:<br /><br /><span class="default">&lt;?php<br />glob</span><span class="keyword">(</span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/(\*|\?|\[)/'</span><span class="keyword">, </span><span class="string">'[$1]'</span><span class="keyword">, </span><span class="default">$dir_path</span><span class="keyword">).</span><span class="string">'*.txt'</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span>preg_quote WILL NOT work in all cases (if any).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82539">  <div class="votes">
    <div id="Vu82539">
    <a href="/manual/vote-note.php?id=82539&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd82539">
    <a href="/manual/vote-note.php?id=82539&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V82539" title="68% like this...">
    6
    </div>
  </div>
  <a href="#82539" class="name">
  <strong class="user"><em>alan at synergymx dot com</em></strong></a><a class="genanchor" href="#82539"> &para;</a><div class="date" title="2008-04-15 12:08"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom82539">
<div class="phpcode"><code><span class="html">
Here is a function that returns specific files in an array, with all of the details. Includes some basic garbage checking.<br /><br />Variables<br /><br />$source_folder // the location of your files<br />$ext // file extension you want to limit to (i.e.: *.txt)<br />$sec // if you only want files that are at least so old.<br /><br />The function<br /><br />function glob_files($source_folder, $ext, $sec, $limit){<br />&nbsp; &nbsp; if( !is_dir( $source_folder ) ) {<br />&nbsp; &nbsp; &nbsp; &nbsp; die ( "Invalid directory.\n\n" );<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; $FILES = glob($source_folder."\*.".$ext);<br />&nbsp; &nbsp; $set_limit&nbsp; &nbsp; = 0;<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; foreach($FILES as $key =&gt; $file) {<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; if( $set_limit == $limit )&nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; if( filemtime( $file ) &gt; $sec ){<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $FILE_LIST[$key]['path']&nbsp; &nbsp; = substr( $file, 0, ( strrpos( $file, "\\" ) +1 ) );<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $FILE_LIST[$key]['name']&nbsp; &nbsp; = substr( $file, ( strrpos( $file, "\\" ) +1 ) );&nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $FILE_LIST[$key]['size']&nbsp; &nbsp; = filesize( $file );<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $FILE_LIST[$key]['date']&nbsp; &nbsp; = date('Y-m-d G:i:s', filemtime( $file ) );<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $set_limit++;<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; if(!empty($FILE_LIST)){<br />&nbsp; &nbsp; &nbsp; &nbsp; return $FILE_LIST;<br />&nbsp; &nbsp; } else {<br />&nbsp; &nbsp; &nbsp; &nbsp; die( "No files found!\n\n" );<br />&nbsp; &nbsp; }<br />}<br /><br />So....<br /><br />$source_folder = "c:\temp\my_videos";<br />$ext = "flv"; // flash video files<br />$sec = "7200"; // files older than 2 hours<br />$limit = 2;<br /><br />print_r(glob_files($source_folder, $ext, $sec, $limit));<br /><br />Would return:<br /><br />Array<br />(<br />&nbsp; &nbsp; [0] =&gt; Array<br />&nbsp; &nbsp; &nbsp; &nbsp; (<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [path] =&gt; c:\temp\my_videos\<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [name] =&gt; fluffy_bunnies.flv<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [size] =&gt; 21160480<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [date] =&gt; 2007-10-30 16:48:05<br />&nbsp; &nbsp; &nbsp; &nbsp; )<br /><br />&nbsp; &nbsp; [1] =&gt; Array<br />&nbsp; &nbsp; &nbsp; &nbsp; (<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [path] =&gt; c:\temp\my_videos\<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [name] =&gt; synergymx.com.flv<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [size] =&gt; 14522744<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [date] =&gt; 2007-10-25 15:34:45<br />&nbsp; &nbsp; &nbsp; &nbsp; )</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92037">  <div class="votes">
    <div id="Vu92037">
    <a href="/manual/vote-note.php?id=92037&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92037">
    <a href="/manual/vote-note.php?id=92037&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92037" title="66% like this...">
    1
    </div>
  </div>
  <a href="#92037" class="name">
  <strong class="user"><em>nuntius</em></strong></a><a class="genanchor" href="#92037"> &para;</a><div class="date" title="2009-07-06 10:10"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom92037">
<div class="phpcode"><code><span class="html">
First off, it's nice to see all of the different takes on this. Thanks for all of the great examples. <br /><br />Fascinated by the foreach usage I was curious how it might work with a for loop. I found that glob was well suited for this, especially compared to opendir.&nbsp; The for loop is always efficient when you want to protect against a potential endless loop. <br /><br />$dir=$_SERVER['DOCUMENT_ROOT']."/test/directory_listing/test";<br />&nbsp; &nbsp; echo $dir;<br />&nbsp; &nbsp; $filesArray=glob($dir."/*.*");&nbsp; &nbsp; <br />&nbsp; &nbsp; <br />&nbsp; &nbsp; $line.="&lt;pre&gt;";<br />&nbsp; &nbsp; $line.=print_r($filesArray, true);<br />&nbsp; &nbsp; $line.="&lt;/pre&gt;";<br />&nbsp; &nbsp; $line.="&lt;hr&gt;";<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; for($i=0;$i&lt;count($filesArray);$i++) {<br />&nbsp; &nbsp; &nbsp; &nbsp; $line.=key($filesArray)." - ";&nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; $line.=$filesArray[$i]."&lt;br/&gt;";<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; next($filesArray);<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; echo $line;<br /><br />Note that I pulled the glob array keys if you should need them. <br /><br />Also you can tweak it for searches with something like this... (case sensitive)<br /><br />$search_names="Somedocname";<br />$filesArray=glob($dir."/".$search_names."*.*");&nbsp; &nbsp; <br />&nbsp; &nbsp; <br />Enjoy!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83287">  <div class="votes">
    <div id="Vu83287">
    <a href="/manual/vote-note.php?id=83287&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd83287">
    <a href="/manual/vote-note.php?id=83287&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V83287" title="66% like this...">
    1
    </div>
  </div>
  <a href="#83287" class="name">
  <strong class="user"><em>heavyraptor at gmail dot com</em></strong></a><a class="genanchor" href="#83287"> &para;</a><div class="date" title="2008-05-19 04:56"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom83287">
<div class="phpcode"><code><span class="html">
glob() (array_sum() and array_map() in fact too) can be very useful if you want to calculate the sum of all the files' sizes located in a directory:<br /><br /><span class="default">&lt;?php<br />$bytes </span><span class="keyword">= </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'filesize'</span><span class="keyword">,</span><span class="default">glob</span><span class="keyword">(</span><span class="string">'*'</span><span class="keyword">)));<br /></span><span class="default">?&gt;<br /></span><br />Unfortunately there's no way to do this recursively, using glob() (as far as I know).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60421">  <div class="votes">
    <div id="Vu60421">
    <a href="/manual/vote-note.php?id=60421&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd60421">
    <a href="/manual/vote-note.php?id=60421&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V60421" title="66% like this...">
    2
    </div>
  </div>
  <a href="#60421" class="name">
  <strong class="user"><em>info at urbits dot com</em></strong></a><a class="genanchor" href="#60421"> &para;</a><div class="date" title="2006-01-06 04:26"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom60421">
<div class="phpcode"><code><span class="html">
I have been working towards a CMS-type design that is both modular and quite flat. For example, included files are all one level below the installation folder.<br /><br />glob() just help me get rid of a lot of opendir() hassle. I wasn't sure if the double asterix would work - but it's fine:<br /><br />foreach (glob(SERVER_PATH."/*/includes/*.php") as $inc) {<br />&nbsp;&nbsp; require($inc);<br />}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112052">  <div class="votes">
    <div id="Vu112052">
    <a href="/manual/vote-note.php?id=112052&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112052">
    <a href="/manual/vote-note.php?id=112052&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112052" title="63% like this...">
    3
    </div>
  </div>
  <a href="#112052" class="name">
  <strong class="user"><em>soywiz at gmail dot com</em></strong></a><a class="genanchor" href="#112052"> &para;</a><div class="date" title="2013-04-26 10:26"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom112052">
<div class="phpcode"><code><span class="html">
Recursive glob for PHP&gt;=5.5<br /><br />function globRecursive($path, $find) {<br />&nbsp; &nbsp; $dh = opendir($path);<br />&nbsp; &nbsp; while (($file = readdir($dh)) !== false) {<br />&nbsp; &nbsp; &nbsp; &nbsp; if (substr($file, 0, 1) == '.') continue;<br />&nbsp; &nbsp; &nbsp; &nbsp; $rfile = "{$path}/{$file}";<br />&nbsp; &nbsp; &nbsp; &nbsp; if (is_dir($rfile)) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (globRecursive($rfile, $find) as $ret) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; yield $ret;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; } else {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (fnmatch($find, $file)) yield $rfile;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; closedir($dh);<br />}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102691">  <div class="votes">
    <div id="Vu102691">
    <a href="/manual/vote-note.php?id=102691&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd102691">
    <a href="/manual/vote-note.php?id=102691&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V102691" title="63% like this...">
    3
    </div>
  </div>
  <a href="#102691" class="name">
  <strong class="user"><em>troy at troyonline dot com</em></strong></a><a class="genanchor" href="#102691"> &para;</a><div class="date" title="2011-02-28 09:50"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom102691">
<div class="phpcode"><code><span class="html">
If you have open_basedir set in php.ini to limit which files php can execute, glob(...) will return false when there are no matching files.&nbsp; If open_basedir is not set, the very same code will return an empty array in the same situation.<br /><br />This is unfortunate as a seemingly innocuous change causes different functionality that breaks code like:<br /><br />foreach(glob("*.ext") as $file)<br />...<br /><br />See this link if you have any questions as to why this is so:<br /><a href="http://bugs.php.net/bug.php?id=47358" rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=47358</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="114024">  <div class="votes">
    <div id="Vu114024">
    <a href="/manual/vote-note.php?id=114024&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114024">
    <a href="/manual/vote-note.php?id=114024&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114024" title="62% like this...">
    2
    </div>
  </div>
  <a href="#114024" class="name">
  <strong class="user"><em>rene dot rathmann at gmx dot de</em></strong></a><a class="genanchor" href="#114024"> &para;</a><div class="date" title="2014-01-02 11:05"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom114024">
<div class="phpcode"><code><span class="html">
You can do a recursive file search with yield.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">findAllDirs</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">) {<br />&nbsp; &nbsp; </span><span class="default">$dirStack</span><span class="keyword">=[</span><span class="default">$start</span><span class="keyword">];<br />&nbsp; &nbsp; while(</span><span class="default">$dir</span><span class="keyword">=</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$dirStack</span><span class="keyword">)) {<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ar</span><span class="keyword">=</span><span class="default">glob</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">'/*'</span><span class="keyword">,</span><span class="default">GLOB_ONLYDIR</span><span class="keyword">|</span><span class="default">GLOB_NOSORT</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; if(!</span><span class="default">$ar</span><span class="keyword">) continue;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dirStack</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$dirStack</span><span class="keyword">,</span><span class="default">$ar</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$ar </span><span class="keyword">as </span><span class="default">$DIR</span><span class="keyword">)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; yield </span><span class="default">$DIR</span><span class="keyword">;<br />&nbsp; &nbsp; }<br />}<br /><br /></span><span class="default">$fname</span><span class="keyword">=</span><span class="string">'*.php'</span><span class="keyword">;<br /></span><span class="default">$result</span><span class="keyword">=[];<br />foreach(</span><span class="default">findAllDirs</span><span class="keyword">(</span><span class="string">'/var/www/localhost'</span><span class="keyword">) as </span><span class="default">$dir</span><span class="keyword">) {<br />&nbsp; &nbsp; </span><span class="default">$match</span><span class="keyword">=</span><span class="default">glob</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$fname</span><span class="keyword">,</span><span class="default">GLOB_NOSORT</span><span class="keyword">);<br />&nbsp; &nbsp; if(!</span><span class="default">$match</span><span class="keyword">) continue;<br />&nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">,</span><span class="default">$match</span><span class="keyword">);<br />}<br /><br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82744">  <div class="votes">
    <div id="Vu82744">
    <a href="/manual/vote-note.php?id=82744&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd82744">
    <a href="/manual/vote-note.php?id=82744&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V82744" title="63% like this...">
    3
    </div>
  </div>
  <a href="#82744" class="name">
  <strong class="user"><em>pope at q dot com</em></strong></a><a class="genanchor" href="#82744"> &para;</a><div class="date" title="2008-04-23 06:08"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom82744">
<div class="phpcode"><code><span class="html">
alan at ridersite dot org 18-Mar-2007 03:26 -- Stated '*.*' is the same as '*' -- This is not true as * alone will return directories too and *.* will only return files with an extension such as .pdf or .doc or .php.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92565">  <div class="votes">
    <div id="Vu92565">
    <a href="/manual/vote-note.php?id=92565&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92565">
    <a href="/manual/vote-note.php?id=92565&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92565" title="62% like this...">
    4
    </div>
  </div>
  <a href="#92565" class="name">
  <strong class="user"><em>endiku</em></strong></a><a class="genanchor" href="#92565"> &para;</a><div class="date" title="2009-07-29 08:47"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom92565">
<div class="phpcode"><code><span class="html">
For those who need to recursively search a directory tree and cannot or wish not to call a function within itself here is another suggestion.<br /><br />I tried the previously suggested listdirs_safe() and it didn't seem to find all subfolders in a directory tree.<br /><br />There are two variations on the same theme.<br /><br />Single Array.<br /><span class="default">&lt;?php<br />$dir </span><span class="keyword">=</span><span class="string">'/dir'</span><span class="keyword">;<br />while(</span><span class="default">$dirs </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$dir </span><span class="keyword">. </span><span class="string">'/*'</span><span class="keyword">, </span><span class="default">GLOB_ONLYDIR</span><span class="keyword">)) {<br />&nbsp; </span><span class="default">$dir </span><span class="keyword">.= </span><span class="string">'/*'</span><span class="keyword">;<br />&nbsp; if(!</span><span class="default">$d</span><span class="keyword">) {<br />&nbsp; &nbsp;&nbsp; </span><span class="default">$d</span><span class="keyword">=</span><span class="default">$dirs</span><span class="keyword">;<br />&nbsp;&nbsp; } else {<br />&nbsp; &nbsp; &nbsp; </span><span class="default">$d</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">,</span><span class="default">$dirs</span><span class="keyword">);<br />&nbsp;&nbsp; }<br />}<br /></span><span class="default">?&gt;<br /></span><br />Multiple arrays.<br /><span class="default">&lt;?php<br />$n</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br /></span><span class="default">$dir </span><span class="keyword">=</span><span class="string">'/dir'</span><span class="keyword">;<br />while(</span><span class="default">$dirs </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$dir </span><span class="keyword">. </span><span class="string">'/*'</span><span class="keyword">, </span><span class="default">GLOB_ONLYDIR</span><span class="keyword">)) {<br />&nbsp; </span><span class="default">$dir </span><span class="keyword">.= </span><span class="string">'/*'</span><span class="keyword">;<br />&nbsp; if(!</span><span class="default">$d</span><span class="keyword">) { <br />&nbsp; &nbsp;&nbsp; </span><span class="default">$d</span><span class="keyword">=</span><span class="default">$dirs</span><span class="keyword">;<br />&nbsp;&nbsp; } else {<br />&nbsp; &nbsp;&nbsp; </span><span class="default">$d</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">]=</span><span class="default">$dirs</span><span class="keyword">;<br />&nbsp;&nbsp; }<br />&nbsp; </span><span class="default">$n</span><span class="keyword">++;<br />}<br /></span><span class="default">?&gt;<br /></span><br />This will result in the glob looping via "dir/*/*/*/*.." until it is no longer finding a directory structure.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97793">  <div class="votes">
    <div id="Vu97793">
    <a href="/manual/vote-note.php?id=97793&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd97793">
    <a href="/manual/vote-note.php?id=97793&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V97793" title="62% like this...">
    2
    </div>
  </div>
  <a href="#97793" class="name">
  <strong class="user"><em>BigueNique at yahoo dot ca</em></strong></a><a class="genanchor" href="#97793"> &para;</a><div class="date" title="2010-05-08 11:45"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom97793">
<div class="phpcode"><code><span class="html">
Here is the function array_prepend() used by my latest post of safe_glob().<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * Prepends $string to each element of $array<br /> * If $deep is true, will indeed also apply to sub-arrays<br /> * @author BigueNique AT yahoo DOT ca<br /> * @since 080324<br /> */<br /></span><span class="keyword">function </span><span class="default">array_prepend</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$deep</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) {<br />&nbsp; &nbsp; if(empty(</span><span class="default">$array</span><span class="keyword">)||empty(</span><span class="default">$string</span><span class="keyword">)) return </span><span class="default">$array</span><span class="keyword">;<br />&nbsp; &nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$element</span><span class="keyword">)<br />&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">))<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$deep</span><span class="keyword">)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_prepend</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$deep</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'array_prepend: array element'</span><span class="keyword">,</span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$string</span><span class="keyword">.</span><span class="default">$element</span><span class="keyword">;<br />&nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />&nbsp; &nbsp; <br />}<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75752">  <div class="votes">
    <div id="Vu75752">
    <a href="/manual/vote-note.php?id=75752&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd75752">
    <a href="/manual/vote-note.php?id=75752&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V75752" title="62% like this...">
    2
    </div>
  </div>
  <a href="#75752" class="name">
  <strong class="user"><em>martinlarsen at bigfoot dot com</em></strong></a><a class="genanchor" href="#75752"> &para;</a><div class="date" title="2007-06-14 05:13"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom75752">
<div class="phpcode"><code><span class="html">
glob() does not work if the path contains brackets "[" and "]".<br /><br />For example, this will make it fail:<br /><br />$files = glob("[myfolder]/*.txt");<br /><br />No error is returned, just an empty array!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="118256">  <div class="votes">
    <div id="Vu118256">
    <a href="/manual/vote-note.php?id=118256&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118256">
    <a href="/manual/vote-note.php?id=118256&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118256" title="60% like this...">
    1
    </div>
  </div>
  <a href="#118256" class="name">
  <strong class="user"><em>sharshun dot aliaksandr at gmail dot com</em></strong></a><a class="genanchor" href="#118256"> &para;</a><div class="date" title="2015-11-04 02:26"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom118256">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">glob_recursive</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$flags </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">){<br /></span><span class="comment">// forked from <a href="https://github.com/rodurma/PHP-Functions/" rel="nofollow" target="_blank">https://github.com/rodurma/PHP-Functions/</a><br />&nbsp; &nbsp; // blob/master/glob_recursive.php<br />&nbsp; </span><span class="default">$files </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$flags</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp;&nbsp; <br />&nbsp; foreach (</span><span class="default">glob</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">).</span><span class="string">'/*'</span><span class="keyword">, <br />&nbsp; &nbsp; &nbsp; </span><span class="default">GLOB_ONLYDIR</span><span class="keyword">|</span><span class="default">GLOB_NOSORT</span><span class="keyword">) as </span><span class="default">$dir</span><span class="keyword">){<br />&nbsp; &nbsp; </span><span class="default">$files </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$files</span><span class="keyword">, </span><span class="default">glob_recursive<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">basename</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">), </span><span class="default">$flags</span><span class="keyword">));<br />&nbsp; }<br />&nbsp; return </span><span class="default">$files</span><span class="keyword">;<br />}<br /></span><span class="comment">// $a=glob_recursive('c:/test_directory/'."*.*");<br />// print_r($a);<br /><br /></span><span class="keyword">function </span><span class="default">dirInfoReGet</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">){<br />&nbsp; &nbsp; </span><span class="default">$a</span><span class="keyword">=</span><span class="default">glob_recursive</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">.</span><span class="string">"*.*"</span><span class="keyword">);<br />&nbsp; &nbsp; </span><span class="default">$ar</span><span class="keyword">=</span><span class="default">glob_recursive</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">.</span><span class="string">"**/**"</span><span class="keyword">);<br />&nbsp; &nbsp; </span><span class="default">$arr</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$ar</span><span class="keyword">));<br /><br />&nbsp; &nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$arra</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][]=</span><span class="default">$v</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">;<br />&nbsp; &nbsp; &nbsp; &nbsp; } else {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$arra</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][]=</span><span class="default">$v</span><span class="keyword">;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; </span><span class="default">sort</span><span class="keyword">(</span><span class="default">$arra</span><span class="keyword">);<br />&nbsp; &nbsp; return </span><span class="default">$arra</span><span class="keyword">;<br />}<br /></span><span class="default">$a</span><span class="keyword">=</span><span class="default">dirInfoReGet</span><span class="keyword">(</span><span class="string">'c:/test_directory/'</span><span class="keyword">);<br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;<br /></span><br /><a href="http://i.stack.imgur.com/H7UF3.jpg" rel="nofollow" target="_blank">http://i.stack.imgur.com/H7UF3.jpg</a><br /><br />Best regards.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93669">  <div class="votes">
    <div id="Vu93669">
    <a href="/manual/vote-note.php?id=93669&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd93669">
    <a href="/manual/vote-note.php?id=93669&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V93669" title="60% like this...">
    2
    </div>
  </div>
  <a href="#93669" class="name">
  <strong class="user"><em>wang yun</em></strong></a><a class="genanchor" href="#93669"> &para;</a><div class="date" title="2009-09-22 06:00"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom93669">
<div class="phpcode"><code><span class="html">
A function to quickly remove a directory (works in seconds for a hundred thousand files)<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * Remove the directory and its content (all files and subdirectories).<br /> * @param string $dir the directory name<br /> */<br /></span><span class="keyword">function </span><span class="default">rmrf</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) {<br />&nbsp; &nbsp; foreach (</span><span class="default">glob</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) as </span><span class="default">$file</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)) { <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">rmrf</span><span class="keyword">(</span><span class="string">"</span><span class="default">$file</span><span class="string">/*"</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; } else {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br />}<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82182">  <div class="votes">
    <div id="Vu82182">
    <a href="/manual/vote-note.php?id=82182&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd82182">
    <a href="/manual/vote-note.php?id=82182&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V82182" title="60% like this...">
    1
    </div>
  </div>
  <a href="#82182" class="name">
  <strong class="user"><em>parazuce [at] gmail [dot] com</em></strong></a><a class="genanchor" href="#82182"> &para;</a><div class="date" title="2008-03-30 05:47"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom82182">
<div class="phpcode"><code><span class="html">
As a response to a post by viajy at yoyo dot org on 10-Feb-2007 04:50, he posted the following code:<br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">listdirs</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) {<br />&nbsp; &nbsp; static </span><span class="default">$alldirs </span><span class="keyword">= array();<br />&nbsp; &nbsp; </span><span class="default">$dirs </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$dir </span><span class="keyword">. </span><span class="string">'/*'</span><span class="keyword">, </span><span class="default">GLOB_ONLYDIR</span><span class="keyword">);<br />&nbsp; &nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$dirs</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$dirs </span><span class="keyword">as </span><span class="default">$d</span><span class="keyword">) </span><span class="default">$alldirs</span><span class="keyword">[] = </span><span class="default">$d</span><span class="keyword">;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; foreach (</span><span class="default">$dirs </span><span class="keyword">as </span><span class="default">$dir</span><span class="keyword">) </span><span class="default">listdirs</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);<br />&nbsp; &nbsp; return </span><span class="default">$alldirs</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />It is not best practice to use recursive functions like that, so I wrote a safe (non-recursive) function below:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">listdirs_safe</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">)<br />{<br />&nbsp; &nbsp; </span><span class="default">$dir&nbsp; </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">;<br />&nbsp; &nbsp; </span><span class="default">$dirs </span><span class="keyword">= array();<br />&nbsp; &nbsp; </span><span class="default">$next </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br /><br />&nbsp; &nbsp; while (</span><span class="default">true</span><span class="keyword">)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_dirs </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">'/*'</span><span class="keyword">, </span><span class="default">GLOB_ONLYDIR</span><span class="keyword">);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$_dirs</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$_dirs </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$_dir</span><span class="keyword">)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dirs</span><span class="keyword">[] = </span><span class="default">$_dir</span><span class="keyword">;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dir </span><span class="keyword">= </span><span class="default">$dirs</span><span class="keyword">[</span><span class="default">$next</span><span class="keyword">++];<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; return </span><span class="default">$dirs</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />Example:<br /><br />print_r(listdirs_safe('*'));<br /><br />Output:<br />Array<br />(<br />&nbsp; &nbsp; [0] =&gt; Dummy folder/Dummy folder 2<br />&nbsp; &nbsp; [1] =&gt; Dummy folder/Dummy folder 2/Dummy Folder 3<br />&nbsp; &nbsp; [2] =&gt; Dummy folder/Dummy folder 2/Dummy Folder 3/4<br />&nbsp; &nbsp; [3] =&gt; Dummy folder/Dummy folder 2/Dummy Folder 3/Dummy folder 4<br />&nbsp; &nbsp; [4] =&gt; Dummy folder/Dummy folder 2/Dummy Folder 3/4/5<br />)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111605">  <div class="votes">
    <div id="Vu111605">
    <a href="/manual/vote-note.php?id=111605&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd111605">
    <a href="/manual/vote-note.php?id=111605&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V111605" title="58% like this...">
    2
    </div>
  </div>
  <a href="#111605" class="name">
  <strong class="user"><em>bimal at sanjaal dot com</em></strong></a><a class="genanchor" href="#111605"> &para;</a><div class="date" title="2013-03-07 04:28"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom111605">
<div class="phpcode"><code><span class="html">
To pick one of the file randomly from your directory with full physical path, you can write something like this:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">one_random_image_file</span><span class="keyword">()<br />{<br />&nbsp; &nbsp; </span><span class="default">$files </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="string">'../images/*.jpg'</span><span class="keyword">);<br />&nbsp; &nbsp; </span><span class="default">shuffle</span><span class="keyword">(</span><span class="default">$files</span><span class="keyword">);<br />&nbsp; &nbsp; return </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$files</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />}<br /></span><span class="default">$image_to_read </span><span class="keyword">= </span><span class="default">one_random_image_file</span><span class="keyword">();<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76621">  <div class="votes">
    <div id="Vu76621">
    <a href="/manual/vote-note.php?id=76621&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd76621">
    <a href="/manual/vote-note.php?id=76621&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V76621" title="60% like this...">
    1
    </div>
  </div>
  <a href="#76621" class="name">
  <strong class="user"><em>josh at servebyte dot com</em></strong></a><a class="genanchor" href="#76621"> &para;</a><div class="date" title="2007-07-23 05:55"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom76621">
<div class="phpcode"><code><span class="html">
To:&nbsp; martinlarsen at bigfoot dot com (14-Jun-2007 01:13)<br /><br />[quote]<br />glob() does not work if the path contains brackets "[" and "]".<br /><br />For example, this will make it fail:<br /><br />$files = glob("[myfolder]/*.txt");<br /><br />No error is returned, just an empty array!<br />[/quote]<br /><br />Hi there,<br />if you backslash the brackets, it should work. Try:<br />$files = glob("\[myfolder\]/*.txt");<br />Hope this helps.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49308">  <div class="votes">
    <div id="Vu49308">
    <a href="/manual/vote-note.php?id=49308&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd49308">
    <a href="/manual/vote-note.php?id=49308&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V49308" title="58% like this...">
    3
    </div>
  </div>
  <a href="#49308" class="name"><strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="#49308"> &para;</a><div class="date" title="2005-01-23 01:54"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom49308">
<div class="phpcode"><code><span class="html">
The example on this page will generate a warning if the glob function does not find any filenames that match the pattern.<br /><br />The glob function result will only be an array if it finds some files and the foreach statement requires its argument to be an array.<br /><br />By checking for the possibility that the result of the glob function may not be an array you can eliminate the warning.<br /><br />Here's a better example:<br /><br /><span class="default">&lt;?php<br />$matches </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="string">"*.txt"</span><span class="keyword">);<br />if ( </span><span class="default">is_array </span><span class="keyword">( </span><span class="default">$matches </span><span class="keyword">) ) {<br />&nbsp;&nbsp; foreach ( </span><span class="default">$matches </span><span class="keyword">as </span><span class="default">$filename</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; echo </span><span class="string">"</span><span class="default">$filename</span><span class="string"> size " </span><span class="keyword">. </span><span class="default">filesize</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />&nbsp;&nbsp; }<br />}<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74109">  <div class="votes">
    <div id="Vu74109">
    <a href="/manual/vote-note.php?id=74109&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd74109">
    <a href="/manual/vote-note.php?id=74109&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V74109" title="58% like this...">
    2
    </div>
  </div>
  <a href="#74109" class="name"><strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="#74109"> &para;</a><div class="date" title="2007-03-25 08:41"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom74109">
<div class="phpcode"><code><span class="html">
Reply to ny_obaATgmxDOTnet:<br /><br />You could also use sql_regcase() to build a pattern for case insensitive matches.<br />You may also want to set the locale before, so it is used when building the pattern.<br /><br /><span class="default">&lt;?php<br /><br />$pattern </span><span class="keyword">= </span><span class="default">sql_case</span><span class="keyword">(</span><span class="string">"*.pdf"</span><span class="keyword">);<br /><br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">glob</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">));<br /><br /></span><span class="default">?&gt;<br /></span><br />should therefore match file.pdf AND OtherFile.PDF<br /><br />See <a href="http://www.php.net/sql_regcase" rel="nofollow" target="_blank">http://www.php.net/sql_regcase</a> for more information.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112673">  <div class="votes">
    <div id="Vu112673">
    <a href="/manual/vote-note.php?id=112673&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112673">
    <a href="/manual/vote-note.php?id=112673&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112673" title="54% like this...">
    1
    </div>
  </div>
  <a href="#112673" class="name">
  <strong class="user"><em>mif</em></strong></a><a class="genanchor" href="#112673"> &para;</a><div class="date" title="2013-07-11 09:55"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom112673">
<div class="phpcode"><code><span class="html">
glob() doesn't work on php 5.4.14 with curl extension.<br /><br />error:<br />Call to undefined function glob()<br /><br />function_exists('glob')  false<br /><br />without curl - ok.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73967">  <div class="votes">
    <div id="Vu73967">
    <a href="/manual/vote-note.php?id=73967&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd73967">
    <a href="/manual/vote-note.php?id=73967&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V73967" title="55% like this...">
    1
    </div>
  </div>
  <a href="#73967" class="name">
  <strong class="user"><em>alan at ridersite dot org</em></strong></a><a class="genanchor" href="#73967"> &para;</a><div class="date" title="2007-03-18 11:26"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom73967">
<div class="phpcode"><code><span class="html">
A couple of notes: <br />glob() handles symbolic filesystem links and resolves references to './', '../'&nbsp; nicely and handles an extra '/' character , at least on X-systems. e.g., glob("../*") will do next higher dir.<br /><br />This is good to use so warnings or errors show as "../foo" and not your system's full path.&nbsp; <br /><br />Several of the examples use a notation "*.*" when just plain "*" does the same thing.&nbsp; The "*.*" notation is misleading as it implies foo.ext will not be found with "*" because the "." is not present.<br /><br />Watch the flags must not be strings. They are defined constants. Thus, <br />glob("../*", GLOB_ONLYDIR)&nbsp; works; <br />glob("../*", "GLOB_ONLYDIR")&nbsp; does not.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50960">  <div class="votes">
    <div id="Vu50960">
    <a href="/manual/vote-note.php?id=50960&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd50960">
    <a href="/manual/vote-note.php?id=50960&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V50960" title="55% like this...">
    1
    </div>
  </div>
  <a href="#50960" class="name">
  <strong class="user"><em>NOSPAM sketch at infinite dot net dot au</em></strong></a><a class="genanchor" href="#50960"> &para;</a><div class="date" title="2005-03-14 05:05"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom50960">
<div class="phpcode"><code><span class="html">
in the example below, i found i got an error if the directory was empty.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">foreach (</span><span class="default">glob</span><span class="keyword">(</span><span class="string">"*.txt"</span><span class="keyword">) as </span><span class="default">$filename</span><span class="keyword">) {<br />&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$filename</span><span class="string"> size " </span><span class="keyword">. </span><span class="default">filesize</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />I think its because glob()'ing an empty directory returns false, and so calling foreach (false as $value) will obviously break.<br /><br />to fix this, i did the following:<br /><span class="default">&lt;?php<br />$files </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="string">"*.txt) or array(); // give it an empty array if the directory is empty or glob fails otherwise<br />&nbsp;&nbsp; echo "</span><span class="default">$filename size </span><span class="string">" . filesize(</span><span class="default">$filename</span><span class="string">) . "</span><span class="keyword">\</span><span class="default">n</span><span class="string">";<br />}<br />?&gt;<br /><br />Hope this helps someone</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="119231">  <div class="votes">
    <div id="Vu119231">
    <a href="/manual/vote-note.php?id=119231&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd119231">
    <a href="/manual/vote-note.php?id=119231&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V119231" title="100% like this...">
    1
    </div>
  </div>
  <a href="#119231" class="name">
  <strong class="user"><em>sebastian dot wasser at gmail dot com</em></strong></a><a class="genanchor" href="#119231"> &para;</a><div class="date" title="2016-04-23 11:50"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom119231">
<div class="phpcode"><code><span class="html">
I created a rglob function to support a '/**/' wildcard. You can even set the order to post-order or pre-order traversal.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">rglob </span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$flags </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$traversePostOrder </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br />&nbsp; &nbsp; </span><span class="comment">// Keep away the hassles of the rest if we don't use the wildcard anyway<br />&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="string">'/**/'</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$flags</span><span class="keyword">);<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; </span><span class="default">$patternParts </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/**/'</span><span class="keyword">, </span><span class="default">$pattern</span><span class="keyword">);<br /><br />&nbsp; &nbsp; </span><span class="comment">// Get sub dirs<br />&nbsp; &nbsp; </span><span class="default">$dirs </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$patternParts</span><span class="keyword">) . </span><span class="string">'/*'</span><span class="keyword">, </span><span class="default">GLOB_ONLYDIR </span><span class="keyword">| </span><span class="default">GLOB_NOSORT</span><span class="keyword">);<br /><br />&nbsp; &nbsp; </span><span class="comment">// Get files for current dir<br />&nbsp; &nbsp; </span><span class="default">$files </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$flags</span><span class="keyword">);<br /><br />&nbsp; &nbsp; foreach (</span><span class="default">$dirs </span><span class="keyword">as </span><span class="default">$dir</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$subDirContent </span><span class="keyword">= </span><span class="default">rglob</span><span class="keyword">(</span><span class="default">$dir </span><span class="keyword">. </span><span class="string">'/**/' </span><span class="keyword">. </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'/**/'</span><span class="keyword">, </span><span class="default">$patternParts</span><span class="keyword">), </span><span class="default">$flags</span><span class="keyword">, </span><span class="default">$traversePostOrder</span><span class="keyword">);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">$traversePostOrder</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$files </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$files</span><span class="keyword">, </span><span class="default">$subDirContent</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; } else {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$files </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$subDirContent</span><span class="keyword">, </span><span class="default">$files</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; return </span><span class="default">$files</span><span class="keyword">;<br />};<br /><br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="119423">  <div class="votes">
    <div id="Vu119423">
    <a href="/manual/vote-note.php?id=119423&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd119423">
    <a href="/manual/vote-note.php?id=119423&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V119423" title="no votes...">
    0
    </div>
  </div>
  <a href="#119423" class="name">
  <strong class="user"><em>simon at paragi dot dk</em></strong></a><a class="genanchor" href="#119423"> &para;</a><div class="date" title="2016-06-02 07:31"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom119423">
<div class="phpcode"><code><span class="html">
This is a simple and versatile function that returns an array tree of files, matching wildcards:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">// List files in tree, matching wildcards * and ?<br /></span><span class="keyword">function </span><span class="default">tree</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">){<br />&nbsp; static </span><span class="default">$match</span><span class="keyword">;<br /><br />&nbsp; </span><span class="comment">// Find the real directory part of the path, and set the match parameter<br />&nbsp; </span><span class="default">$last</span><span class="keyword">=</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">);<br />&nbsp; if(!</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)){<br />&nbsp; &nbsp; </span><span class="default">$match</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">,</span><span class="default">$last</span><span class="keyword">);<br />&nbsp; &nbsp; while(!</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$last</span><span class="keyword">)) &amp;&amp; </span><span class="default">$last</span><span class="keyword">!==</span><span class="default">false</span><span class="keyword">)<br />&nbsp; &nbsp; &nbsp; </span><span class="default">$last</span><span class="keyword">=</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">);<br />&nbsp; }<br />&nbsp; if(empty(</span><span class="default">$match</span><span class="keyword">)) </span><span class="default">$match</span><span class="keyword">=</span><span class="string">"/*"</span><span class="keyword">;<br />&nbsp; if(!</span><span class="default">$path</span><span class="keyword">=</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)) return;<br /><br />&nbsp; </span><span class="comment">// List files<br />&nbsp; </span><span class="keyword">foreach(</span><span class="default">glob</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">.</span><span class="default">$match</span><span class="keyword">) as </span><span class="default">$file</span><span class="keyword">){<br />&nbsp; &nbsp; </span><span class="default">$list</span><span class="keyword">[]=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">)+</span><span class="default">1</span><span class="keyword">);<br />&nbsp; }&nbsp; <br /><br />&nbsp; </span><span class="comment">// Process sub directories<br />&nbsp; </span><span class="keyword">foreach(</span><span class="default">glob</span><span class="keyword">(</span><span class="string">"</span><span class="default">$path</span><span class="string">/*"</span><span class="keyword">, </span><span class="default">GLOB_ONLYDIR</span><span class="keyword">) as </span><span class="default">$dir</span><span class="keyword">){<br />&nbsp; &nbsp; </span><span class="default">$list</span><span class="keyword">[</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">,</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">)+</span><span class="default">1</span><span class="keyword">)]=</span><span class="default">tree</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);<br />&nbsp; }<br />&nbsp; <br />&nbsp; return @</span><span class="default">$list</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="118782">  <div class="votes">
    <div id="Vu118782">
    <a href="/manual/vote-note.php?id=118782&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118782">
    <a href="/manual/vote-note.php?id=118782&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118782" title="0% like this...">
    -1
    </div>
  </div>
  <a href="#118782" class="name">
  <strong class="user"><em>roland at rd-creation dot fr</em></strong></a><a class="genanchor" href="#118782"> &para;</a><div class="date" title="2016-02-05 12:37"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom118782">
<div class="phpcode"><code><span class="html">
FIX to use GLOB_BRACE pattern in glob_recursive function submitted by Mike<br /><br />if (! function_exists('glob_recursive')){<br />&nbsp; &nbsp; function glob_recursive($pattern, $flags = 0, $startdir = ''){<br />&nbsp; &nbsp; &nbsp; &nbsp; $files = glob($startdir.$pattern, $flags);<br />&nbsp; &nbsp; &nbsp; &nbsp; foreach (glob($startdir.'*', GLOB_ONLYDIR|GLOB_NOSORT|GLOB_MARK) as $dir){<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $files = array_merge($files, glob_recursive($pattern, $flags, $dir));<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; return $files;<br />&nbsp; &nbsp; }<br />}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="116253">  <div class="votes">
    <div id="Vu116253">
    <a href="/manual/vote-note.php?id=116253&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116253">
    <a href="/manual/vote-note.php?id=116253&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116253" title="50% like this...">
    0
    </div>
  </div>
  <a href="#116253" class="name">
  <strong class="user"><em>Anxiety35 at gmail dot com</em></strong></a><a class="genanchor" href="#116253"> &para;</a><div class="date" title="2014-12-01 09:20"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom116253">
<div class="phpcode"><code><span class="html">
After fiddling with GLOB_BRACE a bunch, I have found the most items that can be included in the braces is about 10 before glob no longer returns any matches.<br /><br />I have a scenario where there can be a thousand or more files to check for where I can't pattern match and need to check specific names. I was hoping to batch them in large groups to see if it would help performance. However, if I include more than 10 in a GLOB_BRACE the function will return FALSE.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91475">  <div class="votes">
    <div id="Vu91475">
    <a href="/manual/vote-note.php?id=91475&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd91475">
    <a href="/manual/vote-note.php?id=91475&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V91475" title="100% like this...">
    1
    </div>
  </div>
  <a href="#91475" class="name">
  <strong class="user"><em>sven at NOSPAM dot sven dot globalunix dot org</em></strong></a><a class="genanchor" href="#91475"> &para;</a><div class="date" title="2009-06-11 09:22"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom91475">
<div class="phpcode"><code><span class="html">
If you want to use wildcard expressions (like they are used by glob() ) to search on strings, you can use this function:<br /><br /><span class="default">&lt;?php&nbsp; &nbsp; <br /></span><span class="keyword">function </span><span class="default">match_wildcard</span><span class="keyword">( </span><span class="default">$wildcard_pattern</span><span class="keyword">, </span><span class="default">$haystack </span><span class="keyword">) {<br />&nbsp;&nbsp; </span><span class="default">$regex </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(<br />&nbsp; &nbsp;&nbsp; array(</span><span class="string">"\*"</span><span class="keyword">, </span><span class="string">"\?"</span><span class="keyword">), </span><span class="comment">// wildcard chars<br />&nbsp; &nbsp;&nbsp; </span><span class="keyword">array(</span><span class="string">'.*'</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">),&nbsp;&nbsp; </span><span class="comment">// regexp chars<br />&nbsp; &nbsp;&nbsp; </span><span class="default">preg_quote</span><span class="keyword">(</span><span class="default">$wildcard_pattern</span><span class="keyword">)<br />&nbsp;&nbsp; );<br /><br />&nbsp;&nbsp; return </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^'</span><span class="keyword">.</span><span class="default">$regex</span><span class="keyword">.</span><span class="string">'$/is'</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">);<br />}<br /><br /></span><span class="default">$test </span><span class="keyword">= </span><span class="string">"foobar and blob\netc."</span><span class="keyword">;<br /></span><span class="default">var_dump</span><span class="keyword">(<br />&nbsp; &nbsp; </span><span class="default">match_wildcard</span><span class="keyword">(</span><span class="string">'foo*'</span><span class="keyword">, </span><span class="default">$test</span><span class="keyword">),&nbsp; &nbsp; &nbsp; </span><span class="comment">// TRUE<br />&nbsp; &nbsp; </span><span class="default">match_wildcard</span><span class="keyword">(</span><span class="string">'bar*'</span><span class="keyword">, </span><span class="default">$test</span><span class="keyword">),&nbsp; &nbsp; &nbsp; </span><span class="comment">// FALSE<br />&nbsp; &nbsp; </span><span class="default">match_wildcard</span><span class="keyword">(</span><span class="string">'*bar*'</span><span class="keyword">, </span><span class="default">$test</span><span class="keyword">),&nbsp; &nbsp;&nbsp; </span><span class="comment">// TRUE<br />&nbsp; &nbsp; </span><span class="default">match_wildcard</span><span class="keyword">(</span><span class="string">'**blob**'</span><span class="keyword">, </span><span class="default">$test</span><span class="keyword">),&nbsp; </span><span class="comment">// TRUE<br />&nbsp; &nbsp; </span><span class="default">match_wildcard</span><span class="keyword">(</span><span class="string">'*a?d*'</span><span class="keyword">, </span><span class="default">$test</span><span class="keyword">),&nbsp; &nbsp;&nbsp; </span><span class="comment">// TRUE<br />&nbsp; &nbsp; </span><span class="default">match_wildcard</span><span class="keyword">(</span><span class="string">'*etc**'</span><span class="keyword">, </span><span class="default">$test</span><span class="keyword">)&nbsp; &nbsp;&nbsp; </span><span class="comment">// TRUE<br /></span><span class="keyword">);<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82455">  <div class="votes">
    <div id="Vu82455">
    <a href="/manual/vote-note.php?id=82455&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd82455">
    <a href="/manual/vote-note.php?id=82455&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V82455" title="100% like this...">
    2
    </div>
  </div>
  <a href="#82455" class="name">
  <strong class="user"><em>eric at muyser dot com</em></strong></a><a class="genanchor" href="#82455"> &para;</a><div class="date" title="2008-04-11 08:31"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom82455">
<div class="phpcode"><code><span class="html">
As a follow up to recursively determining all paths (by viajy at yoyo dot org) and opendir being faster than glob (by Sam Yong - hellclanner at live [dot] com).<br /><br />The list all dirs code didn't seem to work, at least on my server (provided by parazuce [at] gmail [dot] com).<br /><br />I needed a function to create an unlimited multidimensional array, with the names of the folders/files intact (no realpath's, although that is easily possible). This is so I can simply loop through the array, create an expandable link on the folder name, with all the files inside it.<br /><br />This is the correct way to recurse I believe (no static, return small arrays to build up the multidimensional array), and includes a check for files/folders beginning with dots.<br /><br />// may need modifications<br /><br />function list_files($path)<br />{<br />&nbsp; &nbsp; $files = array();<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; if(is_dir($path))<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; if($handle = opendir($path))<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while(($name = readdir($handle)) !== false)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!preg_match("#^\.#", $name))<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(is_dir($path . "/" . $name))<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $files[$name] = list_files($path . "/" . $name);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $files[] = $name;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; closedir($handle);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; return $files;<br />}<br /><br />print_r(list_files("/path/to/folder"));<br /><br />// example usage<br /><br />function list_html($list)<br />{<br />&nbsp; &nbsp; $html = "";<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; foreach($list as $folder =&gt; $file)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; if(is_array($list[$folder]))<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $html .= "&gt; (folder) " . $folder . "&lt;br&gt;";<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $html .= list_html($list[$folder]);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; else <br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $html .= " (file) " . $file . "&lt;br&gt;";<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; return $html;<br />}<br /><br />echo list_html(list_files("/path/to/folder"));</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70544">  <div class="votes">
    <div id="Vu70544">
    <a href="/manual/vote-note.php?id=70544&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd70544">
    <a href="/manual/vote-note.php?id=70544&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V70544" title="100% like this...">
    2
    </div>
  </div>
  <a href="#70544" class="name">
  <strong class="user"><em>guilleva at gmail dot com</em></strong></a><a class="genanchor" href="#70544"> &para;</a><div class="date" title="2006-10-19 08:54"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom70544">
<div class="phpcode"><code><span class="html">
In some systems (AIX for example) GLOB_BRACE isn't defined and you get the error:<br />glob() expects parameter 2 to be long, string given in /XX/XX.php<br /><br />&lt;?<br /><br />foreach (glob("{*.pdf,*.PDF}",GLOB_BRACE ) as $filename) {<br />&nbsp; &nbsp; &nbsp; echo "$filename \n";<br />}<br /><br />?&gt;<br /><br />The method may help you in this case.<br /><br />&lt;?<br /><br />foreach (array_merge(glob("*.pdf"),glob("*.PDF")) as $filename) {<br />&nbsp; &nbsp; &nbsp; echo "$filename \n";<br />}<br /><br />?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73145">  <div class="votes">
    <div id="Vu73145">
    <a href="/manual/vote-note.php?id=73145&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd73145">
    <a href="/manual/vote-note.php?id=73145&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V73145" title="50% like this...">
    0
    </div>
  </div>
  <a href="#73145" class="name">
  <strong class="user"><em>viajy at yoyo dot org</em></strong></a><a class="genanchor" href="#73145"> &para;</a><div class="date" title="2007-02-10 04:50"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom73145">
<div class="phpcode"><code><span class="html">
this is a recursive function i wrote to return an array of all subdirectories of a dir<br /><br />function listdirs($dir) {<br />&nbsp; &nbsp; static $alldirs = array();<br />&nbsp; &nbsp; $dirs = glob($dir . '/*', GLOB_ONLYDIR);<br />&nbsp; &nbsp; if (count($dirs) &gt; 0) {<br />&nbsp; &nbsp; &nbsp; &nbsp; foreach ($dirs as $d) $alldirs[] = $d;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; foreach ($dirs as $dir) listdirs($dir);<br />&nbsp; &nbsp; return $alldirs;<br />}<br /><br />example: <br />print_r(listdirs('/some/path'));</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71327">  <div class="votes">
    <div id="Vu71327">
    <a href="/manual/vote-note.php?id=71327&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71327">
    <a href="/manual/vote-note.php?id=71327&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71327" title="50% like this...">
    0
    </div>
  </div>
  <a href="#71327" class="name">
  <strong class="user"><em>torch at torchsdomain dot com</em></strong></a><a class="genanchor" href="#71327"> &para;</a><div class="date" title="2006-11-22 12:25"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom71327">
<div class="phpcode"><code><span class="html">
Here is simple function that will find and remove all files (except "." ones) that match the expression ($match, "*" as wildcard) under starting directory ($path) and all other directories under it.<br /><br />function rfr($path,$match){<br />&nbsp;&nbsp; static $deld = 0, $dsize = 0;<br />&nbsp;&nbsp; $dirs = glob($path."*");<br />&nbsp;&nbsp; $files = glob($path.$match);<br />&nbsp;&nbsp; foreach($files as $file){<br />&nbsp; &nbsp; &nbsp; if(is_file($file)){<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $dsize += filesize($file);<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unlink($file);<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $deld++;<br />&nbsp; &nbsp; &nbsp; }<br />&nbsp;&nbsp; }<br />&nbsp;&nbsp; foreach($dirs as $dir){<br />&nbsp; &nbsp; &nbsp; if(is_dir($dir)){<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $dir = basename($dir) . "/";<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rfr($path.$dir,$match);<br />&nbsp; &nbsp; &nbsp; }<br />&nbsp;&nbsp; }<br />&nbsp;&nbsp; return "$deld files deleted with a total size of $dsize bytes";<br />}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68939">  <div class="votes">
    <div id="Vu68939">
    <a href="/manual/vote-note.php?id=68939&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd68939">
    <a href="/manual/vote-note.php?id=68939&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V68939" title="50% like this...">
    0
    </div>
  </div>
  <a href="#68939" class="name">
  <strong class="user"><em>joseph dot morphy at gmail dot com</em></strong></a><a class="genanchor" href="#68939"> &para;</a><div class="date" title="2006-08-16 11:01"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom68939">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br />$html_array </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">(</span><span class="string">"*.html"</span><span class="keyword">);<br /><br />function </span><span class="default">sort_by_mtime</span><span class="keyword">(</span><span class="default">$file1</span><span class="keyword">,</span><span class="default">$file2</span><span class="keyword">) {<br />&nbsp; &nbsp; </span><span class="default">$time1 </span><span class="keyword">= </span><span class="default">filemtime</span><span class="keyword">(</span><span class="default">$file1</span><span class="keyword">);<br />&nbsp; &nbsp; </span><span class="default">$time2 </span><span class="keyword">= </span><span class="default">filemtime</span><span class="keyword">(</span><span class="default">$file2</span><span class="keyword">);<br />&nbsp; &nbsp; if (</span><span class="default">$time1 </span><span class="keyword">== </span><span class="default">$time2</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">0</span><span class="keyword">;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; return (</span><span class="default">$time1 </span><span class="keyword">&lt; </span><span class="default">$time2</span><span class="keyword">) ? </span><span class="default">1 </span><span class="keyword">: -</span><span class="default">1</span><span class="keyword">;<br />&nbsp; &nbsp; }<br /><br /></span><span class="default">usort</span><span class="keyword">(</span><span class="default">$html_array</span><span class="keyword">,</span><span class="string">"sort_by_mtime"</span><span class="keyword">);<br /></span><span class="comment">//$html_array is now ordered by the time it was last modified<br /></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="59000">  <div class="votes">
    <div id="Vu59000">
    <a href="/manual/vote-note.php?id=59000&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd59000">
    <a href="/manual/vote-note.php?id=59000&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V59000" title="50% like this...">
    0
    </div>
  </div>
  <a href="#59000" class="name">
  <strong class="user"><em>admiral [at] nuclearpixel [dot] com</em></strong></a><a class="genanchor" href="#59000"> &para;</a><div class="date" title="2005-11-23 08:38"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom59000">
<div class="phpcode"><code><span class="html">
I've written a function that I've been using quite a lot over the past year or so. I've built whole websites and their file based CMSs based on this one function, mostly because (I think) databases are not as portable as groups of files and folders. In previous versions, I used opendir and readdir to get contents, but now I can do in one line what used to take several. How? Most of the work in the whole script is done by calling<br /><br />glob("$dir/*")<br /><br />Giving me an array containing the names of the items in the folder, minus the ones beginning with '.', as well as the ones I specify.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">/* alpharead version 3: This function returns an array containing the names of the files inside any given folder, excluding files that start with a '.', as well as the filenames listed in the '$killit' array. This array is sorted using the 'natural alphabetical' sorting manner. If no input is given to the function, it lists items in the script's interpreted folder. Version 3 fixes a MAJOR bug in version 2 which corrupted certain arrays with greater than 5 keys and one of the supposedly removed filenames.<br />written by Admiral at NuclearPixel.com */<br /><br /></span><span class="keyword">function </span><span class="default">alpharead3</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">){<br />if(!</span><span class="default">$dir</span><span class="keyword">){</span><span class="default">$dir </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">;}<br />foreach(</span><span class="default">glob</span><span class="keyword">(</span><span class="string">"</span><span class="default">$dir</span><span class="string">/*"</span><span class="keyword">) as </span><span class="default">$item</span><span class="keyword">){</span><span class="default">$sort</span><span class="keyword">[]= </span><span class="default">end</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">$item</span><span class="keyword">));}<br /><br /></span><span class="default">$killit </span><span class="keyword">= array(</span><span class="string">'index.html'</span><span class="keyword">, </span><span class="string">'index.php'</span><span class="keyword">, </span><span class="string">'thumbs.db'</span><span class="keyword">, </span><span class="string">'styles.css'</span><span class="keyword">);<br /></span><span class="default">$killcounter </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />foreach(</span><span class="default">$sort </span><span class="keyword">as </span><span class="default">$sorteditem</span><span class="keyword">){<br />foreach(</span><span class="default">$killit </span><span class="keyword">as </span><span class="default">$killcheck</span><span class="keyword">){<br />if(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$sorteditem</span><span class="keyword">) == </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$killcheck</span><span class="keyword">))<br />{unset(</span><span class="default">$sort</span><span class="keyword">[</span><span class="default">$killcounter</span><span class="keyword">]);}<br />}</span><span class="default">$killcounter</span><span class="keyword">++;}<br />if(</span><span class="default">$sort</span><span class="keyword">){</span><span class="default">natsort</span><span class="keyword">(</span><span class="default">$sort</span><span class="keyword">);}<br />foreach(</span><span class="default">$sort </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">){</span><span class="default">$return</span><span class="keyword">[]= </span><span class="default">$item</span><span class="keyword">;}<br /><br />if(!</span><span class="default">$return</span><span class="keyword">){return array();}<br />return </span><span class="default">$return</span><span class="keyword">;<br />}<br /><br /></span><span class="comment">//some basic usage<br /><br /></span><span class="default">$folder </span><span class="keyword">= </span><span class="string">'images'</span><span class="keyword">;<br />foreach(</span><span class="default">alpharead3</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">) as </span><span class="default">$item</span><span class="keyword">)<br />{<br />echo </span><span class="string">'&lt;img src="'</span><span class="keyword">.</span><span class="default">$folder</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$item</span><span class="keyword">.</span><span class="string">'"&gt;&lt;br&gt;'</span><span class="keyword">.</span><span class="default">$item</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />}<br /><br /></span><span class="default">?&gt;<br /></span><br />Commens on this function are welcome!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="51228">  <div class="votes">
    <div id="Vu51228">
    <a href="/manual/vote-note.php?id=51228&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd51228">
    <a href="/manual/vote-note.php?id=51228&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V51228" title="0% like this...">
    -1
    </div>
  </div>
  <a href="#51228" class="name">
  <strong class="user"><em>fraggy(AT)chello.nl</em></strong></a><a class="genanchor" href="#51228"> &para;</a><div class="date" title="2005-03-23 03:23"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom51228">
<div class="phpcode"><code><span class="html">
glob caused me some real pain in the buttom on windows, because of the DOS thing with paths (backslashes instead of slashes)...<br /><br />This was my own fault because I "forgot" that the backslash, when used in strings, needs to be escaped, but well, it can cause a lot of confusion, even for people who are not exactly newbies anymore...<br /><br />For some reason, I didn't have this problem with other file operations (chdir, opendir, etc...), which was the most confusing of all...<br /><br />So, for people running scripts on Windows machines (Dos95, 98 or WinNT or DosXP), just remember this:<br /><br />glob('c:\temp\*.*'); // works correctly, returns an array with files.<br />glob("c:\temp\*.*"); // does NOT work... the backslashes need to be escaped...<br />glob("c:\\temp\\*.*"); // that works again...<br /><br />This is especially confusing when temporary writable directories are returned as an unescaped string.<br /><br />$tempdir = getenv('TEMP');<br />// this returns "C:\DOCUME~1\user\LOCALS~1\Temp"<br />so in order to scan that directoy I need to do:<br /><br />glob($tempdir . "\\*.*");<br /><br />Or perhaps it's easier to replace all backslashes with slashes in order to avoid these kinds of confusions...<br /><br />glob("c:/temp/*.*"); // works fine too...<br /><br />I know I'm not contributing anything new here, but I just hope this post may avoid some unnecessary headaches...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56231">  <div class="votes">
    <div id="Vu56231">
    <a href="/manual/vote-note.php?id=56231&amp;page=function.glob&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd56231">
    <a href="/manual/vote-note.php?id=56231&amp;page=function.glob&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V56231" title="33% like this...">
    -1
    </div>
  </div>
  <a href="#56231" class="name">
  <strong class="user"><em>DMan</em></strong></a><a class="genanchor" href="#56231"> &para;</a><div class="date" title="2005-08-28 12:59"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom56231">
<div class="phpcode"><code><span class="html">
Whilst on Windows, a path starting with a slash resolves OK for most file functions - but NOT glob. <br />If the server is LAUNCHED (or chdir()ed) to W:, then <br />file_exists("/temp/test.txt")<br />returns true for the file "W:/temp/test.txt".<br />But glob("/temp/*.txt") FAILS to find it!<br /><br />A solution (if you want to avoid getting drive letters into your code) is to chdir() first, then just look for the file.<br /><span class="default">&lt;?php<br />$glob</span><span class="keyword">=</span><span class="string">"/temp/*.txt"</span><span class="keyword">;<br /></span><span class="default">chdir</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$glob</span><span class="keyword">));<br /></span><span class="comment">// getcwd() is now actually "W:\temp" or whatever<br /><br /></span><span class="keyword">foreach (</span><span class="default">glob</span><span class="keyword">(</span><span class="default">basename</span><span class="keyword">(</span><span class="default">$glob</span><span class="keyword">)) as </span><span class="default">$filename</span><span class="keyword">) {<br />&nbsp;&nbsp; </span><span class="default">$filepath </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$glob</span><span class="keyword">).</span><span class="string">"/"</span><span class="keyword">.</span><span class="default">$filename</span><span class="keyword">; </span><span class="comment">// must re-attach full path<br />&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"</span><span class="default">$filepath</span><span class="string"> size " </span><span class="keyword">. </span><span class="default">filesize</span><span class="keyword">(</span><span class="default">$filepath</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />Note also, glob() IS case sensitive although most other file funcs on Windows are not.</span>
</code></div>
  </div>
 </div></div>

 <div class="foot"><a href="/manual/add-note.php?sect=function.glob&amp;redirect=http://php.net/manual/en/function.glob.php"><img src='/images/notes-add@2x.png' alt='add a note' width='12' height='12'> <small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>
    
        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.filesystem.php">Filesystem Functions</a>
    
                                    <ul class='child-menu-list'>
    
                          
                        <li class="">
                            <a href="function.basename.php" title="basename">basename</a>
                        </li>
                          
                        <li class="">
                            <a href="function.chgrp.php" title="chgrp">chgrp</a>
                        </li>
                          
                        <li class="">
                            <a href="function.chmod.php" title="chmod">chmod</a>
                        </li>
                          
                        <li class="">
                            <a href="function.chown.php" title="chown">chown</a>
                        </li>
                          
                        <li class="">
                            <a href="function.clearstatcache.php" title="clearstatcache">clearstatcache</a>
                        </li>
                          
                        <li class="">
                            <a href="function.copy.php" title="copy">copy</a>
                        </li>
                          
                        <li class="">
                            <a href="function.delete.php" title="delete">delete</a>
                        </li>
                          
                        <li class="">
                            <a href="function.dirname.php" title="dirname">dirname</a>
                        </li>
                          
                        <li class="">
                            <a href="function.disk-free-space.php" title="disk_&#8203;free_&#8203;space">disk_&#8203;free_&#8203;space</a>
                        </li>
                          
                        <li class="">
                            <a href="function.disk-total-space.php" title="disk_&#8203;total_&#8203;space">disk_&#8203;total_&#8203;space</a>
                        </li>
                          
                        <li class="">
                            <a href="function.diskfreespace.php" title="diskfreespace">diskfreespace</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fclose.php" title="fclose">fclose</a>
                        </li>
                          
                        <li class="">
                            <a href="function.feof.php" title="feof">feof</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fflush.php" title="fflush">fflush</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fgetc.php" title="fgetc">fgetc</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fgetcsv.php" title="fgetcsv">fgetcsv</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fgets.php" title="fgets">fgets</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fgetss.php" title="fgetss">fgetss</a>
                        </li>
                          
                        <li class="">
                            <a href="function.file-exists.php" title="file_&#8203;exists">file_&#8203;exists</a>
                        </li>
                          
                        <li class="">
                            <a href="function.file-get-contents.php" title="file_&#8203;get_&#8203;contents">file_&#8203;get_&#8203;contents</a>
                        </li>
                          
                        <li class="">
                            <a href="function.file-put-contents.php" title="file_&#8203;put_&#8203;contents">file_&#8203;put_&#8203;contents</a>
                        </li>
                          
                        <li class="">
                            <a href="function.file.php" title="file">file</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fileatime.php" title="fileatime">fileatime</a>
                        </li>
                          
                        <li class="">
                            <a href="function.filectime.php" title="filectime">filectime</a>
                        </li>
                          
                        <li class="">
                            <a href="function.filegroup.php" title="filegroup">filegroup</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fileinode.php" title="fileinode">fileinode</a>
                        </li>
                          
                        <li class="">
                            <a href="function.filemtime.php" title="filemtime">filemtime</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fileowner.php" title="fileowner">fileowner</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fileperms.php" title="fileperms">fileperms</a>
                        </li>
                          
                        <li class="">
                            <a href="function.filesize.php" title="filesize">filesize</a>
                        </li>
                          
                        <li class="">
                            <a href="function.filetype.php" title="filetype">filetype</a>
                        </li>
                          
                        <li class="">
                            <a href="function.flock.php" title="flock">flock</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fnmatch.php" title="fnmatch">fnmatch</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fopen.php" title="fopen">fopen</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fpassthru.php" title="fpassthru">fpassthru</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fputcsv.php" title="fputcsv">fputcsv</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fputs.php" title="fputs">fputs</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fread.php" title="fread">fread</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fscanf.php" title="fscanf">fscanf</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fseek.php" title="fseek">fseek</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fstat.php" title="fstat">fstat</a>
                        </li>
                          
                        <li class="">
                            <a href="function.ftell.php" title="ftell">ftell</a>
                        </li>
                          
                        <li class="">
                            <a href="function.ftruncate.php" title="ftruncate">ftruncate</a>
                        </li>
                          
                        <li class="">
                            <a href="function.fwrite.php" title="fwrite">fwrite</a>
                        </li>
                          
                        <li class="current">
                            <a href="function.glob.php" title="glob">glob</a>
                        </li>
                          
                        <li class="">
                            <a href="function.is-dir.php" title="is_&#8203;dir">is_&#8203;dir</a>
                        </li>
                          
                        <li class="">
                            <a href="function.is-executable.php" title="is_&#8203;executable">is_&#8203;executable</a>
                        </li>
                          
                        <li class="">
                            <a href="function.is-file.php" title="is_&#8203;file">is_&#8203;file</a>
                        </li>
                          
                        <li class="">
                            <a href="function.is-link.php" title="is_&#8203;link">is_&#8203;link</a>
                        </li>
                          
                        <li class="">
                            <a href="function.is-readable.php" title="is_&#8203;readable">is_&#8203;readable</a>
                        </li>
                          
                        <li class="">
                            <a href="function.is-uploaded-file.php" title="is_&#8203;uploaded_&#8203;file">is_&#8203;uploaded_&#8203;file</a>
                        </li>
                          
                        <li class="">
                            <a href="function.is-writable.php" title="is_&#8203;writable">is_&#8203;writable</a>
                        </li>
                          
                        <li class="">
                            <a href="function.is-writeable.php" title="is_&#8203;writeable">is_&#8203;writeable</a>
                        </li>
                          
                        <li class="">
                            <a href="function.lchgrp.php" title="lchgrp">lchgrp</a>
                        </li>
                          
                        <li class="">
                            <a href="function.lchown.php" title="lchown">lchown</a>
                        </li>
                          
                        <li class="">
                            <a href="function.link.php" title="link">link</a>
                        </li>
                          
                        <li class="">
                            <a href="function.linkinfo.php" title="linkinfo">linkinfo</a>
                        </li>
                          
                        <li class="">
                            <a href="function.lstat.php" title="lstat">lstat</a>
                        </li>
                          
                        <li class="">
                            <a href="function.mkdir.php" title="mkdir">mkdir</a>
                        </li>
                          
                        <li class="">
                            <a href="function.move-uploaded-file.php" title="move_&#8203;uploaded_&#8203;file">move_&#8203;uploaded_&#8203;file</a>
                        </li>
                          
                        <li class="">
                            <a href="function.parse-ini-file.php" title="parse_&#8203;ini_&#8203;file">parse_&#8203;ini_&#8203;file</a>
                        </li>
                          
                        <li class="">
                            <a href="function.parse-ini-string.php" title="parse_&#8203;ini_&#8203;string">parse_&#8203;ini_&#8203;string</a>
                        </li>
                          
                        <li class="">
                            <a href="function.pathinfo.php" title="pathinfo">pathinfo</a>
                        </li>
                          
                        <li class="">
                            <a href="function.pclose.php" title="pclose">pclose</a>
                        </li>
                          
                        <li class="">
                            <a href="function.popen.php" title="popen">popen</a>
                        </li>
                          
                        <li class="">
                            <a href="function.readfile.php" title="readfile">readfile</a>
                        </li>
                          
                        <li class="">
                            <a href="function.readlink.php" title="readlink">readlink</a>
                        </li>
                          
                        <li class="">
                            <a href="function.realpath-cache-get.php" title="realpath_&#8203;cache_&#8203;get">realpath_&#8203;cache_&#8203;get</a>
                        </li>
                          
                        <li class="">
                            <a href="function.realpath-cache-size.php" title="realpath_&#8203;cache_&#8203;size">realpath_&#8203;cache_&#8203;size</a>
                        </li>
                          
                        <li class="">
                            <a href="function.realpath.php" title="realpath">realpath</a>
                        </li>
                          
                        <li class="">
                            <a href="function.rename.php" title="rename">rename</a>
                        </li>
                          
                        <li class="">
                            <a href="function.rewind.php" title="rewind">rewind</a>
                        </li>
                          
                        <li class="">
                            <a href="function.rmdir.php" title="rmdir">rmdir</a>
                        </li>
                          
                        <li class="">
                            <a href="function.set-file-buffer.php" title="set_&#8203;file_&#8203;buffer">set_&#8203;file_&#8203;buffer</a>
                        </li>
                          
                        <li class="">
                            <a href="function.stat.php" title="stat">stat</a>
                        </li>
                          
                        <li class="">
                            <a href="function.symlink.php" title="symlink">symlink</a>
                        </li>
                          
                        <li class="">
                            <a href="function.tempnam.php" title="tempnam">tempnam</a>
                        </li>
                          
                        <li class="">
                            <a href="function.tmpfile.php" title="tmpfile">tmpfile</a>
                        </li>
                          
                        <li class="">
                            <a href="function.touch.php" title="touch">touch</a>
                        </li>
                          
                        <li class="">
                            <a href="function.umask.php" title="umask">umask</a>
                        </li>
                          
                        <li class="">
                            <a href="function.unlink.php" title="unlink">unlink</a>
                        </li>
                            
                    </ul>
                    
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->
         
  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="/copyright.php">Copyright &copy; 2001-2017 The PHP Group</a></li>
        <li><a href="/my.php">My PHP.net</a></li>
        <li><a href="/contact.php">Contact</a></li>
        <li><a href="/sites.php">Other PHP.net sites</a></li>
        <li><a href="/mirrors.php">Mirror sites</a></li>
        <li><a href="/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="http://php.net/cached.php?t=1421837618&amp;f=/js/ext/modernizr.js"></script>
<script type="text/javascript" src="http://php.net/cached.php?t=1421837618&amp;f=/js/ext/hogan-2.0.0.min.js"></script>
<script type="text/javascript" src="http://php.net/cached.php?t=1421837618&amp;f=/js/ext/typeahead.min.js"></script>
<script type="text/javascript" src="http://php.net/cached.php?t=1421837618&amp;f=/js/ext/mousetrap.min.js"></script>
<script type="text/javascript" src="http://php.net/cached.php?t=1421837618&amp;f=/js/search.js"></script>
<script type="text/javascript" src="http://php.net/cached.php?t=1478627406&amp;f=/js/common.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="/images/to-top@2x.png"></a>

</body>
</html>

