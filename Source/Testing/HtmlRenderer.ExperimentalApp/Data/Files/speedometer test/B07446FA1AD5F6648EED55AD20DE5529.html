<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Speedometer 2.8 - excess.org</title>

<link rel="stylesheet" type="text/css" href="/media/xs.css" media="all">
<link rel="stylesheet" type="text/css" href="/media/xs_print.css" media="print">
<link rel="shortcut icon" href="/favicon.ico" type="image/vnd.microsoft.icon">

<!--[if lt IE 7]>
<script defer type="text/javascript" src="/media/pngfix.js"></script>
<style type="text/css">
    .bgover {background-image: none;}
</style>
<![endif]-->



<meta name="google-site-verification" content="ltUi_oRoa-l3FaEbLA3L5aKLgSqmd7zC5NiHXO6BeaQ" />
</head>
  <body>
<a href="/"><img title="excess.org" alt="excess.org" height="70" width="600" src="/media/strut.gif" class="topstrut"></a>

<br>

<div class="lcol">
<h1 style="margin: 0 0 1ex 6px;">Ian Ward</h1>

<div class="bgover" style="margin-top: 6px;">
<div class="colh">Software</div>

<div class="proj">
<a href="http://ckan.org/"><img src="/media/ckan.png" alt="CKAN" title="CKAN"></a>
<span class="smll">contributor/tech lead</span>
</div>

<div class="proj">
<a href="http://urwid.org/"><img src="/media/urwid.png" alt="Urwid" title="Urwid"></a>
<span class="smll">author</span>
</div>

<div class="proj">
<a href="http://pyrf.org/"><img src="/media/pyrf.png" alt="PyRF" title="PyRF"></a></a>
<span class="smll">contributor</span>
</div>

<div class="proj">
<a href="/speedometer/"><img alt="Speedometer" title="Speedometer" src="/media/speedometer.png"></a>
<span class="smll">author</span>
</div>

<div class="proj">
<a href="/article/2007/10/xterm-256-colour-chart-20/">xterm colour chart</a>
</div>
<div class="proj">
<a href="/old-projects/">old projects</a>
</div>
<hr/>
<div class="colh">Presentations</div>

<div class="proj">
<a href="/article/2014/05/iasa-esummit/">Contributing to Open Source</a><br>
<span class="smll">IASA E-Summit, 2014-05-16</span>
</div>
<div class="proj">
<a href="/article/2012/11/urwid-applications-pycon-canada/">Urwid Applications</a><br>
<span class="smll">2012-11-14</span>
</div>
<div class="proj">
<a href="/article/2012/01/urwid-python-malaysia/">Urwid Intro</a><br>
<span class="smll">2012-01-22</span>
</div>
<div class="proj">
<a href="/article/2011/12/unfortunate-python/">Unfortunate Python</a><br>
<span class="smll">2011-12-19</span>
</div>
<div class="proj">
<a href="/article/2011/06/python-3-argument-sketch-slides/">Python 3, the Argument Sketch</a><br>
<span class="smll">2011-06-14</span>
</div>
<div class="proj">
<a href="/article/2010/04/nontrivial-django-forms-talk-text/">Nontrivial Django Forms</a><br>
<span class="smll">2010-04-16</span>
</div>
<div class="proj">
<a href="/article/2009/05/django-1-1-talk-text/">Django 1.1</a><br>
<span class="smll">2009-05-16</span>
</div>


<hr/>
<div class="colh">Writing</div>

<div class="proj">
<a href="http://lwn.net/Articles/426906/">Moving to Python 3</a><br>
<span class="smll">2011-02-17</span>
</div>
<div class="proj">
<a href="http://lwn.net/Articles/328487/">Alternatives to SQL Databases</a><br>
<span class="smll">2009-04-16</span>
</div>
<div class="proj">
<a href="http://lwn.net/Articles/293692/">Audio Streaming over Bluetooth</a><br>
<span class="smll">2008-08-15</span>
</div>
<div class="proj">
<a href="http://lwn.net/Articles/291803/">MARS and Cell processor</a><br>
<span class="smll">2008-07-31</span>
</div>
<div class="proj">
<a href="/writing/">Printing with Debian and Windows Mini-HOWTO</a><br>
<span class="smll">2009-03-08 (1.7)</span>
</div>

</div>

<div class="bgover" style="margin-top: 6px; margin-bottom: 15px;">
<div class="colh">Article Tags</div>
<div class="proj" style="line-height: 1.5em;">
<span class="sbut"><a href="/tag/django/">Django</a></span> <span class="sbut"><a href="/tag/templayer/">Templayer</a></span> <span class="sbut"><a href="/tag/urwid/">Urwid</a></span> <span class="sbut"><a href="/tag/ottawa/">Ottawa</a></span> <span class="sbut"><a href="/tag/cycling/">Cycling</a></span> <span class="sbut"><a href="/tag/oclug/">OCLUG</a></span> <span class="sbut"><a href="/tag/ols/">OLS</a></span> <span class="sbut"><a href="/tag/site-news/">Site News</a></span> <span class="sbut"><a href="/tag/mailman/">Mailman</a></span> <span class="sbut"><a href="/tag/php/">PHP</a></span> <span class="sbut"><a href="/tag/hardware/">Hardware</a></span> <span class="sbut"><a href="/tag/software/">Software</a></span> <span class="sbut"><a href="/tag/speedometer/">Speedometer</a></span> <span class="sbut"><a href="/tag/video/">Video</a></span> <span class="sbut"><a href="/tag/linux/">Linux</a></span> <span class="sbut"><a href="/tag/git/">Git</a></span> <span class="sbut"><a href="/tag/python/">Python</a></span> <span class="sbut"><a href="/tag/lwn/">LWN.net</a></span> <span class="sbut"><a href="/tag/fosslc/">FOSSLC</a></span> <span class="sbut"><a href="/tag/opag/">OPAG</a></span> <span class="sbut"><a href="/tag/games/">Games</a></span> <span class="sbut"><a href="/tag/ipv6/">IPv6</a></span> <span class="sbut"><a href="/tag/ckan/">CKAN</a></span>
</div>
</div>

<p>
<a href="/">Home</a>
</p>

<div class="smll">
<p>
Ian Ward's email:<br /> 
first name at this domain
</p>
<p>
<tt>wardi</tt> on OFTC, freenode and
<a href="https://github.com/wardi/">github</a>
</p>
</div>

<a href="http://www3.clustrmaps.com/counter/maps.php?url=http://excess.org" id="clustrMapsLink"><img src="http://www3.clustrmaps.com/counter/index2.php?url=http://excess.org" style="border:0px;" alt="Locations of visitors to this page" title="Locations of visitors to this page" id="clustrMapsImg" onError="this.onError=null; this.src='http://www2.clustrmaps.com/images/clustrmaps-back-soon.jpg'; document.getElementById('clustrMapsLink').href='http://www2.clustrmaps.com'" />
</a>

</div>


<div class="mcol" style="padding-bottom: 0; margin-bottom: -3px;">
<h1 style="margin: 0 0 1ex 6px;">Speedometer 2.8</h1>
</div>


<div class="mcol">
<div class="bgover">
<div class="colh"></div>
<p><h2>Purpose</h2>
<p>Measure and display the rate of data across a network connection or
data being stored in a file.</p>
<h2>Source</h2>
<p>Current version is 2.8</p>
<p>Version 2.8 
<a href="speedometer-2.8.tar.gz">download tarball</a></p>
<p>Mercurial repository: <a href="https://excess.org/hg/speedometer/">https://excess.org/hg/speedometer/</a></p>
<p>Github mirror: <a href="https://github.com/wardi/speedometer">https://github.com/wardi/speedometer</a></p>
<h2>Screenshots</h2>
<p><img alt="screenshot with dark transparent backgrounds" src="/media/speedometer-transp1.png" title="16 color mode with dark transparent background" />
<img alt="screenshot with light background" src="/media/speedometer-light16.png" title="16 color mode with light background" />
<img alt="screenshot of 256 color mode" src="/media/speedometer-256.png" title="256 color mode" />
<img alt="screenshot of monochrome mode" src="/media/speedometer-mono.png" title="monochrome mode" /></p>
<h2>Installation</h2>
<h3>Debian or Ubuntu</h3>
<pre><code>apt-get install speedometer
</code></pre>
<h3>Others</h3>
<p>Download and install <a href="/urwid/">Urwid</a> (recommended).</p>
<p>Download the speedometer source.</p>
<p>As root issue the following commands in the directory that you downloaded
the source file:</p>
<pre><code>cp speedometer.py /usr/local/bin/speedometer
chown root: /usr/local/bin/speedometer
chmod 755 /usr/local/bin/speedometer
</code></pre>
<h2>Usage</h2>
<pre><code>Usage: speedometer [options] tap [[-c] tap]...
Monitor network traffic or speed/progress of a file transfer.  At least one
tap must be entered.  -c starts a new column, otherwise taps are piled
vertically.

Taps:
  -f filename [size]          display download speed [with progress bar]
  -r network-interface        display bytes received on network-interface
  -t network-interface        display bytes transmitted on network-interface
  -c                          start a new column for following tap arguments

Options:
  -b                          use old blocky display instead of smoothed
                              display even when UTF-8 encoding is detected
                              (use this if you see strange characters)
  -i interval-in-seconds      eg. "5" or "0.25"   default: "1"
  -k (1|16|88|256)            set the number of colors this terminal
                              supports (default 16)
  -l                          use linear charts instead of logarithmic
                              you will VERY LIKELY want to set -m as well
  -m chart-maximum            set the maximum bytes/second displayed on
                              the chart (default 2^32)
  -n chart-minimum            set the minimum bytes/second displayed on
                              the chart (default 32)
  -p                          use original plain-text display (one tap only)
  -s                          use bits/s instead of bytes/s
  -x                          exit when files reach their expected size
  -z                          report zero size on files that don't exist
                              instead of waiting for them to be created
</code></pre>
<h2>Usage Examples</h2>
<p>How long it will take for my 38MB transfer to finish?</p>
<pre><code>speedometer favorite_episode.rm $((38*1024*1024))
</code></pre>
<p>How quickly is another transfer going?</p>
<pre><code>speedometer dl/big.avi
</code></pre>
<p>How fast is this LAN?</p>
<pre><code>host-a$ cat /dev/zero | nc -l -p 12345

host-b$ nc host-a 12345 &gt; /dev/null 
host-b$ speedometer -rx eth0
</code></pre>
<p>How fast is the upstream on this ADSL line? (start an upload first)</p>
<pre><code>speedometer -tx ppp0
</code></pre>
<p>How fast can I write data to my filesystem? (with at least 1GB free)</p>
<pre><code>dd bs=1000000 count=1000 if=/dev/zero of=big_nothing &amp;
speedometer big_nothing
</code></pre>
<h2>Changelog</h2>
<h3>Speedometer 2.8 - 2011-12-08</h3>
<ul>
<li>
<p>Add a linear scale option: -l.  Best used in combination with
   -m (and possibly -n) to customize the range to be displayed.
   Thanks to jukie.net for sponsoring this feature.</p>
</li>
<li>
<p>Replace silly "curved" reading with a weighted moving average</p>
</li>
<li>
<p>New option to disply all values in bits per second: -s</p>
</li>
<li>
<p>New options to set minumum (-n) and maximum (-m) values
   displayed on the graphs in bytes/s.
   Defaults are -n 32 and -m 2**32</p>
</li>
<li>
<p>Accept shortened versions of -rx and -tx: -r and -t
   My intent is to drop use of the original forms in 3.0 and add
   --long-versions of all options</p>
</li>
<li>
<p>Use IEC notation of sizes MiB, GiB etc.</p>
</li>
<li>
<p>Install script as both speedometer.py and speedometer</p>
</li>
</ul>
<h3>Speedometer 2.7 - 2010-11-08</h3>
<ul>
<li>
<p>Work better with light, dark and transparent backgrounds</p>
</li>
<li>
<p>Added monochrome and 88/256 color modes</p>
</li>
<li>
<p>New option to exit once a monitored download completes</p>
</li>
<li>
<p>Requires Urwid 0.9.9.1 or later</p>
</li>
</ul>
<h3>Speedometer 2.6 - 2008-05-30</h3>
<ul>
<li>
<p>Increase scale maximum to &gt; 1GB/s</p>
</li>
<li>
<p>Hide Python traceback when user presses ^C</p>
</li>
<li>
<p>Make using plain text mode when Urwid is unavailable the default</p>
</li>
<li>
<p>Make blocky and smoothed modes look more similar</p>
</li>
<li>
<p>Fix simulation and file progress bugs</p>
</li>
</ul>
<h3>Speedometer 2.5 - 2007-10-20</h3>
<ul>
<li>
<p>Use Urwid's raw_display instead of curses_display module</p>
</li>
<li>
<p>Use regexp instead of find for parsing network information</p>
</li>
</ul>
<h3>Speedometer 2.4 - 2006-04-09</h3>
<ul>
<li>
<p>New -z option treats files that don't exist as zero length so
   speedometer will not wait for them to be created at startup.</p>
</li>
<li>
<p>Multiple file taps may now be used stacked vertically in the
   same column.</p>
</li>
</ul>
<h3>Speedometer 2.3 - 2006-03-08</h3>
<ul>
<li>
<p>Graphs may now be displayed with 8 times the resolution of old blocky
   graphs using a new UTF-8 smoothed display mode.  Requires UTF-8 capable
   terminal in UTF-8 encoding (try uxterm) and Urwid 0.9.1 or later.</p>
</li>
<li>
<p>Use math.log without base for compatibility with Python 2.1.</p>
</li>
</ul>
<h3>Speedometer 2.2 - 2005-12-27</h3>
<ul>
<li>Read network statistics from /proc/net/dev instead of /sbin/ifconfig.
   Reduces CPU usage by 75% on test machine.
   Thanks to Don Rozenberg for the patch.</li>
</ul>
<h3>Speedometer 2.1 - 2005-11-05</h3>
<ul>
<li>
<p>New simultaneous display of multiple graphs with options for stacking
   graphs vertically or horizontally</p>
</li>
<li>
<p>New labels to differentiate each graph</p>
</li>
<li>
<p>Removed 0-32 B/s from display to make more room for higher speeds</p>
</li>
<li>
<p>Fixed a wait_creation bug</p>
</li>
</ul>
<h3>Speedometer 2.0 - 2005-10-21</h3>
<ul>
<li>
<p>New full-console bar graph display based on Urwid 0.8.9</p>
</li>
<li>
<p>Realigned graphic scale to more common units</p>
</li>
</ul>
<h3>Speedometer 1.4 - 2003-07-18</h3>
<ul>
<li>New average and "smoothed" readings added</li>
</ul>
<h3>Speedometer 1.3 - 2003-05-19</h3>
<ul>
<li>New -i option for changing the refresh interval</li>
</ul>
<h3>Speedometer 1.2 - 2003-03-21</h3>
<ul>
<li>Initial public release</li>
</ul></p>
</div>
</div>



<br clear="left">
<div class="smll"></div>
</body>
</html>
