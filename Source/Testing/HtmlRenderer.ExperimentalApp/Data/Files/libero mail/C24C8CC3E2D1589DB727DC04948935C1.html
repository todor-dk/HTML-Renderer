<!DOCTYPE html>
<html class="no-js" lang="it-IT" xmlns:fb="http://ogp.me/ns/fb#" xmlns:addthis="http://www.addthis.com/help/api-spec"  prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://www.innovatiweb.com/xmlrpc.php" />
<title>Libero Mail: che disastro! - Innovatiweb</title>

<!-- This site is optimized with the Yoast SEO plugin v4.3 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.innovatiweb.com/2015/12/23/libero-mail/" />
<meta property="og:locale" content="it_IT" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Libero Mail: che disastro! - Innovatiweb" />
<meta property="og:description" content="L&#8217;altro giorno stavo tentando di accedere alla casella di Libero Mail quando per alcune ore è comparsa questa schermata con codice PHP, praticamente una violazione della sicurezza di base di qualsiasi sito internet! Non saprei dire se..." />
<meta property="og:url" content="http://www.innovatiweb.com/2015/12/23/libero-mail/" />
<meta property="og:site_name" content="Innovatiweb" />
<meta property="article:tag" content="errore" />
<meta property="article:tag" content="liberomail" />
<meta property="article:tag" content="php" />
<meta property="article:section" content="Home" />
<meta property="article:published_time" content="2015-12-23T22:33:37+02:00" />
<meta property="article:modified_time" content="2016-02-01T09:03:08+02:00" />
<meta property="og:updated_time" content="2016-02-01T09:03:08+02:00" />
<meta property="og:image" content="http://www.innovatiweb.com/wp-content/uploads/2015/12/screen-e1450906809758.png" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="L&#8217;altro giorno stavo tentando di accedere alla casella di Libero Mail quando per alcune ore è comparsa questa schermata con codice PHP, praticamente una violazione della sicurezza di base di qualsiasi sito internet! Non saprei dire se..." />
<meta name="twitter:title" content="Libero Mail: che disastro! - Innovatiweb" />
<meta name="twitter:image" content="http://www.innovatiweb.com/wp-content/uploads/2015/12/screen-e1450906809758.png" />
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Innovatiweb &raquo; Feed" href="http://www.innovatiweb.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Innovatiweb &raquo; Feed dei commenti" href="http://www.innovatiweb.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Innovatiweb &raquo; Libero Mail: che disastro! Feed dei commenti" href="http://www.innovatiweb.com/2015/12/23/libero-mail/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.innovatiweb.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='http://www.innovatiweb.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='http://www.innovatiweb.com/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://www.innovatiweb.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='mh-google-fonts-css'  href='https://fonts.googleapis.com/css?family=Oswald:400,700,300|PT+Serif:400,400italic,700,700italic' type='text/css' media='all' />
<link rel='stylesheet' id='mh-font-awesome-css'  href='http://www.innovatiweb.com/wp-content/themes/mh-newsdesk-lite/includes/font-awesome.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='mh-style-css'  href='http://www.innovatiweb.com/wp-content/themes/mh-newsdesk-lite/style.css?ver=1.2.3' type='text/css' media='all' />
<!-- This site uses the Google Analytics by MonsterInsights plugin v6.0.11 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-3548338-5', 'auto');
	__gaTracker('set', 'forceSSL', true);
	__gaTracker('set', 'anonymizeIp', true);
	__gaTracker('send','pageview');
</script>
<!-- / Google Analytics by MonsterInsights -->
<script type='text/javascript' src='http://www.innovatiweb.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://www.innovatiweb.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.innovatiweb.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Premi %s per copiare, %s per incollare","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.innovatiweb.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='http://www.innovatiweb.com/wp-content/themes/mh-newsdesk-lite/js/scripts.js?ver=4.7.5'></script>
<link rel='https://api.w.org/' href='http://www.innovatiweb.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.innovatiweb.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.innovatiweb.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.7.5" />
<link rel='shortlink' href='http://www.innovatiweb.com/?p=138' />
<link rel="alternate" type="application/json+oembed" href="http://www.innovatiweb.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.innovatiweb.com%2F2015%2F12%2F23%2Flibero-mail%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://www.innovatiweb.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.innovatiweb.com%2F2015%2F12%2F23%2Flibero-mail%2F&#038;format=xml" />
<!--[if lt IE 9]>
<script src="http://www.innovatiweb.com/wp-content/themes/mh-newsdesk-lite/js/css3-mediaqueries.js"></script>
<![endif]-->
		<style type="text/css" id="wp-custom-css">
			/*
CSS
*/

body {
	font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
}		</style>
	</head>
<body class="post-template-default single single-post postid-138 single-format-standard mh-right-sb">
<div id="mh-wrapper">
<header class="mh-header">
	<div class="header-wrap clearfix">
		<a href="http://www.innovatiweb.com/" title="Innovatiweb" rel="home">
<div class="logo-wrap" role="banner">
<style type="text/css" id="mh-header-css">.logo-title, .logo-tagline { color: #112a6b; }</style>
<div class="logo">
<h1 class="logo-title"> Innovatiweb</h1>
<h2 class="logo-tagline">innovare il web in Italia</h2>
</div>
</div>
</a>
	</div>
	<div class="header-menu clearfix">
		<nav class="main-nav clearfix">
			<div class="menu-menu-1-container"><ul id="menu-menu-1" class="menu"><li id="menu-item-12" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12"><a href="http://www.innovatiweb.com/about-us/">About us</a></li>
<li id="menu-item-9" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-9"><a href="http://www.innovatiweb.com/projects/">Projects</a></li>
<li id="menu-item-31" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-31"><a href="http://www.innovatiweb.com/category/news/">News</a></li>
<li id="menu-item-30" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-30"><a href="http://www.innovatiweb.com/contact/">Contact</a></li>
</ul></div>		</nav>
		<div style="margin-top:10px;">
			<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<!-- Innovatiweb_Reactive -->
			<ins class="adsbygoogle"
			     style="display:block"
			     data-ad-client="ca-pub-7111497884060253"
			     data-ad-slot="1218350284"
			     data-ad-format="auto"></ins>
			<script>
				(adsbygoogle = window.adsbygoogle || []).push({});
			</script>
		</div>
	</div>
</header><div class="mh-section mh-group">
	<div id="main-content" class="mh-content"><article id="post-138" class="post-138 post type-post status-publish format-standard has-post-thumbnail hentry category-home category-ict tag-errore tag-liberomail tag-php">
	<header class="entry-header clearfix">
		<h1 class="entry-title">Libero Mail: che disastro!</h1>
		<div class="entry-tags clearfix"><span>TOPICS:</span><a href="http://www.innovatiweb.com/tag/errore/" rel="tag">errore</a><a href="http://www.innovatiweb.com/tag/liberomail/" rel="tag">liberomail</a><a href="http://www.innovatiweb.com/tag/php/" rel="tag">php</a></div>	</header>
	
<div class="entry-thumbnail">
<img width="200" height="200" src="http://www.innovatiweb.com/wp-content/uploads/2015/12/screen-e1450906809758.png" class="attachment-content-single size-content-single wp-post-image" alt="" srcset="http://www.innovatiweb.com/wp-content/uploads/2015/12/screen-e1450906809758.png 200w, http://www.innovatiweb.com/wp-content/uploads/2015/12/screen-e1450906809758-150x150.png 150w" sizes="(max-width: 200px) 100vw, 200px" /></div>
	<p class="entry-meta">
<span class="entry-meta-author vcard author">Posted By: <a class="fn" href="http://www.innovatiweb.com/author/innovatiweb/">innovatiweb</a></span>
<span class="entry-meta-date updated">23 dicembre 2015</span>
</p>
	<div class="entry-content clearfix">
		<!-- AddThis Sharing Buttons above --><p>L&#8217;altro giorno stavo tentando di accedere alla casella di <strong><a href="http://liberomail.libero.it" target="_blank">Libero Mail</a></strong> quando per alcune ore è comparsa questa schermata con codice PHP, praticamente una violazione della sicurezza di base di qualsiasi sito internet!</p>
<p>Non saprei dire se si è trattato di un <strong>attacco informatico</strong>, certo è che pubblicare codice in questo modo è un&#8217;azione pericolosa perchè qualche malintenzionato potrebbe sfruttare queste informazioni per poi accedere agli account. Guardando il codice ad esempio vengono resi pubblici i path locali e dove sono posizionati alcuni file e librerie.</p>
<p>Un utente non può certo sentirsi tranquillo quando capitano certe cose e potrebbe scegliere di passare a servizi che danno maggiore sicurezza, come <a href="http://mail.google.com" target="_blank">GMail</a>.</p>
<p>&nbsp;</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5966543aab00e510371430" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Libero mail error</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contiene linguaggi misti"></span><div class="crayon-button crayon-nums-button" title="Mostra/nascondi numeri di riga"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Mostra/nascondi codice sorgente"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Apri il codice in una nuova finestra"><div class="crayon-button-icon"></div></div><span class="crayon-language">PHP</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;?
#$path="/usr/local/apache22/portale";
$path=(getenv('APP_PATH_WWW')!="")?getenv('APP_PATH_WWW'):"/usr/local/apache/portale";

@include("$path/rollback_sso.php");
@include("$path/class/ck_name.lib");
$values=array();
$is_rem_exist = (isset($_COOKIE["LIB_RM_CK"])) ? true : false ;
$edata=$_COOKIE["LIB_NAME_CK"];
$ret_code_de_name_ck=de_name_ck($edata,$is_rem_exist,&amp;$values);

$url="http://liberomail.libero.it/";
$url_sso="https://login.libero.it?";
$CK_WMAIL = $_COOKIE["WMAIL"];
$CK_WPOPSERVER = $_COOKIE["WPOP-SERVER"];
$view_old=false;

if($rollback_sso===true){
$url="http://liberomail.libero.it/";
}else{
if (get_view_mailmobile_whitelist()===true) {
$url="http://m.libero.it/mail/";
} else{ //stato smart
$hostname = "mailbeta.libero.it";
$url="http://". $hostname ."/cp/WindMailPS.jsp?rndPrx=".rand(); //stato BETA LOGGED -&gt; redirect su mailbeta
$url=$url_sso."service_id=beta_email&amp;ret_url=".urlencode($url);
}
}
//$path.="/htdocs1024/";
//$path_release=$path."r/200912c/";
function get_view_old(){
$agent = "-------".strtolower($_SERVER["HTTP_USER_AGENT"]);
if(strpos($agent,"firefox/2")) return false;
if(strpos($agent,"firefox/3")) return false;
if(strpos($agent,"firefox/4")) return false;
if(strpos($agent,"firefox/5")) return false;
if(strpos($agent,"firefox/6")) return false;
if(strpos($agent,"firefox/7")) return false;
if(strpos($agent,"firefox/8")) return false;
if(strpos($agent,"firefox/9")) return false;
if(strpos($agent,"firefox/10")) return false;
if(strpos($agent,"firefox/11")) return false;
if(strpos($agent,"firefox/12")) return false;
if(strpos($agent,"firefox/13")) return false;
if(strpos($agent,"firefox/14")) return false;
if(strpos($agent,"firefox/15")) return false;
if(strpos($agent,"firefox/16")) return false;
if(strpos($agent,"firefox/17")) return false;
if(strpos($agent,"firefox/18")) return false;
if(strpos($agent,"firefox/19")) return false;
if(strpos($agent,"msie 6") &amp;&amp; !(strpos($agent,"opera")) ) return false;
if(strpos($agent,"msie 7")) return false;
if(strpos($agent,"msie 8")) return false;
if(strpos($agent,"msie 9")) return false;
if(strpos($agent,"msie 10")) return false;
if(strpos($agent,"chrome")) return false;
if(strpos($agent,"ipad")) return false;
if(strpos($agent,"iphone")) return false;
if(strpos($agent,"android")) return false;
if(strpos($agent,"opera/9.5")) return false;
if(strpos($agent,"opera/9.6")) return false;
if(strpos($agent,"version/3.1 safari")) return false;
if(strpos($agent,"version/4.0 safari")) return false;
if(strpos($agent,"version/4.1 safari")) return false;
if(strpos($agent,"version/5.1 safari")) return false;
if(preg_match("/version\/3\.1\.([0-9]{1,}\s)safari/",$agent )) return false;
if(preg_match("/version\/4\.0\.([0-9]{1,}\s)safari/",$agent )) return false;
if(preg_match("/version\/4\.1\.([0-9]{1,}\s)safari/",$agent )) return false;
if(preg_match("/version\/5\.0\.([0-9]{1,}\s)safari/",$agent )) return false;
if(preg_match("/version\/5\.1\.([0-9]{1,}\s)safari/",$agent )) return false;

return true;

}
# nuova redirect 29/10/2012 #
function get_view_old_whitelist(){
$agent = "-------".strtolower($_SERVER["HTTP_USER_AGENT"]);
if(strpos($agent,"firefox/0.")) return true;
//if(strpos($agent,"firefox/1.")) return true;
//if(strpos($agent,"msie 4")) return true;
//if(strpos($agent,"msie 5")) return true;
if(preg_match("/blackberry([0-9]{4,})\/4/",$agent )) return true;
if(preg_match("/blackberry([0-9]{4,})\/5/",$agent )) return true;
if(strpos($agent,"dolfin/1")) return true;
if(strpos($agent,"jasmine/0")) return true;
if(strpos($agent,"jasmine/1")) return true;
if(strpos($agent,"k-meleon/1")) return true;
if(strpos($agent,"midori/0")) return true;
if(strpos($agent,"navigator/8")) return true;
if(strpos($agent,"navigator/9")) return true;
if(strpos($agent,"ning/1")) return true;
if(strpos($agent,"nokia300/5")) return true;
if(strpos($agent,"nokia302/5")) return true;
if(strpos($agent,"nokia3710fold/5")) return true;
if(strpos($agent,"nokia7230/5")) return true;
if(strpos($agent,"opera mini/4")) return true;
if(strpos($agent,"opera mini/5")) return true;
if(strpos($agent,"opera mini/6")) return true;
if(strpos($agent,"opera mini/7")) return true;
if(preg_match("/symbianos\/9.*series60/",$agent )) return true;
if(strpos($agent,"skyfire/2")) return true;

return false;

}

# nuova redirect 25/03/2013 #
function get_view_mailmobile_whitelist(){
$agent = "-------".strtolower($_SERVER["HTTP_USER_AGENT"]);
if(strpos($agent,"blackberry")) return true;
if(strpos($agent,"dolfin")) return true;
if(strpos($agent,"nokia300")) return true;
if(strpos($agent,"nokia302")) return true;
if(strpos($agent,"nokia3710")) return true;
if(strpos($agent,"nokia7230")) return true;
if(strpos($agent,"opera mini")) return true;
if(strpos($agent,"symbianos")) return true;
if(strpos($agent,"skyfire")) return true;
return false;
}
#la parte sopra è da copiare da index di HP
setcookie("RDR", "1", 0, "", "libero.it");
header('Location: '.$url);
return;
/*
#codice precedente

@include("/usr/local/apache/portale/rollback_sso.php");
@include("/usr/local/apache/portale/class/ck_name.lib"); // funziona solo sui FE di portale dove c'è la lib mcrypt
$values=array();
$is_rem_exist = (isset($_COOKIE["LIB_RM_CK"])) ? true : false ;
$edata=$_COOKIE["LIB_NAME_CK"];
$ret_code_de_name_ck=de_name_ck($edata,$is_rem_exist,&amp;$values);

$url="http://liberomail.libero.it/";
$url_sso="https://login.libero.it?";

$CK_WMAIL = $_COOKIE["WMAIL"];
$CK_WPOPSERVER = $_COOKIE["WPOP-SERVER"];
if($rollback_sso===true){
$url="http://liberomail.libero.it/";
@include("login_mail.html");
exit();
}else{

if ($CK_WMAIL=="old" ){ //stato temporaneo
$agent = "-------".strtolower($_SERVER["HTTP_USER_AGENT"]);
# if(strpos($agent,"firefox/3")){
if(strpos($agent,"opera")){
$CK_WMAIL="kold";
$TPhp_time=mktime(0, 0, 0, date("m"), date("d"), date("Y")+10);
setcookie("WMAIL", $CK_WMAIL, $TPhp_time , "/" , ".libero.it");
}
}

if ($CK_WMAIL=='old' || $CK_WMAIL=="oldv"){ //stato old
if(($ret_code_de_name_ck===0) &amp;&amp;($CK_WPOPSERVER!="")) { //stato OLD LOGGED and CK_WPOP-SERVER-&gt; redirect su http://${WPOP-SERVER}/email.php
$url= "http://".$CK_WPOPSERVER."/email.php?rndPrx=".rand();
setcookie("WPOP-SERVER", "", time() - 3600, "/", ".libero.it");
}else{ //stato OLD no-LOGGED -&gt; redirect su sso
$r2 = abs ( floor (rand() * 625 + 1));
$r = ((($r2 -1) %7) + 1); if($r&lt;1) $r=rand(2,6);
$url='http://wpop' . $r . '.libero.it/email.php';
}
$url=$url_sso."service_id=old_email&amp;ret_url=".$url."&amp;rndPrx=".rand();
header('Location: '.$url);
exit();
} else { //stato smart
$hostname = "mailbeta.libero.it";
$url="http://". $hostname ."/cp/WindMailPS.jsp?rndPrx=".rand(); //stato BETA LOGGED -&gt; redirect su mailbeta
$url=$url_sso."service_id=beta_email&amp;ret_url=".$url;
/*
header('Location: '.$url);
exit();
}else{ //stato new - default
$hostname = "wmail-nc.libero.it"; //a differenza del js non possiamo sapere se al momento i cookie sono abilitati, quindi lo mandiamo sempre ai non cookie
$url="http://". $hostname ."/cp/WindMailPS.jsp?rndPrx=".rand(); //stato NEW LOGGED -&gt; redirect su webmail
if($ret_code_de_name_ck!==0) {//stato NEW no-LOGGED -&gt; redirect su sso
}
$url=$url_sso."service_id=email&amp;ret_url=".$url."&amp;rndPrx=".rand();
* /
?&gt;
&lt;script&gt;
var url_sso="https://login.libero.it?";

function getCookie( name ) {
var start = document.cookie.indexOf( name + "=" );
var len = start + name.length + 1;
if((!start) &amp;&amp; (name!=document.cookie.substring(0,name.length))) return "";
if(start == -1) return "";
var end = document.cookie.indexOf( ';', len );
if ( end == -1 ) end = document.cookie.length;
return unescape(document.cookie.substring(len,end));
}
function cookies_enabled(){
var cookie_name = 'nwmlb';
var cookie_val = Math.random();
SetEvalCookie(cookie_name, cookie_val);
if (getCookie(cookie_name)==cookie_val){
return true;
} else {
return false;
}
}
function SetEvalCookie(name, value) {
evalcookie=name + "=" + value;
document.cookie=evalcookie;
}
if (cookies_enabled()) {
// url="http://wmail-new.libero.it/cp/WindMailPS.jsp?rndPrx="+Math.random(); //stato NEW LOGGED -&gt; redirect su webmail
// url=url_sso+"service_id=email&amp;ret_url="+encodeURIComponent(url);
url="http://mailbeta.libero.it/cp/WindMailPS.jsp?rndPrx="+Math.random(); //stato NEW LOGGED -&gt; redirect su webmail
url=url_sso+"service_id=beta_email&amp;ret_url="+encodeURIComponent(url);
}else {
url="&lt;? echo $url; ?&gt;";
}

location.href=url;

&lt;/script&gt;&lt;?
exit();
}
}

*/
?&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5966543aab00e510371430-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-2">2</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-4">4</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-6">6</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-8">8</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-10">10</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-12">12</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-14">14</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-16">16</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-18">18</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-20">20</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-22">22</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-24">24</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-26">26</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-28">28</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-30">30</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-32">32</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-34">34</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-36">36</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-38">38</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-40">40</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-42">42</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-44">44</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-46">46</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-48">48</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-50">50</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-52">52</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-54">54</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-56">56</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-58">58</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-60">60</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-62">62</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-64">64</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-66">66</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-68">68</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-70">70</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-72">72</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-74">74</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-76">76</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-78">78</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-80">80</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-82">82</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-84">84</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-86">86</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-88">88</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-90">90</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-92">92</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-94">94</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-96">96</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-98">98</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-100">100</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-102">102</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-104">104</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-106">106</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-108">108</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-110">110</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-112">112</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-114">114</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-116">116</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-118">118</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-120">120</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-122">122</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-124">124</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-126">126</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-128">128</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-130">130</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-132">132</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-134">134</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-136">136</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-138">138</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-140">140</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-142">142</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-144">144</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-146">146</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-148">148</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-150">150</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-152">152</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-154">154</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-156">156</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-158">158</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-160">160</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-162">162</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-164">164</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-166">166</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-168">168</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-170">170</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-172">172</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-174">174</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-176">176</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-178">178</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-180">180</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-182">182</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-184">184</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-186">186</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-188">188</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-190">190</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-192">192</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-194">194</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-196">196</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-198">198</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-200">200</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-202">202</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-204">204</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-205">205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-206">206</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-207">207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-208">208</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-209">209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-210">210</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-211">211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-212">212</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-213">213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-214">214</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-215">215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-216">216</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-217">217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-218">218</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-219">219</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-220">220</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-221">221</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-222">222</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-223">223</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-224">224</div><div class="crayon-num" data-line="crayon-5966543aab00e510371430-225">225</div><div class="crayon-num crayon-striped-num" data-line="crayon-5966543aab00e510371430-226">226</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5966543aab00e510371430-1"><span class="crayon-ta">&lt;?</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-2"><span class="crayon-c">#$path="/usr/local/apache22/portale";</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-3"><span class="crayon-v">$path</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-e">getenv</span><span class="crayon-sy">(</span><span class="crayon-s">'APP_PATH_WWW'</span><span class="crayon-sy">)</span><span class="crayon-o">!=</span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">?</span><span class="crayon-e">getenv</span><span class="crayon-sy">(</span><span class="crayon-s">'APP_PATH_WWW'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-s">"/usr/local/apache/portale"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-4">&nbsp;</div><div class="crayon-line" id="crayon-5966543aab00e510371430-5"><span class="crayon-sy">@</span><span class="crayon-k ">include</span><span class="crayon-sy">(</span><span class="crayon-s">"$path/rollback_sso.php"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-6"><span class="crayon-sy">@</span><span class="crayon-k ">include</span><span class="crayon-sy">(</span><span class="crayon-s">"$path/class/ck_name.lib"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-7"><span class="crayon-v">$values</span><span class="crayon-o">=</span><span class="crayon-t">array</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-8"><span class="crayon-v">$is_rem_exist</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-k ">isset</span><span class="crayon-sy">(</span><span class="crayon-v">$_COOKIE</span><span class="crayon-sy">[</span><span class="crayon-s">"LIB_RM_CK"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-9"><span class="crayon-v">$edata</span><span class="crayon-o">=</span><span class="crayon-v">$_COOKIE</span><span class="crayon-sy">[</span><span class="crayon-s">"LIB_NAME_CK"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-10"><span class="crayon-v">$ret_code_de_name_ck</span><span class="crayon-o">=</span><span class="crayon-e">de_name_ck</span><span class="crayon-sy">(</span><span class="crayon-v">$edata</span><span class="crayon-sy">,</span><span class="crayon-v">$is_rem_exist</span><span class="crayon-sy">,</span><span class="crayon-o">&amp;</span><span class="crayon-v">$values</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-12"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-s">"http://liberomail.libero.it/"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-13"><span class="crayon-v">$url_sso</span><span class="crayon-o">=</span><span class="crayon-s">"https://login.libero.it?"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-14"><span class="crayon-v">$CK_WMAIL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">$_COOKIE</span><span class="crayon-sy">[</span><span class="crayon-s">"WMAIL"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-15"><span class="crayon-v">$CK_WPOPSERVER</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">$_COOKIE</span><span class="crayon-sy">[</span><span class="crayon-s">"WPOP-SERVER"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-16"><span class="crayon-v">$view_old</span><span class="crayon-o">=</span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-18"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">$rollback_sso</span><span class="crayon-o">===</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-19"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-s">"http://liberomail.libero.it/"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-20"><span class="crayon-sy">}</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-21"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">get_view_mailmobile_whitelist</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">===</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-22"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-s">"http://m.libero.it/mail/"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-23"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">//stato smart</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-24"><span class="crayon-v">$hostname</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"mailbeta.libero.it"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-25"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-s">"http://"</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">$hostname</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-s">"/cp/WindMailPS.jsp?rndPrx="</span><span class="crayon-sy">.</span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//stato BETA LOGGED -&gt; redirect su mailbeta</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-26"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-v">$url_sso</span><span class="crayon-sy">.</span><span class="crayon-s">"service_id=beta_email&amp;ret_url="</span><span class="crayon-sy">.</span><span class="crayon-e">urlencode</span><span class="crayon-sy">(</span><span class="crayon-v">$url</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-27"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-28"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-29"><span class="crayon-c">//$path.="/htdocs1024/";</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-30"><span class="crayon-c">//$path_release=$path."r/200912c/";</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-31"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">get_view_old</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-32"><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"-------"</span><span class="crayon-sy">.</span><span class="crayon-e">strtolower</span><span class="crayon-sy">(</span><span class="crayon-v">$_SERVER</span><span class="crayon-sy">[</span><span class="crayon-s">"HTTP_USER_AGENT"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-33"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/2"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-34"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/3"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-35"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/4"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-36"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/5"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-37"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/6"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-38"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/7"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-39"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/8"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-40"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/9"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-41"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/10"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-42"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/11"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-43"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/12"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-44"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/13"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-45"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/14"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-46"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/15"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-47"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/16"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-48"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/17"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-49"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/18"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-50"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/19"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-51"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"msie 6"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"opera"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-52"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"msie 7"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-53"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"msie 8"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-54"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"msie 9"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-55"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"msie 10"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-56"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"chrome"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-57"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"ipad"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-58"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"iphone"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-59"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"android"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-60"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"opera/9.5"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-61"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"opera/9.6"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-62"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"version/3.1 safari"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-63"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"version/4.0 safari"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-64"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"version/4.1 safari"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-65"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"version/5.1 safari"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-66"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">"/version\/3\.1\.([0-9]{1,}\s)safari/"</span><span class="crayon-sy">,</span><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-67"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">"/version\/4\.0\.([0-9]{1,}\s)safari/"</span><span class="crayon-sy">,</span><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-68"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">"/version\/4\.1\.([0-9]{1,}\s)safari/"</span><span class="crayon-sy">,</span><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-69"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">"/version\/5\.0\.([0-9]{1,}\s)safari/"</span><span class="crayon-sy">,</span><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-70"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">"/version\/5\.1\.([0-9]{1,}\s)safari/"</span><span class="crayon-sy">,</span><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-71">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-72"><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-73">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-74"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-75"><span class="crayon-c"># nuova redirect 29/10/2012 #</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-76"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">get_view_old_whitelist</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-77"><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"-------"</span><span class="crayon-sy">.</span><span class="crayon-e">strtolower</span><span class="crayon-sy">(</span><span class="crayon-v">$_SERVER</span><span class="crayon-sy">[</span><span class="crayon-s">"HTTP_USER_AGENT"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-78"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"firefox/0."</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-79"><span class="crayon-c">//if(strpos($agent,"firefox/1.")) return true;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-80"><span class="crayon-c">//if(strpos($agent,"msie 4")) return true;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-81"><span class="crayon-c">//if(strpos($agent,"msie 5")) return true;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-82"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">"/blackberry([0-9]{4,})\/4/"</span><span class="crayon-sy">,</span><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-83"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">"/blackberry([0-9]{4,})\/5/"</span><span class="crayon-sy">,</span><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-84"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"dolfin/1"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-85"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"jasmine/0"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-86"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"jasmine/1"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-87"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"k-meleon/1"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-88"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"midori/0"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-89"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"navigator/8"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-90"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"navigator/9"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-91"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"ning/1"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-92"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"nokia300/5"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-93"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"nokia302/5"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-94"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"nokia3710fold/5"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-95"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"nokia7230/5"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-96"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"opera mini/4"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-97"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"opera mini/5"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-98"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"opera mini/6"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-99"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"opera mini/7"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-100"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">"/symbianos\/9.*series60/"</span><span class="crayon-sy">,</span><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-101"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"skyfire/2"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-102">&nbsp;</div><div class="crayon-line" id="crayon-5966543aab00e510371430-103"><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-104">&nbsp;</div><div class="crayon-line" id="crayon-5966543aab00e510371430-105"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-106">&nbsp;</div><div class="crayon-line" id="crayon-5966543aab00e510371430-107"><span class="crayon-c"># nuova redirect 25/03/2013 #</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-108"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">get_view_mailmobile_whitelist</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-109"><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"-------"</span><span class="crayon-sy">.</span><span class="crayon-e">strtolower</span><span class="crayon-sy">(</span><span class="crayon-v">$_SERVER</span><span class="crayon-sy">[</span><span class="crayon-s">"HTTP_USER_AGENT"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-110"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"blackberry"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-111"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"dolfin"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-112"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"nokia300"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-113"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"nokia302"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-114"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"nokia3710"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-115"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"nokia7230"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-116"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"opera mini"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-117"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"symbianos"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-118"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"skyfire"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-119"><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-120"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-121"><span class="crayon-c">#la parte sopra è da copiare da index di HP</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-122"><span class="crayon-e">setcookie</span><span class="crayon-sy">(</span><span class="crayon-s">"RDR"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"libero.it"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-123"><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">'Location: '</span><span class="crayon-sy">.</span><span class="crayon-v">$url</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-124"><span class="crayon-k ">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-125"><span class="crayon-o">/</span><span class="crayon-o">*</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-126"><span class="crayon-c">#codice precedente</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-127">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-128"><span class="crayon-sy">@</span><span class="crayon-k ">include</span><span class="crayon-sy">(</span><span class="crayon-s">"/usr/local/apache/portale/rollback_sso.php"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-129"><span class="crayon-sy">@</span><span class="crayon-k ">include</span><span class="crayon-sy">(</span><span class="crayon-s">"/usr/local/apache/portale/class/ck_name.lib"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// funziona solo sui FE di portale dove c'è la lib mcrypt</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-130"><span class="crayon-v">$values</span><span class="crayon-o">=</span><span class="crayon-t">array</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-131"><span class="crayon-v">$is_rem_exist</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-k ">isset</span><span class="crayon-sy">(</span><span class="crayon-v">$_COOKIE</span><span class="crayon-sy">[</span><span class="crayon-s">"LIB_RM_CK"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-132"><span class="crayon-v">$edata</span><span class="crayon-o">=</span><span class="crayon-v">$_COOKIE</span><span class="crayon-sy">[</span><span class="crayon-s">"LIB_NAME_CK"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-133"><span class="crayon-v">$ret_code_de_name_ck</span><span class="crayon-o">=</span><span class="crayon-e">de_name_ck</span><span class="crayon-sy">(</span><span class="crayon-v">$edata</span><span class="crayon-sy">,</span><span class="crayon-v">$is_rem_exist</span><span class="crayon-sy">,</span><span class="crayon-o">&amp;</span><span class="crayon-v">$values</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-134">&nbsp;</div><div class="crayon-line" id="crayon-5966543aab00e510371430-135"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-s">"http://liberomail.libero.it/"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-136"><span class="crayon-v">$url_sso</span><span class="crayon-o">=</span><span class="crayon-s">"https://login.libero.it?"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-137">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-138"><span class="crayon-v">$CK_WMAIL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">$_COOKIE</span><span class="crayon-sy">[</span><span class="crayon-s">"WMAIL"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-139"><span class="crayon-v">$CK_WPOPSERVER</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">$_COOKIE</span><span class="crayon-sy">[</span><span class="crayon-s">"WPOP-SERVER"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-140"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">$rollback_sso</span><span class="crayon-o">===</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-141"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-s">"http://liberomail.libero.it/"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-142"><span class="crayon-sy">@</span><span class="crayon-k ">include</span><span class="crayon-sy">(</span><span class="crayon-s">"login_mail.html"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-143"><span class="crayon-k ">exit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-144"><span class="crayon-sy">}</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-145">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-146"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">$CK_WMAIL</span><span class="crayon-o">==</span><span class="crayon-s">"old"</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">//stato temporaneo</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-147"><span class="crayon-v">$agent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"-------"</span><span class="crayon-sy">.</span><span class="crayon-e">strtolower</span><span class="crayon-sy">(</span><span class="crayon-v">$_SERVER</span><span class="crayon-sy">[</span><span class="crayon-s">"HTTP_USER_AGENT"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-148"><span class="crayon-c"># if(strpos($agent,"firefox/3")){</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-149"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">strpos</span><span class="crayon-sy">(</span><span class="crayon-v">$agent</span><span class="crayon-sy">,</span><span class="crayon-s">"opera"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-150"><span class="crayon-v">$CK_WMAIL</span><span class="crayon-o">=</span><span class="crayon-s">"kold"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-151"><span class="crayon-v">$TPhp_time</span><span class="crayon-o">=</span><span class="crayon-e">mktime</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">date</span><span class="crayon-sy">(</span><span class="crayon-s">"m"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">date</span><span class="crayon-sy">(</span><span class="crayon-s">"d"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">date</span><span class="crayon-sy">(</span><span class="crayon-s">"Y"</span><span class="crayon-sy">)</span><span class="crayon-o">+</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-152"><span class="crayon-e">setcookie</span><span class="crayon-sy">(</span><span class="crayon-s">"WMAIL"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">$CK_WMAIL</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">$TPhp_time</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">".libero.it"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-153"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-154"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-155">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-156"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">$CK_WMAIL</span><span class="crayon-o">==</span><span class="crayon-s">'old'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">$CK_WMAIL</span><span class="crayon-o">==</span><span class="crayon-s">"oldv"</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">//stato old</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-157"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">$ret_code_de_name_ck</span><span class="crayon-o">===</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-sy">(</span><span class="crayon-v">$CK_WPOPSERVER</span><span class="crayon-o">!=</span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">//stato OLD LOGGED and CK_WPOP-SERVER-&gt; redirect su http://${WPOP-SERVER}/email.php</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-158"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"http://"</span><span class="crayon-sy">.</span><span class="crayon-v">$CK_WPOPSERVER</span><span class="crayon-sy">.</span><span class="crayon-s">"/email.php?rndPrx="</span><span class="crayon-sy">.</span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-159"><span class="crayon-e">setcookie</span><span class="crayon-sy">(</span><span class="crayon-s">"WPOP-SERVER"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">time</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">3600</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">".libero.it"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-160"><span class="crayon-sy">}</span><span class="crayon-st">else</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">//stato OLD no-LOGGED -&gt; redirect su sso</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-161"><span class="crayon-v">$r2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">abs</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-e">floor</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">625</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-162"><span class="crayon-v">$r</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">$r2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-cn">7</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">$r</span><span class="crayon-o">&lt;</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">$r</span><span class="crayon-o">=</span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-cn">6</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-163"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-s">'http://wpop'</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">$r</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-s">'.libero.it/email.php'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-164"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-165"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-v">$url_sso</span><span class="crayon-sy">.</span><span class="crayon-s">"service_id=old_email&amp;ret_url="</span><span class="crayon-sy">.</span><span class="crayon-v">$url</span><span class="crayon-sy">.</span><span class="crayon-s">"&amp;rndPrx="</span><span class="crayon-sy">.</span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-166"><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">'Location: '</span><span class="crayon-sy">.</span><span class="crayon-v">$url</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-167"><span class="crayon-k ">exit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-168"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">//stato smart</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-169"><span class="crayon-v">$hostname</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"mailbeta.libero.it"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-170"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-s">"http://"</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">$hostname</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-s">"/cp/WindMailPS.jsp?rndPrx="</span><span class="crayon-sy">.</span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//stato BETA LOGGED -&gt; redirect su mailbeta</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-171"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-v">$url_sso</span><span class="crayon-sy">.</span><span class="crayon-s">"service_id=beta_email&amp;ret_url="</span><span class="crayon-sy">.</span><span class="crayon-v">$url</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-172"><span class="crayon-o">/</span><span class="crayon-o">*</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-173"><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">'Location: '</span><span class="crayon-sy">.</span><span class="crayon-v">$url</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-174"><span class="crayon-k ">exit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-175"><span class="crayon-sy">}</span><span class="crayon-st">else</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">//stato new - default</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-176"><span class="crayon-v">$hostname</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"wmail-nc.libero.it"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//a differenza del js non possiamo sapere se al momento i cookie sono abilitati, quindi lo mandiamo sempre ai non cookie</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-177"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-s">"http://"</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">$hostname</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-s">"/cp/WindMailPS.jsp?rndPrx="</span><span class="crayon-sy">.</span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//stato NEW LOGGED -&gt; redirect su webmail</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-178"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">$ret_code_de_name_ck</span><span class="crayon-o">!==</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-c">//stato NEW no-LOGGED -&gt; redirect su sso</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-179"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-180"><span class="crayon-v">$url</span><span class="crayon-o">=</span><span class="crayon-v">$url_sso</span><span class="crayon-sy">.</span><span class="crayon-s">"service_id=email&amp;ret_url="</span><span class="crayon-sy">.</span><span class="crayon-v">$url</span><span class="crayon-sy">.</span><span class="crayon-s">"&amp;rndPrx="</span><span class="crayon-sy">.</span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-181"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-182"><span class="crayon-ta">?&gt;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-183"><span class="crayon-ta">&lt;script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-184"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">url_sso</span><span class="crayon-o">=</span><span class="crayon-s">"https://login.libero.it?"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-185">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-186"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">getCookie</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-187"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">start</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-v">cookie</span><span class="crayon-sy">.</span><span class="crayon-e">indexOf</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"="</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-188"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">len</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">start</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-189"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">start</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">name</span><span class="crayon-o">!=</span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-v">cookie</span><span class="crayon-sy">.</span><span class="crayon-e">substring</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">name</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-190"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">start</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-191"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-v">cookie</span><span class="crayon-sy">.</span><span class="crayon-e">indexOf</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">';'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">len</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-192"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-v">cookie</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-193"><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-r">unescape</span><span class="crayon-sy">(</span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-v">cookie</span><span class="crayon-sy">.</span><span class="crayon-e">substring</span><span class="crayon-sy">(</span><span class="crayon-v">len</span><span class="crayon-sy">,</span><span class="crayon-st">end</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-194"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-195"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">cookies_enabled</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-196"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">cookie_name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'nwmlb'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-197"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">cookie_val</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">random</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-198"><span class="crayon-e">SetEvalCookie</span><span class="crayon-sy">(</span><span class="crayon-v">cookie_name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cookie_val</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-199"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">getCookie</span><span class="crayon-sy">(</span><span class="crayon-v">cookie_name</span><span class="crayon-sy">)</span><span class="crayon-o">==</span><span class="crayon-v">cookie_val</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-200"><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-201"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-202"><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-203"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-204"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-205"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">SetEvalCookie</span><span class="crayon-sy">(</span><span class="crayon-r">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-206"><span class="crayon-v">evalcookie</span><span class="crayon-o">=</span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"="</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-207"><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-v">cookie</span><span class="crayon-o">=</span><span class="crayon-v">evalcookie</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-208"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-209"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">cookies_enabled</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-210"><span class="crayon-c">// url="http://wmail-new.libero.it/cp/WindMailPS.jsp?rndPrx="+Math.random(); //stato NEW LOGGED -&gt; redirect su webmail</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-211"><span class="crayon-c">// url=url_sso+"service_id=email&amp;ret_url="+encodeURIComponent(url);</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-212"><span class="crayon-e ">url</span><span class="crayon-o">=</span><span class="crayon-s">"http://mailbeta.libero.it/cp/WindMailPS.jsp?rndPrx="</span><span class="crayon-o">+</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">random</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//stato NEW LOGGED -&gt; redirect su webmail</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-213"><span class="crayon-v">url</span><span class="crayon-o">=</span><span class="crayon-v">url_sso</span><span class="crayon-o">+</span><span class="crayon-s">"service_id=beta_email&amp;ret_url="</span><span class="crayon-o">+</span><span class="crayon-e">encodeURIComponent</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-214"><span class="crayon-sy">}</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-215"><span class="crayon-e ">url</span><span class="crayon-o">=</span><span class="crayon-s">"&lt;? echo $url; ?&gt;"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-216"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-217">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-218"><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-v">url</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-219">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-220"><span class="crayon-ta">&lt;/script&gt;</span><span class="crayon-ta">&lt;?</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-221"><span class="crayon-k ">exit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-222"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5966543aab00e510371430-223"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-224">&nbsp;</div><div class="crayon-line" id="crayon-5966543aab00e510371430-225"><span class="crayon-o">*</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5966543aab00e510371430-226"><span class="crayon-ta">?&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0175 seconds] -->
<p>&nbsp;</p>
<p>&nbsp;</p>
<!-- AddThis Sharing Buttons below -->
                <div class="addthis_toolbox addthis_default_style addthis_32x32_style" addthis:url='http://www.innovatiweb.com/2015/12/23/libero-mail/' addthis:title='Libero Mail: che disastro!' >
                    <a class="addthis_button_preferred_1"></a>
                    <a class="addthis_button_preferred_2"></a>
                    <a class="addthis_button_preferred_3"></a>
                    <a class="addthis_button_preferred_4"></a>
                    <a class="addthis_button_compact"></a>
                    <a class="addthis_counter addthis_bubble_style"></a>
                </div>	</div>
</article><nav class="post-nav-wrap" role="navigation">
<ul class="post-nav clearfix">
<li class="post-nav-prev">
<a href="http://www.innovatiweb.com/2015/12/03/wikivideo-videocorsi-gratuiti/" rel="prev"><i class="fa fa-chevron-left"></i>Previous post</a></li>
<li class="post-nav-next">
<a href="http://www.innovatiweb.com/2016/01/14/open-data/" rel="next">Next post<i class="fa fa-chevron-right"></i></a></li>
</ul>
</nav>

<div id="disqus_thread">
    </div>

	</div>
	<aside class="mh-sidebar">
<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Innovatiweb_Reactive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7111497884060253"
     data-ad-slot="1218350284"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<br>
	<div id="search-2" class="sb-widget clearfix widget_search"><form role="search" method="get" class="search-form" action="http://www.innovatiweb.com/">
				<label>
					<span class="screen-reader-text">Ricerca per:</span>
					<input type="search" class="search-field" placeholder="Cerca &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Cerca" />
			</form></div><div id="categories-2" class="sb-widget clearfix widget_categories"><h4 class="widget-title"><span>Categorie</span></h4>		<ul>
	<li class="cat-item cat-item-1"><a href="http://www.innovatiweb.com/category/home/" >Home</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://www.innovatiweb.com/category/ict/" >ICT</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://www.innovatiweb.com/category/news/" >News</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.innovatiweb.com/category/seo/" >SEO</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://www.innovatiweb.com/category/web/" >Web</a>
</li>
		</ul>
</div>		<div id="recent-posts-2" class="sb-widget clearfix widget_recent_entries">		<h4 class="widget-title"><span>Articoli recenti</span></h4>		<ul>
					<li>
				<a href="http://www.innovatiweb.com/2017/02/27/hosting-quasi-gratuito/">Hosting (quasi) gratuito!</a>
						</li>
					<li>
				<a href="http://www.innovatiweb.com/2016/01/26/git-fast-and-furious/">GIT &#8211; fast and furious!</a>
						</li>
					<li>
				<a href="http://www.innovatiweb.com/2016/01/14/open-data/">Open Data</a>
						</li>
					<li>
				<a href="http://www.innovatiweb.com/2015/12/23/libero-mail/">Libero Mail: che disastro!</a>
						</li>
					<li>
				<a href="http://www.innovatiweb.com/2015/12/03/wikivideo-videocorsi-gratuiti/">WikiVideo: videocorsi gratuiti</a>
						</li>
				</ul>
		</div>		<div id="archives-2" class="sb-widget clearfix widget_archive"><h4 class="widget-title"><span>Archivi</span></h4>		<ul>
			<li><a href='http://www.innovatiweb.com/2017/02/'>febbraio 2017</a></li>
	<li><a href='http://www.innovatiweb.com/2016/01/'>gennaio 2016</a></li>
	<li><a href='http://www.innovatiweb.com/2015/12/'>dicembre 2015</a></li>
		</ul>
		</div><div id="meta-2" class="sb-widget clearfix widget_meta"><h4 class="widget-title"><span>Meta</span></h4>			<ul>
						<li><a rel="nofollow" href="http://www.innovatiweb.com/wp-login.php">Accedi</a></li>
			<li><a href="http://www.innovatiweb.com/feed/"><abbr title="Really Simple Syndication">RSS</abbr> degli articoli</a></li>
			<li><a href="http://www.innovatiweb.com/comments/feed/"><abbr title="Really Simple Syndication">RSS</abbr> dei commenti</a></li>
			<li><a href="https://it.wordpress.org/" title="Powered by WordPress, allo stato dell’arte una piattaforma di editoria personale semantica-">WordPress.org</a></li>			</ul>
			</div></aside>
</div>
</div>
<footer class="mh-footer">
	<div class="wrapper-inner">
		<p class="copyright">Copyright 2017 | Innovatiweb P.I.06553930964 - hosted by <a href="http://www.hostgator.com/">HostGator</a></p>
	</div>
</footer>
<script data-cfasync="false" type="text/javascript">
var addthis_config = {"data_track_clickback":true,"ui_atversion":300,"ignore_server_config":true};
var addthis_share = {};
</script>
                <!-- AddThis Settings Begin -->
                <script data-cfasync="false" type="text/javascript">
                    var addthis_product = "wpp-5.3.4";
                    var wp_product_version = "wpp-5.3.4";
                    var wp_blog_version = "4.7.5";
                    var addthis_plugin_info = {"info_status":"enabled","cms_name":"WordPress","plugin_name":"Share Buttons by AddThis","plugin_version":"5.3.4","anonymous_profile_id":"wp-d2e6e9541f15ecbe12679ede9b9418de","plugin_mode":"WordPress","select_prefs":{"addthis_per_post_enabled":true,"addthis_above_enabled":false,"addthis_below_enabled":true,"addthis_sidebar_enabled":true,"addthis_mobile_toolbar_enabled":true,"addthis_above_showon_home":true,"addthis_above_showon_posts":true,"addthis_above_showon_pages":true,"addthis_above_showon_archives":true,"addthis_above_showon_categories":true,"addthis_above_showon_excerpts":true,"addthis_below_showon_home":true,"addthis_below_showon_posts":true,"addthis_below_showon_pages":true,"addthis_below_showon_archives":true,"addthis_below_showon_categories":true,"addthis_below_showon_excerpts":true,"addthis_sidebar_showon_home":true,"addthis_sidebar_showon_posts":true,"addthis_sidebar_showon_pages":true,"addthis_sidebar_showon_archives":true,"addthis_sidebar_showon_categories":true,"addthis_mobile_toolbar_showon_home":true,"addthis_mobile_toolbar_showon_posts":true,"addthis_mobile_toolbar_showon_pages":true,"addthis_mobile_toolbar_showon_archives":true,"addthis_mobile_toolbar_showon_categories":true,"sharing_enabled_on_post_via_metabox":true},"page_info":{"template":"posts","post_type":""}};
                    if (typeof(addthis_config) == "undefined") {
                        var addthis_config = {"data_track_clickback":true,"ui_atversion":300,"ignore_server_config":true};
                    }
                    if (typeof(addthis_share) == "undefined") {
                        var addthis_share = {};
                    }
                    if (typeof(addthis_layers) == "undefined") {
                        var addthis_layers = {"share":{"theme":"transparent","position":"left","numPreferredServices":5,"mobile":false},"sharedock":{"counts":true,"position":"bottom","numPreferredServices":5}};
                    }
                </script>
                <script
                    data-cfasync="false"
                    type="text/javascript"
                    src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5678f95b0646bee2 "
                    async="async"
                >
                </script>
                <script data-cfasync="false" type="text/javascript">
                    (function() {
                        var at_interval = setInterval(function () {
                            if(window.addthis) {
                                clearInterval(at_interval);
                                addthis.layers(addthis_layers);
                            }
                        },1000)
                    }());
                </script>
                <link rel='stylesheet' id='addthis_output-css'  href='http://www.innovatiweb.com/wp-content/plugins/addthis/css/output.css?ver=4.7.5' type='text/css' media='all' />
<script type='text/javascript' src='http://www.innovatiweb.com/wp-includes/js/comment-reply.min.js?ver=4.7.5'></script>
<script type='text/javascript' src='http://www.innovatiweb.com/wp-includes/js/wp-embed.min.js?ver=4.7.5'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"platform":"wordpress@4.7.5","language":""},"disqusIdentifier":"138 http:\/\/www.innovatiweb.com\/?p=138","disqusShortname":"innovatiweb","disqusTitle":"Libero Mail: che disastro!","disqusUrl":"http:\/\/www.innovatiweb.com\/2015\/12\/23\/libero-mail\/","options":{"manualSync":false},"postId":"138"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.innovatiweb.com/wp-content/plugins/disqus-comment-system/media/js/disqus.js?ver=4.7.5'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"innovatiweb"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.innovatiweb.com/wp-content/plugins/disqus-comment-system/media/js/count.js?ver=4.7.5'></script>
<!--wp_footer--></body>
</html>