

<!DOCTYPE html PUBLIC>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" >

<meta http-equiv='Cache-Control' content='no-store'>
<meta http-equiv="expires" content=0>
<meta http-equiv="pragma" content="no-cache">

  <meta name="description" content="Crea un account Libero mail e accedi a tutti i servizi del portale! Scegli quello che fa per te.">
  <meta name="Keywords" content="registrazione, portale Libero, posta elettronica, community, chat, blog, forum, cupido, dating, pagine personali">

<!-- new -->
<meta http-equiv="X-UA-Compatible" content="IE=edge" >
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href='https://fonts.googleapis.com/css?family=Roboto:400,700,500' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>

<link type="text/css" href="/site_css/libero/stili.css" rel="stylesheet" />
<link type="text/css" href="/site_css/libero/stili_640.css" rel="stylesheet" />
<link type="text/css" href="/site_css/libero/stili_320.css" rel="stylesheet" />
<link type="text/css" href="/site_css/libero/stili_footer.css" rel="stylesheet" />
<!-- end new -->

<script type='text/javascript' src='https://ssl-i.plug.it/common/tech_includes/lib/policy_cookie.js'></script>

<style>
	#footer-corporate {background-color:#404040;color:#999;text-align:center;padding:33px 0;font-family:"Arial";}#footer-corporate a {text-decoration:none;color:#FFF;-webkit-transition: color 200ms ease-out;transition: color 200ms ease-out;}#footer-corporate a:hover {color:#999;}#footer-corporate .logo {display:block;margin:0 auto;}#footer-corporate .logo img,#footer-corporate .logo svg {width:130px;height:24px;border:0;}#footer-corporate .svg-a{fill:#FFF;}#footer-corporate .svg-b{fill:#FDCD0D;}#footer-corporate .svg-c{fill:#EC185E;}#footer-corporate .svg-d{fill:#9ACA3C;}#footer-corporate .svg-e{fill:#FFF2DF;}#footer-corporate .svg-f{fill:#2D1551;}#footer-corporate .svg-g{fill:#FD0;}#footer-corporate .svg-h{fill:#26C2F2;}#footer-corporate h6 {margin:0;padding:10px 0 0;font-family:"Arial";font-size:11px;}#footer-corporate ul {padding:13px 0 0;margin:0;list-style:none;font-size:0;}#footer-corporate li {display:inline-block;font-size:12px;padding:5px 10px;margin:0;font-weight:700;}#footer-corporate ul + ul li {padding:5px;}#footer-corporate ul + ul a {color:#999;}#footer-corporate ul + ul a:hover {color:#FFF;}#footer-corporate p {color:#999;font-size:11px;margin-bottom:0;padding:11px 0 0;}
</style>

<script type='text/javascript'>
	if( window.IOL && window.IOL.EVNT && window.IOL.EVNT.evMngrCls) {
			//console.log("iolevent already loaded in page");
			window.IOL = window.IOL || {};
      window.IOL.evMngr = window.IOL.evMngr || new window.IOL.EVNT.evMngrCls();
      window.IOL.footer_clk_params = window.IOL.footer_clk_params || {
              "domain": window.location.hostname,
              "footer_ver": "1",
              "area": "footer"

      };
	}
	else {
			(function() {
			  var iolevent = document.createElement('script');
			  iolevent.async = true;
			  iolevent.type = 'text/javascript';
			  var useSSL = 'https:' == document.location.protocol;
			  iolevent.src = (useSSL ? 'https://ssl-i.plug.it' : 'http://i.plug.it') + '/iplug/js/lib/iol/evnt/iol_evnt.min.js';
			  var node = document.getElementsByTagName('script')[0];
			  var done = false;
			  iolevent.onload = iolevent.onreadystatechange = function(){
			      if ( !done && (!this.readyState ||
			      this.readyState == "loaded" || this.readyState == "complete") ) {
			              done = true;
			
			              window.IOL = window.IOL || {};
			              window.IOL.evMngr = window.IOL.evMngr || new window.IOL.EVNT.evMngrCls();
			              window.IOL.footer_clk_params = window.IOL.footer_clk_params || {
			                      "domain": window.location.hostname,
			                      "footer_ver": "1",
			                      "area": "footer"
			
			              };
			              iolevent.onload = iolevent.onreadystatechange = null;
			      }
			  };
			
			  node.parentNode.insertBefore(iolevent, node);
			})();
		}
</script>
<script language="JavaScript" type="text/javascript" src="/js/util_v2.js"></script>

   <script language="JavaScript" type="text/javascript" src="/site_js/dbfields_controlli.js"></script>
   <link rel="shortcut icon" href="/favicon.ico">

 <script language="JavaScript" type="text/javascript" src="/js/cntrlPwd.js"></script>

<title>Registra Libero Mail</title>

<script>
<!--
function entsub(myform)
{
   if (window.event && window.event.keyCode == 13)
       myform.submit();
   else
       return true;
}

if (self != top)
{
   if (window.location.href.replace)
      top.location.replace(self.location.href);
   else
      top.location.href=self.document.href;
}

-->
</script>

</head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

<!-- <script type='text/javascript' src='https://ssl-i.plug.it/common/tech_includes/lib/policy_cookie.js'></script> -->

<body onclick="hide_all_infobox(); $('#generic_error').html('');" onload="givefocus()">



<div class="clear"></div>

<a id=focustart></a>

<!-- INIZIO CONTENT -->
<div class="wrapper">

<div class="top">


 <div class="logo_vmailplus display_no"></div>

 <div class="logo_vmail display"></div>


<h1>Registrazione</h1>

  <div class="clear display"></div>
  <div class="filobott display"></div>
</div>


<div class="punto_el"><div class="img_01"></div> </div>


<form id=userdata name=userdata method="post" action="check.php" onsubmit="$('#button_submit').prop('disabled','true'); $('#button_submit').css('cursor','wait'); $('body').css('cursor','wait'); return true">

<div class="form">

<div class="tit_01">Dati personali</div>
<div class="txt">Scegli la tua e-mail e la tua password. Ti suggeriamo di leggere i nostri <a href="http://aiuto.libero.it/articolo/mail/sicurezza-della-password/" target=_blank>consigli di sicurezza</a>.</div>

<!-- INIZIO NOME -->
<div class="txt_label"><label for="firstname">Nome</label></div>
<div class="row">

<input id=firstname name=FIRSTNAME type="text" maxlength="20" value=""
       class="input" tabindex=1>

 
<!-- INIZIO BALOOON ERROR -->
<div id=firstname_error class="baloon_error display_no">
<div class="freccia_baloon_error"></div>
<div id=firstname_error_txt class="txt_baloon_error">
</div>
</div>
<!-- FINE BALOOON ERROR -->
</div>

<script>

$('#firstname').on(
        {
           focus: function()
           {
              if ( firstfield_witherror ) firstfield_witherror=false; else $('#firstname_error').hide()
           },
           click: function()
           {
              $('#firstname_error').hide()
           },
           blur: function()
           {
              if ( check_input( this, $('#firstname_error'), ControlloNome_js, true) ) add_array(this.value, ar_not_pwd['NOME'])
           }
        });
</script>

<!-- FINE NOME -->


<!-- INIZIO COGNOME -->

<div class="txt_label"><label for="lastname">Cognome</label></div>

<div class="row">  <!-- START ROW -->

<input id="lastname" name="LASTNAME" type="text" maxlength="20" value=""
       class="input" tabindex=2>


<!-- INIZIO BALOOON ERROR -->
<div id=lastname_error class="baloon_error display_no">
<div class="freccia_baloon_error"></div>
<div id=lastname_error_txt class="txt_baloon_error">
</div>
</div>
<!-- FINE BALOOON ERROR -->

</div>  <!-- END ROW -->

<script>
$('#lastname').on(
        {
           focus: function()
           {
              if ( firstfield_witherror ) firstfield_witherror=false; else $('#lastname_error').hide()
           },
           click: function()
           {
              $('#lastname_error').hide()
           },
           blur: function()
           {
              /*
              $(this).removeClass ('input_error');
              $(this).addClass ('input');
              */
              if ( check_input( this, $('#lastname_error'), ControlloCognome_js, true) ) add_array(this.value, ar_not_pwd['COGNOME'])
           }
        });
</script>

<!-- FINE COGNOME -->


<!-- INIZIO EMAIL -->


<!-- INIZIO EMAIL -->
<div class="txt_label"><label for="username">Email</label></div>

<div class="row">  <!-- START ROW -->

  <input id="username" name="USERNAME" type="text" maxlength="20" value=""
         class="input" tabindex=3>

  <div class="dominio">@libero.it</div>

  <div class="ext_ico_question marg6left">
  <div class="ico_question">
   <a href=# onclick="if (!zz) zz=$('#username_infotxt').is(':visible'); event.cancelBubble=true; hide_all_infobox(); if (!zz) { $('#username_infotxt').show(); $('#username_error').hide() } zz=''; return false"></a>
  </div>
  </div>


  <!-- INIZIO BALOOON ERROR -->
  <div id=username_error class="baloon_error display_no">
   <div class="freccia_baloon_error"></div>
   <div id=username_error_txt class="txt_baloon_error">
   </div>
  </div>
  <!-- FINE BALOOON ERROR -->

  <!-- INIZIO BALOOON QUESTION -->
  <div id=username_infotxt class="baloon_question display_no">
    <div class="freccia_baloon_question"></div>
    <div class="txt_baloon_question">Usa fino a 20 caratteri. Puoi usare: numeri (0..9), lettere minuscole (a..z), punto (tranne all'inizio ed alla fine dello username), trattino e underscore&nbsp;(.-_).</div>
  </div>
  <!-- FINE BALOOON QUESTION -->


<input id=turnintovanity_bythis_account type=hidden name=TURNINTOVANITY_BYTHIS_ACCOUNT>

<!-- <div id=username_sugg style="border:1px solid red"> -->


    <div id=suggestion class="sugg_mail display_no">

    <ul>

    <li><div class="tit_sugg">ti suggeriamo:</div><div class="close_sugg"><a href="#" onclick="$('#suggestion').hide(); return false;"></a></div></li>

    <div id=suggestion_list>
     </div>
     </ul>

  </div>

 </div>  <!-- END ROW -->

    <div id=suggestion_vanity class="box_vanity display_no">
    <div class="img_box_vanity"></div>
    <div class="filo_bot"></div>

      <div id=suggestion_vanity_list>
       </div>

      <div class="compra"><a href="http://vanitymail.libero.it" target=_blank title="SCOPRI IL SERVIZIO">Scopri il servizio</a> Lo compri una volta ed &egrave; tuo per sempre</div>
    </div>

 <!-- </div> -->

<script type="text/javascript">
var zz = '';

  $('#username').on (
      {
         focus: function()
         {
            $('#suggestion').hide(); $('#suggestion_vanity').hide();
            if ( ajaxcall_username==1 ) return; hide_all_infobox();
            if ( firstfield_witherror ) firstfield_witherror=false; else {$('#username_error').hide(); $('#username_infotxt').show();}
         },
         click: function()
         {
            /*if ( ajaxcall_username == 1 ) return;*/ event.cancelBubble=true; $('#username_error').hide(); $('#username_infotxt').show()
         },
         keydown: function()
         {
            /* if ( ajaxcall_username == 1 ) return; $('#username_error').hide(); hide_all_infobox(); $('#username_infotxt').show()*/
            $('#captcha_box').show();
         },
         blur: function()
         {
            zz = $('#username_infotxt').is(':visible'); $('#username_infotxt').hide(); if ( ajaxcall_username==1 ) return false; $('#suggestion').hide(); $('#suggestion_vanity').hide(); action_check_username(this)
         }

      });

var username_obj = d.getElementById('username');
var username_error_obj = d.getElementById('username_error');
var username_sugg_obj = d.getElementById('username_sugg');
var username_infotxt_obj = document.getElementById('username_infotxt');
var turnintovanity_bythis_account = document.getElementById('turnintovanity_bythis_account');
var suggestion_obj = d.getElementById('suggestion');
var suggestion_list_obj = d.getElementById('suggestion_list');
var suggestion_vanity_obj = d.getElementById('suggestion_vanity');
var suggestion_vanity_list_obj = d.getElementById('suggestion_vanity_list');

// var username_err_baloon = $('#username_error').find('.txt_baloon_error');

function check_username ( result, responseText )
{
  $('#username').addClass('input');
  $('#username').removeClass('input_error');
  $('#username_error').hide();

  if ( ajaxcall_username != 1 )
     return false;

  ajaxcall_username = 0;

  /*
    Il risulato OK puo' venire quando lo script ha terminato regolarmente ed ha messo
    il risultato in responseText oppure nel caso sia stato superato il tempo max di
    esecuzione dello script (max_execution_time) ed in questo caso responseText
    contiene la stringa "Fatal error: Max execution time of x seconds exceeded in...."
  */
  if ( result == 'OK' )
  {
     /*
      responseText.substring(0,3) puo' essere diverso da "var" anche nel caso 
      che lo script abbia superato il max_execution_time
     */ 
     // alert ('responseText: ' + responseText );
     responseText = responseText.trim();

     if ( responseText.substring(0,3) != 'var' )
     {
        return false;
     }
     responseText = responseText.replace(new RegExp('\n', 'gi'),'');
     eval ( responseText );

     // alert ('responseText:' + responseText);
					
     if ( ! empty ( result_arr ) )
     {
        if ( ! empty ( result_arr.checked_username ) )
           $('#username').val(result_arr.checked_username);
           // username_obj.value = result_arr.checked_username;
   
        if ( result_arr.r == 'ok' )
        {
            // add_array(username_obj.value, ar_not_pwd['EMAIL']);
            add_array($('#username').val(), ar_not_pwd['EMAIL']);
        }
        else
        {
           /*
           username_error_obj.innerHTML = '<span></span>' + result_arr.m;
           username_error_obj.style.display = 'block';
           username_obj.className = 'input_error';
           */
           $('#username').removeClass('input');
           $('#username').addClass('input_error');
           $(username_error_txt).html(result_arr.m);
           // alert ('message: ' + result_arr.m);
           // err_baloon.html(result_arr.m);
           $('#username_error').show();

           var track_error = '';

           if ( result_arr.r == 'exist' )
           {
             /*
             if ( ! empty ( result_arr.sugg ) || ! empty ( result_arr.vanity_sugg ) )
                username_sugg_obj.style.display = 'block';
              TEST: if ( username_obj.value=='lucetta' ) result_arr.sugg = null;
             */
             if ( ! empty ( result_arr.sugg ) )
             {
               suggestion_obj.style.display = 'block';
               
               suggestion_list_obj.innerHTML = '';
               
	       for (i = 0; i < result_arr.sugg.length; i++)
               {
                 suggestion_list_obj.innerHTML += '<li><a href="" onclick="set_username(\'' + result_arr.sugg[i] + '\'); add_array(\'' + result_arr.sugg[i] + '\', ar_not_pwd[\'EMAIL\'] ); return false">' + result_arr.sugg[i] + '</a></li>';
	       }
               // $('#username').blur();
	     }
             if ( ! empty ( result_arr.vanity_sugg ) )
             {
               /*
               if ( empty ( result_arr.sugg ) )
                 username_sugg_obj.style.height = '152px';
               */
               suggestion_vanity_obj.style.display = 'block';
               suggestion_vanity_list_obj.innerHTML = '';
               
	       for (i = 0; i < result_arr.vanity_sugg.length; i++)
               {
                 sugg_curr = result_arr.vanity_sugg[i].split('@', 2);

                 var userdomain_curr = sugg_curr[1];

                 var dom_items = userdomain_curr.split('.', 2);

                 var curr_color = dom_items[0];

                 suggestion_vanity_list_obj.innerHTML += 
                 '<div class=txt_account_vanity><div class=circle_' + curr_color + '></div> <div class=sp_acc>' + result_arr.vanity_sugg[i] + '</div></div> <a class=button_acquista_vanity href="" onclick="turnintovanity_bythis_account.value=\'' + result_arr.vanity_sugg[i] + '\'; $(\'#userdata\').submit(); return false" title=acquista>acquista</a><div class=filo_bot></div>' 

	       }
               // $('#username').blur();
	     }
           }
        }
     }
  }
  /* 
     KO puo' venire in caso di timeout della chiamata ajax (responseText=TIMEOUT, vedi ajax_call in util_v2.js)
     oppure in caso ajax.status e' diverso da 200 ( codice Apache )
  */
  else if ( responseText == 'TIMEOUT' )  // Timeout ajax
  {
     // username_error_obj.innerHTML = 'TIMEOUT';  
  }

  /*
  if ( timeout_username )
  {
    clearTimeout ( timeout_username);
    timeout_username = false;
  }
  */
}

var ajaxcall_username = 0;
/*
var timeout_username_time = 15000; /* 15 sec di timeout * /
var timeout_username = false;
*/

function action_check_username (myusername)
{
   if ( ajaxcall_username == 1 )
   {
      return false;
   }

   $(myusername).removeClass('input_error');
   $(myusername).addClass('input');
   $('#username_error').hide();

   // var username = username_obj.value.trim();
   // var username = $('#username').val().trim();
   // username = username.trim();
   // alert ('username: '  + username);
   var username = $(myusername).val().trim();

   if ( ! username )
   {
      $(myusername).removeClass('input');
      $(myusername).addClass('input_error');
      // ( $('#username_error').find('.txt_baloon_error') ).html('Campo obbligatorio');
      $(username_error_txt).html('Campo obbligatorio');
      $('#username_error').show();
      return false;
   }
   /*
   alert ( 'USERNAME_MIN_LEN: 2' );
   alert ( 'USERNAME_LEN: 20' );
   */
   if ( username.length < 2 )
   {
      $(myusername).removeClass('input');
      $(myusername).addClass('input_error');
      // ( $('#username_error').find('.txt_baloon_error') ).html('Il nome utente deve contenere almeno 2 caratteri' );
      $(username_error_txt).html('Il nome utente deve contenere almeno 2 caratteri');
      $('#username_error').show();
      return false;
   }

   if ( username.length > 20 )
   {
      $(myusername).removeClass('input');
      $(myusername).addClass('input_error');
      // ( $('#username_error').find('.txt_baloon_error') ).html('AIl nome utente non pu&ograve; contenere pi&ugrave; di 20 caratteri' );
      $(username_error_txt).html('Il nome utente non pu&ograve; contenere pi&ugrave; di 20 caratteri');
      $('#username_error').show();
      return false;
   }

   // username_error_obj.innerHTML = '<img src="/images/progressbar_long_blu.gif">';

   var ajax = assegnaXMLHttpRequest();

   /*
   var params = 'usr=' + escape(username);
   params += '&fname=' + escape($('#firstname').val().trim()); 
   params += '&lname=' + escape($('#lastname').val().trim()); 
   params += '&birth=' + $('#daybirth').val().trim() + '/' + $('#monthbirth').val().trim() + '/' + $('#yearbirth').val().trim(); 
   */
   var params = 'usr=' + username;
   params += '&fname=' + $('#firstname').val().trim(); 
   params += '&lname=' + $('#lastname').val().trim(); 
   params += '&birth=' + $('#daybirth').val().trim() + '/' + $('#monthbirth').val().trim() + '/' + $('#yearbirth').val().trim(); 
   params = encodeURI(params);
   ajaxcall_username = 1;

   /*
   if ( timeout_username )  clearTimeout ( timeout_username );

   timeout_username = setTimeout ( "timeout_username_action ()", timeout_username_time );
   */

   new_ajax_call (ajax, 'post', 'check_username.php', params, check_username); 

   return false;
}

function set_username(v)
{
   $('#username').removeClass('input_error');
   $('#username').addClass('input');
   $('#username').val(v);
   $('#username_error').hide();

   suggestion_obj.style.display = 'none';
   suggestion_vanity_obj.style.display = 'none';

   $('#captcha_box').show();
}

/*
function timeout_username_action ( )
{
   ajaxcall_username = 2;
   // username_error_obj.innerHTML = 'TIMEOUT';
   username_error_obj.innerHTML = '';
}
*/

</script>

<!-- FINE EMAIL -->

<!-- INIZIO PASSWORD -->

 
<!-- INIZIO PASSWORD -->

<div class="txt_label"><label for="password">Password</label></div>

<div class="row">

  <input id="password" name="PASSWORD" type="password" maxlength="20" value=""
         class="input" tabindex=4 >

  <div class="ext_ico_question marg6left">
   <div class="ico_question_pwd">
     <a href=# onclick="var zz=$('#password_infotxt').is(':visible'); event.cancelBubble=true; hide_all_infobox(); if (!zz) { $('#password_infotxt').show(); $('#password_error').hide() } return false"></a>
   </div>
  </div>

<script>
ar_err_mess[1] = "<span style='color:#FFA70F'>Poco Sicura</span>";
ar_err_mess[2] = "<span style='color:#1E90FF'>Buona</span>";
</script>

<div id="pwStrength" class="sic_pwd">

  Sicurezza password 
  <span id="pwd_voto" class="sic_pwd_txt"></span>
  <br><span id="pwd_mess"></span>

  <!-- <div id="pwStrengthBar"></div> -->

  <div class="progress_bar">
    <div id=pwdbar1 class="sic_neutra"></div> <div id=pwdbar2 class="sic_neutra"></div> <div id=pwdbar3 class="sic_neutra"></div> <div id=pwdbar4 class="sic_neutra"> </div> <div id=pwdbar5 class="sic_neutra"></div> <div id=pwdbar6 class="sic_neutra"></div> <div id=pwdbar7 class="sic_neutra"></div> <div id=pwdbar8 class="sic_neutra"></div>
  </div>

</div>


  <br><br>


  <!-- INIZIO BALOOON ERROR -->

  <div id=password_error class="baloon_error_pwd display_no">
   <div class="freccia_baloon_error_pwd"></div>
   <div id=password_error_txt class="txt_baloon_error_pwd">
 
   </div>
  </div>

  <!-- FINE BALOOON ERROR -->

  <!-- INIZIO BALOOON QUESTION -->

  <div class="baloon_question_pwd display_no" id=password_infotxt>
    <div class="freccia_baloon_question_pwd"></div>
    <div class="txt_baloon_question_pwd">Usa da 8 a 20 caratteri. Puoi usare: maiuscole (A..Z), minuscole (a..z), numeri (0..9) e i seguenti caratteri speciali (. @ + $ - _ !). Non inserire una sequenza dello stesso carattere. Non usare la tua email, il tuo nick, il tuo nome o cognome o le tue vecchie password</div>
  </div>

  <!-- FINE BALOOON QUESTION -->

</div>  <!-- FINE ROW -->

<script>
$('#password').on(
        {
           focus: function()
           {
              hide_all_infobox(); if ( firstfield_witherror ) firstfield_witherror=false; else {$('#password_error').hide(); $('#password_infotxt').show()}
           },
           click: function()
           {
              event.cancelBubble=true; $('#password_error').hide(); $('#password_infotxt').show()
           },
           keydown: function()
           {
              $('#confirmpassword').val(''); $('#confirmpassword').removeClass('input_error'); $('#confirmpassword').addClass('input'); $('#confirmpassword_error').hide()
           },
           keyup: function()
           {
              ControlPWD(this.value,concatArrrayNotPwd(), 'registrazione_' + 'libero'); if ( ! (this.value) && $('#confirm_expire').is(':visible') ) $('#confirm_expire').hide(); else if ( this.value && ! $('#confirm_expire').is(':visible') ) $('#confirm_expire').show();
           },
           mouseup: function()
           {
              ControlPWD(this.value,null, 'registrazione_' + 'libero')
           },
           blur: function()
           {
              $('#password_infotxt').hide(); check_password(this, $('#password_error'), ControlloPassword_js, true);
           }
        });
</script>


<script>
document.write ('<div id=confirm_expire style="display:none">'); 
</script>

<div class="txt_label"><label for="confirmpassword">Conferma Password</label></div>

<div class="row">  <!-- START ROW -->

  <input id="confirmpassword" name="CONFIRMPASSWORD" type="password" maxlength="20" value=""
         class="input" tabindex=5>

  <div id=confirmpassword_error class="baloon_error display_no">
    <div class="freccia_baloon_error"></div>
    <div id=confirmpassword_error_txt class="txt_baloon_error">
     </div>
  </div>

<script>
  $('#confirmpassword').on(
      {
         click: function()
         {
            event.cancelBubble=true; $('#confirmpassword_error').hide()
         },
         keydown: function()
         {
            $('#confirmpassword_error').hide();
            $('#confirmpassword').removeClass('input_error'); $('#confirmpassword').addClass('input');
         },
         blur: function()
         {
            check_confirmpassword()
         }
     });
</script>


  <div class="ext_checkbox" style="display:">

    <div class="checkbox">
      <input id="aging_pwd_set" type="checkbox" name="AGING_PWD_SET" value="1"  tabindex=6 >
    </div>

    <div class="txt_checkbox">
      <label for="aging_pwd_set">Scadenza automatica della password </label>
    </div>

  </div>
             
  <div class="ext_ico_question" style="display:">
    <div class="ico_question">
      <a href="#" onclick="var zz=$('#scadenza_infotxt').is(':visible'); event.cancelBubble=true; hide_all_infobox(); if(!zz) $('#scadenza_infotxt').show(); return false"></a>
    </div>
  </div>

<!-- INIZIO BALOOON QUESTION -->
  <div id=scadenza_infotxt class="baloon_question_left display_no">
    <div class="freccia_baloon_question"></div>
    <div class="txt_baloon_question">
        Selezionando quest'opzione la password scadr&agrave; ogni 180 giorni. <br>Il cambio frequente della password favorisce la protezione della tua Email. Alla scadenza della password, riceverai la richiesta di reimpostarla.';
    </div>
  </div>
<!-- END BALOOON QUESTION -->

</div>  <!-- FINE ROW -->

<script>
  $('#aging_pwd_set').on(
        {
           click: function()
           {
              event.cancelBubble=true
           },
           focus: function()
           {
              hide_all_infobox(); $('#scadenza_infotxt').show()
           },
           blur: function()
           {
              $('#scadenza_infotxt').hide()
           }
       });

</script> 

<script>
document.write ('</div>');

var password_obj = d.getElementById ( 'password' );
var password_error_obj = d.getElementById ( 'password_error' );
var password_infotxt_obj = document.getElementById('password_infotxt');
var confirmpassword_obj = d.getElementById ( 'confirmpassword' );
var confirmpassword_error_obj = d.getElementById ( 'confirmpassword_error' );
var aging_pwd_set_obj = d.getElementById ( 'aging_pwd_set' );

var scadenza_infotxt_obj = document.getElementById('scadenza_infotxt');

var confirm_expire_obj = d.getElementById ( 'confirm_expire' );

function check_password( field, field_error, controllo_fun, obb )
{
   if ( empty ( field.value ) && ! obb )
   {
      $(field).addClass ('input');
      $(field).removeClass ('input_error');
      field_error.hide();
      return true;
   }

   var error_msg = [];
   error_msg[0] = '';
   if ( ControlloPassword_js ( field.value.trim(), error_msg ) )
   {
      $(field).addClass ('input');
      $(field).removeClass ('input_error');
      field_error.hide();
      return true;
   }

   $(field).addClass ('input_error');
   $(field).removeClass ('input');
   field_error.show();
   /*
   err_baloon = field_error.find('.txt_baloon_error');
   err_baloon.html(error_msg[0]);
   */
   $('#password_error_txt').html(error_msg[0]);

   return false;
}

function check_confirmpassword( )
{
   var error_msg = [];
   error_msg[0] = '';

   var error_flag = false;

   var confpasswd_err_baloon = $('#confirmpassword_error').find('.txt_baloon_error');

   if ( ! confirmpassword_obj.value.trim() )
   {
      confpasswd_err_baloon.html('Campo obbligatorio');
      error_flag = true;
   }
   else if ( confirmpassword_obj.value.trim() != password_obj.value.trim() )
   {
      confpasswd_err_baloon.html('Le due password non coincidono');
      error_flag = true;
   }

   if ( error_flag )
   {
     $('#confirmpassword').removeClass('input');
     $('#confirmpassword').addClass('input_error');
     $('#confirmpassword_error').show();
   }
}

</script>



<!-- FINE PASSWORD -->


<!-- INIZIO NICKNAME -->
<!-- FINE NICKNAME -->


<!-- INIZIO DATA DI NASCITA -->

<script>  
var max_age = '';
var min_age = '';

</script>  

<div class="txt_label"><label for="daybirth">Data di nascita</label></div>

<div class=row>

  <div class="sel_reg sel_first">

    <select id="daybirth" name="DAYBIRTH" tabindex="7"
            onkeypress="return entsub(this.form)" onchange="check_datanascita(max_age)">
       <option value="0" selected="">Giorno</option>
       <option value="1">01</option>
<option value="2">02</option>
<option value="3">03</option>
<option value="4">04</option>
<option value="5">05</option>
<option value="6">06</option>
<option value="7">07</option>
<option value="8">08</option>
<option value="9">09</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
<option value="15">15</option>
<option value="16">16</option>
<option value="17">17</option>
<option value="18">18</option>
<option value="19">19</option>
<option value="20">20</option>
<option value="21">21</option>
<option value="22">22</option>
<option value="23">23</option>
<option value="24">24</option>
<option value="25">25</option>
<option value="26">26</option>
<option value="27">27</option>
<option value="28">28</option>
<option value="29">29</option>
<option value="30">30</option>
<option value="31">31</option>
    </select>
  </div>

  <div id="month_container" class=sel_reg>

    <select id="monthbirth" name="MONTHBIRTH" tabindex="8"
            onkeypress="return entsub(this.form)" onchange="check_datanascita(max_age)">
       <option value="" selected="">Mese</option>
       <option value="1">Gennaio</option>
<option value="2">Febbraio</option>
<option value="3">Marzo</option>
<option value="4">Aprile</option>
<option value="5">Maggio</option>
<option value="6">Giugno</option>
<option value="7">Luglio</option>
<option value="8">Agosto</option>
<option value="9">Settembre</option>
<option value="10">Ottobre</option>
<option value="11">Novembre</option>
<option value="12">Dicembre</option>
    </select>
  </div>

  <div id=year_container class="sel_reg sel_last">

    <select id="yearbirth" name="YEARBIRTH" tabindex="9"
          onkeypress="return entsub(this.form)"
                    onBlur="check_datanascita(max_age)" onchange="check_datanascita(max_age)">
       <option value="" selected="">Anno</option>
       <option value="2016">2016</option>
<option value="2015">2015</option>
<option value="2014">2014</option>
<option value="2013">2013</option>
<option value="2012">2012</option>
<option value="2011">2011</option>
<option value="2010">2010</option>
<option value="2009">2009</option>
<option value="2008">2008</option>
<option value="2007">2007</option>
<option value="2006">2006</option>
<option value="2005">2005</option>
<option value="2004">2004</option>
<option value="2003">2003</option>
<option value="2002">2002</option>
<option value="2001">2001</option>
<option value="2000">2000</option>
<option value="1999">1999</option>
<option value="1998">1998</option>
<option value="1997">1997</option>
<option value="1996">1996</option>
<option value="1995">1995</option>
<option value="1994">1994</option>
<option value="1993">1993</option>
<option value="1992">1992</option>
<option value="1991">1991</option>
<option value="1990">1990</option>
<option value="1989">1989</option>
<option value="1988">1988</option>
<option value="1987">1987</option>
<option value="1986">1986</option>
<option value="1985">1985</option>
<option value="1984">1984</option>
<option value="1983">1983</option>
<option value="1982">1982</option>
<option value="1981">1981</option>
<option value="1980">1980</option>
<option value="1979">1979</option>
<option value="1978">1978</option>
<option value="1977">1977</option>
<option value="1976">1976</option>
<option value="1975">1975</option>
<option value="1974">1974</option>
<option value="1973">1973</option>
<option value="1972">1972</option>
<option value="1971">1971</option>
<option value="1970">1970</option>
<option value="1969">1969</option>
<option value="1968">1968</option>
<option value="1967">1967</option>
<option value="1966">1966</option>
<option value="1965">1965</option>
<option value="1964">1964</option>
<option value="1963">1963</option>
<option value="1962">1962</option>
<option value="1961">1961</option>
<option value="1960">1960</option>
<option value="1959">1959</option>
<option value="1958">1958</option>
<option value="1957">1957</option>
<option value="1956">1956</option>
<option value="1955">1955</option>
<option value="1954">1954</option>
<option value="1953">1953</option>
<option value="1952">1952</option>
<option value="1951">1951</option>
<option value="1950">1950</option>
<option value="1949">1949</option>
<option value="1948">1948</option>
<option value="1947">1947</option>
<option value="1946">1946</option>
<option value="1945">1945</option>
<option value="1944">1944</option>
<option value="1943">1943</option>
<option value="1942">1942</option>
<option value="1941">1941</option>
<option value="1940">1940</option>
<option value="1939">1939</option>
<option value="1938">1938</option>
<option value="1937">1937</option>
<option value="1936">1936</option>
<option value="1935">1935</option>
<option value="1934">1934</option>
<option value="1933">1933</option>
<option value="1932">1932</option>
<option value="1931">1931</option>
<option value="1930">1930</option>
<option value="1929">1929</option>
<option value="1928">1928</option>
<option value="1927">1927</option>
<option value="1926">1926</option>
<option value="1925">1925</option>
<option value="1924">1924</option>
<option value="1923">1923</option>
<option value="1922">1922</option>
<option value="1921">1921</option>
<option value="1920">1920</option>
<option value="1919">1919</option>
<option value="1918">1918</option>
<option value="1917">1917</option>
<option value="1916">1916</option>
<option value="1915">1915</option>
<option value="1914">1914</option>
<option value="1913">1913</option>
<option value="1912">1912</option>
<option value="1911">1911</option>
<option value="1910">1910</option>
<option value="1909">1909</option>
<option value="1908">1908</option>
<option value="1907">1907</option>
<option value="1906">1906</option>
<option value="1905">1905</option>
<option value="1904">1904</option>
<option value="1903">1903</option>
<option value="1902">1902</option>
<option value="1901">1901</option>
<option value="1900">1890</option>
    </select>


 </div>



<!-- INIZIO BALOOON ERROR -->
<div id="dateofbirth_error" class="baloon_error_datanascita display_no">
  <div class="freccia_baloon_error_datanascita"></div>
  <div id=dateofbirth_error_txt class="txt_baloon_error_datanascita">
  </div>
</div>
<!-- FINE BALOOON ERROR -->

</div>


<script>
var daybirth_obj = d.getElementById ( 'daybirth' );
// var day_container_obj = d.getElementById ( 'day_container' );
var monthbirth_obj = d.getElementById ( 'monthbirth' );
var month_container_obj = d.getElementById ( 'month_container' );
var monthbirth_obj = d.getElementById ( 'monthbirth' );
var yearbirth_obj = d.getElementById ( 'yearbirth' );
var dateofbirth_error_obj = d.getElementById ( 'dateofbirth_error' );

var curryear = 2017;

function check_datanascita( max_age)
{
   var day = daybirth_obj.value.trim();
   var month = monthbirth_obj.value.trim();
   var year = yearbirth_obj.value.trim();

   // var err_baloon = $('#dateofbirth_error').find('.txt_baloon_error_datanascita');

   var one_error = false;

   if ( empty(day ) || empty(month) || empty(year) /*|| year == 'Anno'*/ )
   {
      // err_baloon.html('Campi obbligatori');
      $(dateofbirth_error_txt).html('Campi obbligatori');
      $('#dateofbirth_error').show();
      return;
   }

   if ( isNaN(day) )
   {
      // err_baloon.html('Data non valida');
      $(dateofbirth_error_txt).html('Data non valida');
      $('#dateofbirth_error').show();
      one_error = true;
   }
   else
   {
      // dateofbirth_error_obj.style.display = 'none';
      $('#dateofbirth_error').hide();
   }

   if ( isNaN(month) )
   {
      if ( one_error )
      {
         // err_baloon.html('Data non valida');
         $(dateofbirth_error_txt).html('Data non valida');
      }
      else
      {
         // err_baloon.html('Data non valida');
         $(dateofbirth_error_txt).html('Data non valida');
      }

      // dateofbirth_error_obj.style.display = 'block';
      $('#dateofbirth_error').show();
      one_error = true;
   }
   else
   {
      $('#dateofbirth_error').hide();
   }

   if ( isNaN(year) || ( year > curryear ) || ( year < 1900 ) )
   {
      if ( one_error )
         $(dateofbirth_error_txt).html('Data non valida');
         // err_baloon.html('Data non valida');
      else
         $(dateofbirth_error_txt).html('Data non valida');
         // err_baloon.html('Data non valida');

      $('#dateofbirth_error').show();

      one_error = true;
   }

   if ( one_error )
     return;

   var age = calculate_age ( month, day, year );

   if ( max_age && age > max_age )
   {
      /*
      dateofbirth_error_obj.style.display = 'block';
      dateofbirth_error_obj.innerHTML = 'Questo regalo pu&ograve; riceverlo solo un minorenne'; 
      */
      // err_baloon.html('Questo regalo pu&ograve; riceverlo solo un minorenne');
      $(dateofbirth_error_txt).html('Questo regalo pu&ograve; riceverlo solo un minorenne');
      $('#dateofbirth_error').show();
   }

   if ( min_age && age < min_age )
   {
      // err_baloon.html('Per registrarti devi essere maggiorenne.');
      $(dateofbirth_error_txt).html('Per registrarti devi essere maggiorenne.');
      $('#dateofbirth_error').show();
   }

   return;
}

function calculate_age(birth_month,birth_day,birth_year)
{
    today_date = new Date();
    today_year = today_date.getFullYear();
    today_month = today_date.getMonth();
    today_day = today_date.getDate();
    age = today_year - birth_year;

    if ( today_month < (birth_month - 1))
    {
        age--;
    }
    if (((birth_month - 1) == today_month) && (today_day < birth_day))
    {
        age--;
    }
    return age;
}

/*
$(document).ready(function()
{
      $('select').niceSelect();      
      FastClick.attach(document.body);
});
*/
</script>



<!-- FINE DATA DI NASCITA -->


<div class="clear"></div>



<div class="txt_label"><label for="province">Provincia di residenza</label></div>

<div class=row>  <!-- START ROW -->

<div id=province_container class="sel_reg sel_first">
   <select id="province" name="PROVINCE" tabindex=10        onchange="if ( status_check_comuni_list == 1 ) status_check_comuni_list = 1; this.disabled=true; document.userdata.COMUNE.value=''; $('#province_error').hide(); $('#comune_error').hide();  action_check_comuni_list(); if ( ! this.value ) comuni_container.style.display='none'; else comuni_container.style.display='block';">
       <option value="">Provincia</option>
<option value="AG">AG</option>
<option value="AL">AL</option>
<option value="AN">AN</option>
<option value="AO">AO</option>
<option value="AP">AP</option>
<option value="AQ">AQ</option>
<option value="AR">AR</option>
<option value="AT">AT</option>
<option value="AV">AV</option>
<option value="BA">BA</option>
<option value="BG">BG</option>
<option value="BI">BI</option>
<option value="BL">BL</option>
<option value="BN">BN</option>
<option value="BO">BO</option>
<option value="BR">BR</option>
<option value="BS">BS</option>
<option value="BT">BT</option>
<option value="BZ">BZ</option>
<option value="CA">CA</option>
<option value="CB">CB</option>
<option value="CE">CE</option>
<option value="CH">CH</option>
<option value="CI">CI</option>
<option value="CL">CL</option>
<option value="CN">CN</option>
<option value="CO">CO</option>
<option value="CR">CR</option>
<option value="CS">CS</option>
<option value="CT">CT</option>
<option value="CZ">CZ</option>
<option value="EN">EN</option>
<option value="FC">FC</option>
<option value="FE">FE</option>
<option value="FG">FG</option>
<option value="FI">FI</option>
<option value="FM">FM</option>
<option value="FR">FR</option>
<option value="GE">GE</option>
<option value="GO">GO</option>
<option value="GR">GR</option>
<option value="IM">IM</option>
<option value="IS">IS</option>
<option value="KR">KR</option>
<option value="LC">LC</option>
<option value="LE">LE</option>
<option value="LI">LI</option>
<option value="LO">LO</option>
<option value="LT">LT</option>
<option value="LU">LU</option>
<option value="MB">MB</option>
<option value="MC">MC</option>
<option value="ME">ME</option>
<option value="MI">MI</option>
<option value="MN">MN</option>
<option value="MO">MO</option>
<option value="MS">MS</option>
<option value="MT">MT</option>
<option value="NA">NA</option>
<option value="NO">NO</option>
<option value="NU">NU</option>
<option value="OG">OG</option>
<option value="OR">OR</option>
<option value="OT">OT</option>
<option value="PA">PA</option>
<option value="PC">PC</option>
<option value="PD">PD</option>
<option value="PE">PE</option>
<option value="PG">PG</option>
<option value="PI">PI</option>
<option value="PN">PN</option>
<option value="PO">PO</option>
<option value="PR">PR</option>
<option value="PT">PT</option>
<option value="PU">PU</option>
<option value="PV">PV</option>
<option value="PZ">PZ</option>
<option value="RA">RA</option>
<option value="RC">RC</option>
<option value="RE">RE</option>
<option value="RG">RG</option>
<option value="RI">RI</option>
<option value="RM">RM</option>
<option value="RN">RN</option>
<option value="RO">RO</option>
<option value="SA">SA</option>
<option value="SI">SI</option>
<option value="SO">SO</option>
<option value="SP">SP</option>
<option value="SR">SR</option>
<option value="SS">SS</option>
<option value="SV">SV</option>
<option value="TA">TA</option>
<option value="TE">TE</option>
<option value="TN">TN</option>
<option value="TO">TO</option>
<option value="TP">TP</option>
<option value="TR">TR</option>
<option value="TS">TS</option>
<option value="TV">TV</option>
<option value="UD">UD</option>
<option value="VA">VA</option>
<option value="VB">VB</option>
<option value="VC">VC</option>
<option value="VE">VE</option>
<option value="VI">VI</option>
<option value="VR">VR</option>
<option value="VS">VS</option>
<option value="VT">VT</option>
<option value="VV">VV</option>
<option value="EE">Estero</option>
   </select>
</div>

<!-- INIZIO BALOOON ERROR -->
<div id=province_error class="baloon_error_residenza display_no">
  <div class="freccia_baloon_error_residenza"></div>
  <div id=province_error_txt class="txt_baloon_error_residenza">
  </div>
</div>
<!-- FINE BALOOON ERROR -->

<div class="clear"></div>

</div>  <!-- FINE ROW -->


<span id=comuni_container style="display:none">

 <div class="txt_label"><label for="comuni_list">Comune di residenza</label></div>

 <div id=comune_row class=row style="display:">

   <div id=comuni_div class="sel_reg sel_first">

      <select id=comuni_list name=COMUNE 
            onchange="$('#comune_error').hide(); if ( ! this.value ) { $('#comune_error_txt').html('Campo obbligatorio'); $('#comune_error').show()}" >
      </select>

   </div>

  <!-- Fine comuni_div -->


  <!-- INIZIO BALOOON ERROR -->
  <div id=comune_error class="baloon_error_residenza display_no">
    <div class="freccia_baloon_error_residenza"></div>
    <div id=comune_error_txt class="txt_baloon_error_residenza">
   </div>
   </div>

<!-- FINE BALOOON ERROR -->

  <div class="clear"></div>

 </div>  <!-- END ROW -->

</span> 

<!-- END ROW -->

<SCRIPT LANGUAGE="JavaScript">

var comuni_div = document.getElementById('comuni_div');
var comune_row = document.getElementById('comune_row');
var status_check_comuni_list = 0;

var comune = '';
var class_attr = '';

    class_attr = ' class=box_select_first';
 

function check_comuni_list ( result, responseText )
{
   if ( status_check_comuni_list != 1 )
      return false;
  
   if ( result == 'OK' )
   {
      responseText = responseText.replace(new RegExp('\n', 'gi'),'');
      eval ( responseText );

      var comuni_list = document.getElementById('comuni_list');
		
      comuni_list.options.length=0;
      if  ( ar_prov != '' && ar_prov != null && ar_prov !== undefined )
      {
        // comuni_list.disabled = false;
        // comuni_div.innerHTML = '<div id=comuni_container ' + class_attr + '><select id=comuni_list onchange="comuni_container_obj.className=\'box_select_first\'; comune_error_obj.style.display=\'none\'" onBlur="check_comune(comune_obj, comune_error_obj)" name=COMUNE tabindex=11 > </select></div>'; 
        // var comuni_list = document.getElementById('comuni_list');
		var objOption = document.createElement("option");
		theText = document.createTextNode('Comune');
		objOption.appendChild(theText);
		objOption.setAttribute('value', '');
		comuni_list.appendChild(objOption);

		// var voceListingComune = '';
                
		for (n = 0; n < ar_prov.vals.length; n++) {
			if (ar_prov.vals[n] != '') {
				objOption = document.createElement('option');
				theText = document.createTextNode(ar_prov.vals[n]);
				objOption.appendChild(theText);
				if (comune != undefined)
					var app1 = comune.toUpperCase();
				if (ar_prov.vals[n] != undefined)
					var app2 = ar_prov.vals[n].toUpperCase();
				if (app1 == app2)
					objOption.setAttribute('selected', 'true');
				objOption.setAttribute('value', ar_prov.vals[n]);
				comuni_list.appendChild(objOption);
			}
		}
		
                if ( $('#province').val() == 'EE' )
                  $('#comuni_list').find('option[value="undefined"]').attr("selected",true);

	  }
		else
      {
         // comuni_div.innerHTML='<input type=text id=comuni_list name=COMUNE maxlength= value="" onkeydown="comune_error_obj.style.display=\'none\'; this.className=\'\'" onBlur="check_comune(comune_obj, comune_error_obj)" tabindex=11>';

         // document.getElementById('comuni_list').value = comune; 
         comuni_list.options.length = 0;
       }
   }
   else
   {
      // comuni_div.innerHTML='<input type=text id=comuni_list name=COMUNE maxlength= value="" onkeydown="comune_error_obj.style.display=\'none\'; this.className=\'\'" onBlur="check_comune(comune_obj, comune_error_obj)" tabindex=11>';
      // document.getElementById('comuni_list').value = comune; 

      comuni_list.options.length = 0;
   }

   status_check_comuni_list = 0;
   province_obj.disabled= false;
   province_obj.focus();
}


function action_check_comuni_list ( str_comune )
{
  /*
  if (status_check_comuni_list == 1)
     return false;
  */

  if ( document.userdata.PROVINCE.value == '' )
  {
      // comuni_div.innerHTML='<input type=text id=comuni_list name=COMUNE maxlength= value="" onkeydown="comune_error_obj.style.display=\'none\'; this.className=\'\'" onBlur="check_comune(comune_obj, comune_error_obj)" disabled>';
     status_check_comuni_list = 0;
     province_obj.disabled= false;
     province_obj.focus();
     
     // err_baloon = $('#province_error').find('.txt_baloon_error_residenza');
     $('#province_error_txt').html('Campo obbligatorio');
     $('#province_error').show();
  }
  else
  {
     var ajax= assegnaXMLHttpRequest();
     comune = str_comune;
     // ind_R_flag = false;
     status_check_comuni_list = 1;
     param = 'c=' + document.userdata.PROVINCE.value;
     ajax_call (ajax, 'post', '/comscripts/get_comuni.php', param, check_comuni_list);
  }
  return false;
}

// document.userdata.COMUNE.disabled=true;


// var province_container_obj = d.getElementById ( 'province_container' );
// var comune_obj;
var province_obj = document.getElementById ( 'province' );
var province_error_obj = document.getElementById ( 'province_error' );
var comuni_container_obj = document.getElementById ( 'comuni_container' );
var comune_error_obj = document.getElementById ( 'comune_error' );

function check_province (field, field_error )
{
   var error_msg = [];

   error_msg[0] = '';

   if ( field.value.trim() != '' )
   {
     field.className = 'input';
   }
   else
   {
     field.className = 'input';
     field_error.innerHTML =  'Campo obbligatorio';
   }
}

</script>


<!-- FINE COMUNE DI RESIDENZA  -->

 <div class="clear"></div>
 
<!-- INIZIO SESSO  -->

<div class="row">  <!-- START ROW -->

 <div class="txt_label left" style="margin:5px 0 0 0">Sesso</div>

 <input id="female" name="GENDER" type="radio" value=F class=css-checkbox tabindex="11"
                onclick="if ( $('#privato').is(':checked') || $('#azienda').is(':checked') ) $('#gender_error').hide()">
 <label for=female class="css-label radGroup2">Donna</label>

 <input id="male" name="GENDER" type="radio" value=M class="css-checkbox" tabindex="12"
                      onclick="if ( $('#privato').is(':checked') || $('#azienda').is(':checked') ) $('#gender_error').hide()">
 <label for="male" class="css-label radGroup2">Uomo</label>
 
</div>  <!-- END ROW -->

<!-- FINE SESSO  -->

<!-- INIZIO PRIVATO/AZIENDA  -->

<div class="row marg50left">

  <div class="txt_label left" style="margin:5px 0 0 0">Privato/Azienda</div>

    <input id="privato" name="USERTYPE" type=radio class="css-checkbox" value=PR tabindex="13"
                      onclick="if ($('#female').is(':checked') || $('#male').is(':checked') ) $('#gender_error').hide(); $('#info_azienda').hide(); /*facoltinfo_spacer_obj.style.display='block';*/ $('#info_priv').show()"
           >

    <label for=privato class="css-label radGroup2">Privato</label> 

    <input id="azienda" name="USERTYPE" type=radio class="css-checkbox" value=AZ tabindex="14"
                      onclick="if ($('#female').is(':checked') || $('#male').is(':checked') ) $('#gender_error').hide(); $('#info_priv').hide(); /*facoltinfo_spacer_obj.style.display='block';*/ $('#info_azienda').show()">

    <label for=azienda class="css-label radGroup2">Azienda</label>
 

  <!-- INIZIO BALOOON ERROR -->
  <div id=gender_error class="baloon_error_sesso display_no">
    <div class="freccia_baloon_error_sesso"></div>
    <div id=gender_error_txt class="txt_baloon_error_sesso">
    </div>
  </div>
  <!-- FINE BALOOON ERROR -->

</div>

<!-- FINE PRIVATO/AZIENDA  -->
 
<!-- INIZIO INFORMAZIONI FACOLTATIVE  -->

<div id="info_priv" class="info_facolt" style="display:none" >

  <div class="tit">Informazioni facoltative</div>

  Per un servizio personalizzato ti chiediamo di inserire alcune informazioni aggiuntive. La compilazione non &egrave; obbligatoria.

  <div class="sottotit"><label for=statocivile>Stato civile</label></div>

  <!-- INIZIO SELEZIONA -->
  <div class="row">  <!-- START ROW -->

    <div class="bg_sel_grey">
        <select name="STATOCIVILE" id="statocivile" tabindex="15">
          <option value="0">Seleziona</option>
<option value="1">Celibe/Nubile</option>
<option value="2">Coniugato/a senza figli</option>
<option value="4">Coniugato/a con figli</option>
<option value="8">Altro</option>
        </select>
    </div>

  </div>  <!-- END ROW -->

  <div class="clear"></div>

  <!-- INIZIO PROFESSIONE -->
  <div class="sottotit"><label for=professione>Professione</label></div>

  <div class="row">

   <div class="bg_sel_grey">

      <select name="PROFESSIONE" id="professione" class="medium_input" tabindex="16">
          <option value="0">Seleziona</option>
<option value="1">Studente</option>
<option value="2">Operaio</option>
<option value="4">Impiegato</option>
<option value="8">Dirigente</option>
<option value="16">Commerciante</option>
<option value="32">Libero professionista</option>
<option value="64">Casalingo</option>
<option value="128">Religioso</option>
<option value="256">Pensionato</option>
<option value="512">Disoccupato</option>
<option value="1024">Altro</option>
      </select>

  </div>

 </div>

 <!-- FINE PROFESSIONE -->

 <div class="clear"></div>

 <div class="sottotit"><label for=titolostudio>Titolo di studio</label></div>

 <div class="row">

  <div class="bg_sel_grey">
      <select name="TITOLOSTUDIO" id="titolostudio" class="medium_input" tabindex="17">
          <option value="0">Seleziona</option>
<option value="1">Scuola dell'obbligo</option>
<option value="2">Diploma di Maturita'</option>
<option value="4">Diploma di Laurea</option>
<option value="8">Laurea</option>
<option value="16">Altro</option>
      </select>
   </div>

  </div>


  <div class="clear"></div>
  <div class="sottotit">Interessi</div>
  <div class="margbot10"></div>

<!-- INIZIO INTERESSI -->

<!-- INIZIO PRIMO BLOCCO -->
<div class="block_int">
<ul>
 <li>
  <input id="check01" name="INTERESSI[1]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex="18">
  <label for="check01" class="css-label-interessi radGroup2">Acquisti Online</label>
 </li>
 <li>
  <input id="check04" name="INTERESSI[4]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=19 >
  <label for="check04" class="css-label-interessi radGroup2">Cinema/Teatro</label>
 </li>
 <li>
  <input id="check08" name="INTERESSI[8]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=20 >
  <label for="check08" class="css-label-interessi radGroup2">Fai da te</label>
 </li>
 <li>
  <input id="check12" name="INTERESSI[12]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=21 >
  <label for="check12" class="css-label-interessi radGroup2">Moda</label>
 </li>
 <li>
  <input id="check16" name="INTERESSI[16]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=22 >
  <label for="check16" class="css-label-interessi radGroup2">Sport</label>
 </li>
</ul>
</div>

<!-- INIZIO SECONDO BLOCCO -->
<div class="block_int">
<ul>
 <li>
  <input id="check2" name="INTERESSI[2]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=23 >
  <label for="check2" class="css-label-interessi radGroup2">Arte</label>
 </li>
 <li>
  <input id="check5" name="INTERESSI[5]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=24 >
  <label for="check5" class="css-label-interessi radGroup2">Computer/Tecnlogia</label>
 </li>
 <li>
  <input id="check9" name="INTERESSI[9]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=25 >
  <label for="check9" class="css-label-interessi radGroup2">Giochi/Lotterie</label>
 </li>
 <li>
  <input id="check13" name="INTERESSI[13]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=26 >
  <label for="check13" class="css-label-interessi radGroup2">Musica</label>
 </li>
 <li>
  <input id="check18" name="INTERESSI[18]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=27 >
  <label for="check18" class="css-label-interessi radGroup2">Tempo Libero</label>
 </li>
</ul>
</div>

<!-- INIZIO TERZO BLOCCO -->
<div class="block_int">
<ul>
 <li>
  <input id="check3" name="INTERESSI[3]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=28 >
  <label for="check3" class="css-label-interessi radGroup2">Auto/Moto</label>
 </li>
 <li>
  <input id="check6" name="INTERESSI[6]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=29 >
  <label for="check6" class="css-label-interessi radGroup2">Cucina/Enologia</label>
 </li>
 <li>
  <input id="check10" name="INTERESSI[10]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=30 >
  <label for="check10" class="css-label-interessi radGroup2">Investimenti</label>
 </li>
 <li>
  <input id="check17" name="INTERESSI[17]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=31 >
  <label for="check17" class="css-label-interessi radGroup2">Radio/Televisione</label>
 </li>
 <li>
  <input id="check19" name="INTERESSI[19]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=32 >
  <label for="check19" class="css-label-interessi radGroup2">Viaggi</label>
 </li>
</ul>
</div>

<!-- INIZIO QUARTO BLOCCO -->
<div class="block_int">
<ul>
 <li>
  <input id="check14" name="INTERESSI[14]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=33 >
  <label for="check14" class="css-label-interessi radGroup2">Benessere/Fitness</label>
 </li>
 <li>
  <input id="check7" name="INTERESSI[7]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=34 >
  <label for="check7" class="css-label-interessi radGroup2">Economia</label>
 </li>
 <li>
  <input id="check11" name="INTERESSI[11]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=35 >
  <label for="check11" class="css-label-interessi radGroup2">Libri</label>
 </li>
 <li>
  <input id="check15" name="INTERESSI[15]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=36 >
  <label for="check15" class="css-label-interessi radGroup2">Scuola/Educazione</label>
 </li>
 <li>
  <input id="check20" name="INTERESSI[20]" type="checkbox" value="S"  class="css-checkbox-interessi" tabindex=37 >
  <label for="check20" class="css-label-interessi radGroup2">Videogiochi</label>
 </li>
</ul>
</div>

</div>

<!-- INIZIO INFORMAZIONI FACOLTATIVE AZIENDA  -->

<div id="info_azienda" class="info_facolt" style="display:none" >

 <div class="tit">Informazioni facoltative</div>

 Per un servizio personalizzato ti chiediamo di inserire alcune informazioni aggiuntive. La compilazione non &egrave; obbligatoria.

 <!-- INIZIO NOME -->

 <div class="sottotit"><label for="ragionesociale">Ragione sociale</label></div>

 <div class="row">

  <input id="ragionesociale" name="RAGIONESOCIALE" type="text" class=input_rag_soc maxlength="50"
         value="" tabindex="38"
         class="input_rag_soc">

 <!-- INIZIO BALOOON ERROR -->
 <div id=ragionesociale_error class="baloon_error_infofacolt display_no">
   <div class="freccia_baloon_error_infofacolt"></div>
   <div id=ragionesociale_error_txt class="txt_baloon_error_infofacolt">
   </div>
 </div>
 <!-- FINE BALOOON ERROR -->

  </div>

<script>
  $('#ragionesociale').on(
   {
        
        blur: function()
        {
          var error_msg = [];
          //  return;
          if ( ! this.value )
            return;

          $(this).removeClass ('input_rag_soc_error');
          $(this).addClass ('input_rag_soc');
          $('#ragionesociale_error').hide();

          if ( ControlloRagionesociale_js ( this.value.trim(), error_msg ) )
          {
            return true;
          }
         
          $(this).removeClass ('input_rag_soc');
          $(this).addClass ('input_rag_soc_error');
           
          if ( error_msg[0] )
          {
            $('#ragionesociale_error_txt').html(error_msg[0]);
            $('#ragionesociale_error').show();
          }
       },
       click: function()
       {
          $('#ragionesociale_error').hide()
       },
 
       focus: function()
       {
          if ( firstfield_witherror )
            firstfield_witherror=false;
          else
          { 
            // $(this).addClass ('input_rag_soc');
            // $(this).removeClass ('input_rag_soc_error');
            $('#ragionesociale_error').hide();
          } 
       }
  });
  function ControlloRagionesociale_js (field, field_er)
  {
    field_er[0] = '';

    if ( empty( field ) )
    {
       field_er[0] = 'Campo obbligatorio';
       return false;
    }

    if ( field.length < 2 && field.length > 0)
    {
       field_er[0] = "Il Campo non pu&ograve; contenere meno di 2 caratteri";
       return false;
    }
    if ( field.length > 50 )
    {
       field_er[0] = "Il Campo non pu&ograve; contenere pi&ugrave; di 50 caratteri.";
       return false;
    }
    field = field.replace(new RegExp(/['|\s|\/|\.|\-|\&|\@|\!|\?]/g),'');
    
    if (  field.match(/\W/) /* || field.match(/\_/) */ )
    {
       field_er[0] = "Presenza di uno o pi&ugrave; caratteri non validi";
       return false;
    }
    return true;
  }

 </script>

  <!-- FINE NOME -->

  <div class="clear"></div>

  <!-- INIZIO ATTIVITA' -->

  <div class="sottotit"><label for="az_attivita">Attivit&agrave;</label></div>

  <div class="row">

    <div class=bg_sel_grey>
       <select name="AZ_ATTIVITA" id="az_attivita" tabindex="39">
          <option value="0">Seleziona</option>
<option value="1">Agricoltura Foreste e Pesca</option>
<option value="2">Artigianato</option>
<option value="4">Industria</option>
<option value="8">Commercio all'ingrosso</option>
<option value="16">Commercio al minuto</option>
<option value="32">Alberghi e Pubblici esercizi</option>
<option value="64">Trasporti</option>
<option value="128">Imprese finanziarie Assicuraz. Credito</option>
<option value="256">Servizi</option>
<option value="512">Avvocato Commercialista</option>
<option value="1024">Medico</option>
<option value="2048">Architetto Ingegnere</option>
<option value="4096">Libero Professionista</option>
<option value="8192">Altro</option>
       </select>
    </div>

  </div>

  <!-- FINE ATTIVITA' -->

  <div class="clear"></div>

  <!-- INIZIO NUM DIPENDENTI -->

  <div class="sottotit"><label for="az_occupati">Numero di dipendenti</label></div>

  <div class="row">

    <div class="bg_sel_grey">
         <select name="AZ_OCCUPATI" id="az_occupati" class="medium_input" tabindex="40">
            <option value="0">Seleziona</option>
<option value="1">da 1 a 5</option>
<option value="2">da 6 a 10</option>
<option value="4">da 11 a 50</option>
<option value="8">da 51 a 100</option>
<option value="16">oltre 100</option>
         </select>
    </div>

  </div>

  <!-- FINE NUM DIPENDENTI -->

</div>

</div>

<script>
var facoltinfo_spacer_obj = d.getElementById ( 'facoltinfo_spacer' );
var ragionesociale_obj = d.getElementById ( 'ragionesociale' );
var ragionesociale_error_obj = d.getElementById ( 'ragionesociale_error' );
</script>
<!-- FINE INFORMAZIONI FACOLTATIVE  -->



<div class="clear"></div>
<div class="filosep"></div>

<div class="punto_el"><div class="img_02"></div></div>

<div class="form">

<div class="tit_01">Informazioni per il recupero della password</div>

<div class="txt">Inserisci queste informazioni. Potremo aiutarti nel caso in cui dimenticassi le tue credenziali di accesso.<br>
   Uno dei due campi: "Indirizzo email alternativo" o "Cellulare" &egrave; obbligatorio.

</div>


<!-- INIZIO INDIRIZZO MAIL ALTERN. -->

<div class="txt_label"><label for="emailsecondaria">Indirizzo email alternativo</label></div> 

<div class="row">  <!-- START BLOCK -->

  <input id="emailsecondaria" name="EMAILSECONDARIA" type="text" maxlength="100"
     value="" tabindex=41     class="input">

<div class="ext_ico_question marg6left">
 <div class="ico_question">
   <a href="#" onclick="if (!zz) zz=$('#emailsecondaria_infotxt').is(':visible'); event.cancelBubble=true; hide_all_infobox(); if (!zz) { $('#emailsecondaria_infotxt').show(); $('#emailsecondaria_error').hide() } zz=''; return false"></a>
 </div>
</div>


<!-- INIZIO BALOOON ERROR -->
<div id=emailsecondaria_error class="baloon_error display_no">
 <div class="freccia_baloon_error"></div>
 <div id=emailsecondaria_error_txt class="txt_baloon_error">
 </div>
</div>
<!-- FINE BALOOON ERROR -->

<!-- INIZIO BALOOON QUESTION -->
<div id=emailsecondaria_infotxt class="baloon_question display_no">
 <div class="freccia_baloon_question"></div>
 <div class="txt_baloon_question">Inserendo un indirizzo email valido potrai recuperare la tua password, ricevere comunicazioni di servizio ed essere avvisato in caso di problemi. Controlla di averlo digitato correttamente.</div>
</div>
<!-- FINE BALOOON QUESTION -->

</div>  <!-- END BLOCK -->
<!-- FINE INDIRIZZO MAIL ALTERN. -->

<script>
var zz = '';

$('#emailsecondaria').on(
        {
           click: function()
           {
              /* if ( ajaxcall_emailsec==1 ) return; */ event.cancelBubble=true; $('#emailsecondaria_error').hide(); $('#emailsec_cell_error').hide(); $('#emailsecondaria_infotxt').show()
           },
           keydown: function()
           {
              /* if ( ajaxcall_emailsec==1 ) return; */ $('#emailsec_cell_error_txt').html(''); $('#emailsec_cell_error').hide()
           },
           focus: function()
           {
              if ( ajaxcall_emailsec==1 ) return; hide_all_infobox(); if ( firstfield_witherror ) firstfield_witherror=false; else {$('#emailsecondaria_error').hide(); $('#emailsecondaria_infotxt').show()}
           },
           blur: function()
           {
              zz=$('#emailsecondaria_infotxt').is(':visible'); $('#emailsecondaria_infotxt').hide(); if ( ajaxcall_emailsec==1 ) return; action_check_emailSecondaria(this)
           }
       });

/*
var emailsecondaria_infotxt_obj = document.getElementById('emailsecondaria_infotxt');
var emailsecondaria_error_obj = document.getElementById('emailsecondaria_error');
var emailsecondaria_obj = document.getElementById('emailsecondaria');
*/

function check_emailSecondaria ( result, responseText )
{
   if ( ajaxcall_emailsec != 1 )
      return false;

   ajaxcall_emailsec = 0;

   $('#emailsecondaria').removeClass('input_error');
   $('#emailsecondaria').addClass('input');
   $('#emailsecondaria_error').hide();

   if ( result == 'OK' )
   {
      if ( ! empty ( responseText ) )
      {
         var response = '';
         response = responseText.split('||', 2);

         if ( response[0] === 'OK' )
         {
           // emailsecondaria_error_obj.innerHTML = bullet;
           // emailsecondaria_obj.className = '';
           // alert ( emailsecondaria_obj.value );
             
           add_array ( $('#emailsecondaria').val(), ar_not_pwd['EMAIL_SEC'] );
           /*
           add_array(emailsecondaria_obj.value, ar_not_pwd['EMAIL_SEC']);
           for (var i=0; i < ar_not_pwd['EMAIL_SEC'].length ; i++)
           {
             alert ( '<br>i: ' + i + '  ' + ar_not_pwd['EMAIL_SEC'][i] );
           }
           */
         }
         else
         {
           /*
            Response[1] potrebbe essere vuoto nel caso che l'esecuzione dello script abbia
            superato il suo max_execution_time ed in tal caso responseText ( e quindi response[0] )
            contiene la stringa restituita dal server:
            "Fatal error: Maximum execution time of x seconds exceeded in ...../check_emailsecondaria.php on line ..."
           */
           if ( ! empty ( response[1] ) )
           {
             /*
             emailsecondaria_error_obj.innerHTML = '<span></span>' + response[1];
             emailsecondaria_error_obj.style.display = 'block';
             emailsecondaria_obj.className = 'input_field_red';
             */

             $('#emailsecondaria').removeClass('input');
             $('#emailsecondaria').addClass('input_error');
             // ($('#emailsecondaria_error').find('.txt_baloon_error')).html(response[1])
             $('#emailsecondaria_error_txt').html(response[1]);
             $('#emailsecondaria_error').show();
           }
         }
      }
   }
   /*
      KO puo' venire in caso di timeout della chiamata ajax (responseText=TIMEOUT, vedi ajax_call in util_v2.js)
      oppure in caso ajax.status e' diverso da 200 ( codice Apache )
   */
   else if ( responseText == 'TIMEOUT' )
   {
      // emailsecondaria_error_obj.innerHTML = 'CELL_TIMEOUT';
   }

   /*
   if ( timeout_emailsec )
   {
     clearTimeout ( timeout_emailsec);
     timeout_emailsec = false;
   }
   */
}

var ajaxcall_emailsec = 0;
/*
var timeout_emailsec_time = 15000; /* 15 sec di timeout * /
var timeout_emailsec = false;
*/

function action_check_emailSecondaria ( myemailsecondaria )
{
   if ( ajaxcall_emailsec == 1 )
   {
      return false;
   }

   // var err_baloon = $('#emailsecondaria_error').find('.txt_baloon_error');

   $(myemailsecondaria).removeClass('input_error');
   $(myemailsecondaria).addClass('input');
   $('#emailsecondaria_error').hide();

   var emailsec = $(myemailsecondaria).val().trim();

   if ( empty ( emailsec ) )
   {
      if ( 'libero' == 'virgilio' )
      {
        $(myemailsecondaria).removeClass('input');
        $(myemailsecondaria).addClass('input_error');
        $('#emailsecondaria_error_txt').html('Campo obbligatorio');
        $('#emailsecondaria_error').show();
      }   
      return false;
   }
   /*
   if ( emailsec == "" )
   {
      return false;
   }
   */

   var username_domain = emailsec.split ('@');

   if ( username_domain.length != 2 ) 
   {
      $(myemailsecondaria).removeClass('input');
      $(myemailsecondaria).addClass('input_error');
      $('#emailsecondaria_error_txt').html('Indirizzo non valido');
      $('#emailsecondaria_error').show();

      return false;
   }

   if ( empty ( username_domain[0] ) || empty ( username_domain[1] ) )
   {
      $(myemailsecondaria).removeClass('input');
      $(myemailsecondaria).addClass('input_error');
      $('#emailsecondaria_error_txt').html('Indirizzo non completo');
      $('#emailsecondaria_error').show();

      return false;
   }

   var email_primaria = '';

   // if ( d.userdata.USERNAME && d.userdata.USERDOMAIN ) 
   if ( $('#username').length && $('#userdomain').length ) 
   {
     // if ( d.userdata.USERDOMAIN.value != 'all' )
     //    email_primaria = d.userdata.USERNAME.value.trim() + '@' + d.userdata.USERDOMAIN.value.trim(); 
     if ( $('#userdomain').val() != 'all' )
     {
        email_primaria = $('#username').val().trim() + '@' + $('#userdomain').val().trim(); 
     }
   }
   // else if ( d.userdata.USERNAME ) 
   //  email_primaria = d.userdata.USERNAME.value.trim() + '@libero.it'; 
   else if ( $('#username').length ) 
   {
     // alert('length: ' + $('#username').val().length);
     // email_primaria = $('#username').val().trim() + '@libero.it'; 
     // email_primaria = $('#username').val().trim() + $('#userdomain').val().trim(); 
     email_primaria = $('#username').val().trim() + '@libero.it'; 
   }
   else
   {
     email_primaria = ""; 
   }

   /* 
   alert ('email_primaria: ' + email_primaria );
   alert ('emailsec: ' + emailsec );
   alert ('domain1: ' + $('#userdomain').val() );
   alert ('domain2: ' + document.userdata.USERDOMAIN.value );
   */ 

   if ( emailsec == email_primaria )
   {
      $(myemailsecondaria).removeClass('input');
      $(myemailsecondaria).addClass('input_error');
      // ($('#emailsecondaria_error').find('.txt_baloon_error')).html('L\' email alternativa deve essere diversa da quella che viene registrata')
      $('#emailsecondaria_error_txt').html('L\' email alternativa deve essere diversa da quella che viene registrata');
      $('#emailsecondaria_error').show();

      return false;
   }

   // emailsecondaria_error_obj.innerHTML = '<img src="/images/progressbar_long_blu.gif">';

   var ajax_email = assegnaXMLHttpRequest();

   // param = 'emailsec=' + encodeURIComponent ( emailsecondaria_obj.value.trim() );
   param = 'emailsec=' + encodeURIComponent ( emailsec );

   // alert ('param: ' +  param);
   /* Nella registrazione la variabile php $email_primaria non deve essere inizializzata
      perche' altrimenti la API checkEmailCom da' errore -201 perche' il liberoid
      non esiste ancora
   */

   if ( ! empty ( '' ) )
      param += '&liberoid=' + encodeURIComponent ( '' );

   ajaxcall_emailsec = 1;

   new_ajax_call ( ajax_email, 'post', './check_emailsecondaria.php', param, check_emailSecondaria );

   /*
   if ( timeout_emailsec )  clearTimeout ( timeout_emailsec );

   timeout_emailsec = setTimeout ( "timeout_emailsec_action ()", timeout_emailsec_time );
   */

   return false;
}

/*
function timeout_emailsec_action ( )
{
   ajaxcall_emailsec = 2;
   // emailsecondaria_obj.disabled = false;
   emailsecondaria_error_obj.innerHTML = '';
}
*/

</script>


<!-- INIZIO CELLULARE -->


<div class="txt_label"><label for="cellulare">Cellulare</label></div>

<div class="row"> <!-- START BLOCK -->

  <!-- <input type="text" readonly="" value=" Italia(+39)" class="cell" onfocus="this.blur()"> -->


  <input name="" type="text" disabled class="input_pref img_prefissoita" readonly="" tabindex=-1>

  <input id="cellulare" type="text" name="CELLULARE" maxlength="20"
         value="" tabindex=42         class="input_cell">

  <div class="ext_ico_question marg6left">
    <div class="ico_question">
      <a href="#" onclick="if (!zz) zz=$('#cellulare_infotxt').is(':visible'); event.cancelBubble=true; hide_all_infobox(); if (!zz) { $('#cellulare_infotxt').show(); $('#cellulare_error').hide(); }; zz=''; return false"></a>
    </div>
  </div>


  <!-- INIZIO BALOOON ERROR -->
  <div id=cellulare_error class="baloon_error display_no">
    <div class="freccia_baloon_error"></div>
    <div class="txt_baloon_error">
    </div>
  </div>
  <!-- FINE BALOOON ERROR -->

  <!-- INIZIO BALOOON QUESTION -->
  <div id=cellulare_infotxt class="baloon_question display_no">
    <div class="freccia_baloon_question"></div>
    <div class="txt_baloon_question">Inserendo un numero di cellulare valido potrai recuperare la tua password. Controlla di averlo digitato correttamente.</div>
  </div>
<!-- FINE BALOOON QUESTION -->

<!-- INIZIO BALOOON ERROR -->


<div id=emailsec_cell_error class="baloon_error_duecampi display_no">
  <div class="freccia_baloon_error_duecampi"></div>
  <div id=emailsec_cell_error_txt class="txt_baloon_error_duecampi">
  </div>
</div>
<!-- FINE BALOOON ERROR -->

</div>  <!-- END BLOCK -->


<script>
var zz = '';

$('#cellulare').on(
        {
           click: function()
           {
              event.cancelBubble=true; $('#cellulare_error').hide(); if ( $('#cellulare_infotxt' ).length ) $('#cellulare_infotxt').show()
           },
           keydown: function()
           {
              // $('#emailsec_cell_error').hide()
           },
           focus: function()
           {
              if ( ajaxcall_cell==1 ) return; hide_all_infobox(); $('#emailsec_cell_error').hide(); if ( firstfield_witherror ) firstfield_witherror=false; else {$('#cellulare_error').hide(); if ( $('#cellulare_infotxt' ).length ) $('#cellulare_infotxt').show()}
           },
           blur: function()
           {
              if ( $('#cellulare_infotxt' ).length ) { zz = $('#cellulare_infotxt').is(':visible'); $('#cellulare_infotxt').hide(); } if ( ajaxcall_cell==1 ) return; action_check_cellulare(this)
           }
       });

/*
var cellulare_infotxt_obj = d.getElementById('cellulare_infotxt');
var cellulare_obj = d.getElementById('cellulare');
var cellulare_error_obj = d.getElementById('cellulare_error');
*/

function check_cellulare ( result, responseText )
{
  if ( ajaxcall_cell != 1 )
     return false;

  ajaxcall_cell = 0;

  $('#cellulare').removeClass('input_cell_error');
  $('#cellulare').addClass('input_cell');
  $('#cellulare_error').hide();

  /*
    Il risulato OK puo' venire quando lo script ha terminato regolarmente ed ha messo
    il risultato in responseText oppure nel caso sia stato superato il tempo max di
    esecuzione dello script (max_execution_time) ed in questo caso responseText
    contiene la stringa "Fatal error: Max execution time of x seconds exceeded in...."
  */
  if ( result == 'OK' )
  {
     responseText = responseText.trim();

     if ( ! empty ( responseText ) )
     {
        var response = '';
        response = responseText.split('||', 2);

        if ( response[0] == 'OK' )
        {
           if ( ! empty ( response[1] ) )
              $('#cellulare').val(response[1]);

           add_array ( $('#cellulare').val(), ar_not_pwd['CELLULARE'] );
        }
        else
        {
           /* 
            Response[1] potrebbe essere vuoto nel caso che l'esecuzione dello script abbia
            superato il suo max_execution_time ed in tal caso responseText ( e quindi response[0] )
            contiene la stringa restituita dal server:
            "Fatal error: Maximum execution time of x seconds exceeded in ...../checkcellulare.php on line ..."
           */
           if ( ! empty ( response[1] ) )
           {
              $('#cellulare').removeClass('input_cell');
              $('#cellulare').addClass('input_cell_error');
              ($('#cellulare_error').find('.txt_baloon_error')).html(response[1]);
              $('#cellulare_error').show();
           }
        }
      }
   }
   /*
      KO puo' venire in caso di timeout della chiamata ajax (responseText=TIMEOUT, vedi ajax_call in util_v2.js)
      oppure in caso ajax.status e' diverso da 200 ( codice Apache )
   */
   else if ( responseText == 'TIMEOUT' )
   {
      // cellulare_error_obj.innerHTML = '<span></span>' + 'CELL_TIMEOUT';
   }

   /*
   if ( timeout_cell )
   {
     clearTimeout ( timeout_cell);
     timeout_cell = false;
   }
   */
}

var ajaxcall_cell = 0;
/*
var timeout_cell_time = 15000; /* 15 sec di timeout * /
var timeout_cell = false;
*/

function action_check_cellulare ( mycellulare )
{
   if ( ajaxcall_cell == 1 )
   {
      return false;
   }

   $(mycellulare).removeClass('input_cell_error');
   $(mycellulare).addClass('input_cell');
   $('#cellulare_error').hide();

   var cellnum = $(mycellulare).val().trim();

   if ( empty ( cellnum ) )
   {
      return false;
   }

   if ( cellnum == "" )
   {
      return false;
   }

   var ajax = assegnaXMLHttpRequest();

   param = 'cell=' + encodeURIComponent ( cellnum );

   if ( ! empty ( '' ) )
      param += '&liberoid=' + encodeURIComponent ( '' );

   ajaxcall_cell = 1;

   new_ajax_call (ajax, 'post', 'check_cellulare.php', param, check_cellulare);

   /*
   if ( timeout_cell )  clearTimeout ( timeout_cell );

   timeout_cell = setTimeout ( "timeout_cell_action ()", timeout_cell_time );
   */
   
   return false;
}

/*
function timeout_cell_action ( )
{
  ajaxcall_cell = 2;
  // cellulare_obj.readOnly = false;
  cellulare_error_obj.innerHTML = '';
}
*/

</script>


</div>


<div class="clear"></div>
<div class="filosep"></div>
<div class="punto_el"><div class="img_03"></div></div>

<div class="form">  <!-- START CONTRATTI -->
  <div class="tit_01">Condizioni di contratto e privacy </div>
  <div class="txt">Leggi ed accetta le condizioni generali e le norme sulla privacy</div>

  <div class="row">

    <div class="ext_checkbox_privacy">
      <div class="checkbox">
        <input id=contract name="CONTRACT" type="checkbox" value="S"                onclick="$('#contract_error').hide()" onchange="$('#contract_error').hide(); if ( ! this.checked ) { $('#contract_error_txt').html('Accettazione obbligatoria'); $('#contract_error').show()}" tabindex="43">
      </div>
      <div class="txt_privacy">
        <label for="contract">Accetto le </label>
         <a href="https://registrazione.libero.it/CGC/libero/CGC.html" target="_blank" title="Condizioni generali">condizioni generali</a> e le <a href="https://registrazione.libero.it/NormePrivacy/libero/NormePrivacy.html" title="Norme sulla Privacy" target="_blank">norme sulla Privacy</a>
      </div>
    </div>


    <!-- INIZIO BALOOON ERROR -->
    <div id=contract_error class="baloon_error_privacy display_no">
      <div class="freccia_baloon_error_privacy"></div>
      <div id=contract_error_txt class="txt_baloon_error_privacy">
      </div>
    </div>
<!-- FINE BALOOON ERROR -->

  </div>  <!-- END row -->


  <div class="row">

  <div class="txt" style="margin-top:29px; margin-bottom:0px">Se desideri aiutarci a selezionare messaggi pubblicitari in linea con i tuoi interessi, seleziona la casella "Acconsento"</div>

  <div class="txt">

   <input id="extprivacy_S" name="EXTPRIVACY" type="radio" value=S class="css-checkbox" tabindex="44" style=" border:1px="" solid="" black ""=""
         onclick="$('#extprivacy_error').hide()">
   <label for="extprivacy_S" class="css-label radGroup2" style="margin-left:-3px">Acconsento</label>

   <input id="extprivacy_N" name="EXTPRIVACY" type="radio" value=N class=css-checkbox tabindex="45" 
         onclick="$('#extprivacy_error').hide()">
   <label for=extprivacy_N class="css-label radGroup2">Non acconsento</label>

  </div>


    <!-- INIZIO BALOOON ERROR -->
    <div id=extprivacy_error class="baloon_error_consenso display_no">
      <div class="freccia_baloon_error_privacy"></div>
      <div id=extprivacy_error_txt class="txt_baloon_error_privacy">
      </div>
    </div>
<!-- FINE BALOOON ERROR -->

  </div>  <!-- END row -->

</div>  <!-- END CONTRATTI -->


<div class="clear"></div>

<div id=captcha_box style="display:block">

  <div class="filosep"></div>
  <div class="punto_el"><div class="img_04"></div></div>

  <div class="form">
  <div class="row">

   <div class="tit_01">Verifica di sicurezza</div>
   <div class="txt">Per la tua tutela, ti chiediamo di dimostrarci che questa registrazione non &egrave; effettuata da un sistema automatico. Grazie!</div>

   <div id="captcha" class=recaptcha>

   <input id=captcha_checked_flag type=hidden>

<script type="text/javascript">

  var widgetId;

  var verifyCallback = function(response)
  {
      // alert(response);
      if ( $('#checkstr_error').length )
         $(checkstr_error).hide();

      if ( $('#captcha_checked_flag').length )
         $('#captcha_checked_flag').val('true');
  };

  var onloadCallback = function()
  {
      // Renders the HTML element with id 'example1' as a reCAPTCHA widget.
      // The id of the reCAPTCHA widget is assigned to 'widgetId1'.
      widgetId=grecaptcha.render(document.getElementById('recaptcha_regmail'),
      {
         'sitekey' : '6LeGN_8SAAAAAMVXRVletwdjUedq_qtJfk8VFvaO',
         'callback' : verifyCallback,
         'type' : 'image',
         'theme' : 'light'
      });
                        
      /*
        var property;
        for (property in grecaptcha)
        {
          alert(property);
        }
      */ 
      // console.log ( widgetId );
      // var imageattributes=widgetId.attributes;

 };

</script>

<div id="recaptcha_regmail"> </div>

 <!--
  <div class="" id="checkstr_error" style="display:; position:absolute;  margin-top:; margin-left:">
    <span></span>
      </div>
 -->

<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit&hl=it" async defer></script>


   <!-- INIZIO BALOOON ERROR -->
   <div id=checkstr_error class="baloon_error_recaptcha display_no">
   <div class="freccia_baloon_error_recaptcha"></div>
   <div id=checkstr_error_txt class="txt_baloon_error_recaptcha">
  </div>
  </div>
  <!-- FINE BALOOON ERROR -->

  </div>
  </div>

</div>
</div>


<div class="clear"></div>

<input id=button_submit class="button_arancio" type="submit" value="registrati" alt="registrati" onclick="return check_fields()">

<div class="clear"></div>

<input type="password" size="0" maxlength="0" name="IE11_workaround_password_confirm" value="" disabled="disabled" tabindex="-1" style="visibility:hidden;" />

<!-- </div> -->

</form>

</div>

<div class="clear"></div>

<!-- START HEADER -->

<script type="text/javascript">
   var shConfig = { shNamePortal:'libero', loadMode:'js', withoutLoggedInfo:true };
</script>

   <script src="https://ssl-i.plug.it/common/tech_includes/superheader-footer/v4/superheaderLiberoVirgilio.js" ></script>

<!-- END HEADER -->

<!-- Start of Footer -->

<div id="footer-corporate">
	<span class="logo">
	<a href="http://www.italiaonline.it/" target="_blank">
		<!--[(gte IE 9)|!(IE)]><!-->
		<svg xmlns="http://www.w3.org/2000/svg" width="130" height="24" viewBox="0 0 130 24">
			<polygon points="32.9 8.8 30.9 8.8 30.9 19.8 33.1 19.8 33.1 8.8 " class="svg-a"/>
			<polygon points="38.5 8.8 38.5 4.6 35.8 4.6 35.8 8.8 34 8.8 34 11.3 35.8 11.3 35.8 19.8 36.3 19.8 38.5 19.8 38.5 11.3 40.5 11.3 40.5 8.8 " class="svg-a"/>
			<path d="M51.9 19.7H50.3V17.8c-0.8 1.4-2.6 2.1-4.2 2.1 -3.2 0-5.7-2.2-5.7-5.6s2.5-5.6 5.7-5.6c1.6 0 3.4 0.6 4.2 2V8.9h1.6V19.7zM46.1 18.4c2.3 0 4.2-1.5 4.2-4.1s-2.2-4-4.2-4c-2.3 0-4.1 1.6-4.1 4C42.1 16.6 43.8 18.4 46.1 18.4" class="svg-a"/>
			<rect x="54.1" y="4.2" width="1.6" height="15.5" class="svg-a"/>
			<rect x="58.2" y="8.6" width="1.6" height="11" class="svg-a"/>
			<path d="M73.1 19.7h-1.6V17.8c-0.8 1.4-2.6 2.1-4.2 2.1 -3.2 0-5.7-2.2-5.7-5.6s2.5-5.6 5.7-5.6c1.6 0 3.4 0.6 4.2 2V8.9h1.6V19.7zM67.3 18.4c2.3 0 4.2-1.5 4.2-4.1s-2.2-4-4.2-4c-2.3 0-4.1 1.6-4.1 4C63.2 16.6 65 18.4 67.3 18.4" class="svg-a"/>
			<path d="M58.9 2.4c-1.2 0-2.1 0.9-2.1 2.1 0 1.2 0.9 2.1 2.1 2.1 1.2 0 2.1-1 2.1-2.1h0C61.1 3.4 60.1 2.4 58.9 2.4" class="svg-a"/>
			<path d="M86.8 11.6c-0.5-1.1-1.3-1.9-2.2-2.5 -1-0.6-2.1-0.9-3.3-0.9 -1.6 0-3.1 0.6-4.2 1.6 -0.6 0.5-1 1.1-1.3 1.9 -0.3 0.7-0.5 1.5-0.5 2.4 0 1.8 0.7 3.3 1.8 4.3 1.1 1 2.6 1.6 4.2 1.6 1.6 0 3.1-0.6 4.2-1.6 1.1-1 1.8-2.5 1.8-4.3C87.3 13.2 87.1 12.4 86.8 11.6M81.2 17.4c-1 0-1.8-0.3-2.4-0.9 -0.6-0.6-1-1.4-1-2.4 0-0.5 0.1-1 0.3-1.4 0.3-0.6 0.7-1.1 1.2-1.4 0.5-0.3 1.2-0.5 1.9-0.5 1 0 1.8 0.3 2.5 0.9 0.3 0.3 0.6 0.6 0.7 1 0.2 0.4 0.3 0.9 0.3 1.4 0 1-0.4 1.9-1 2.4C83 17.1 82.2 17.4 81.2 17.4" class="svg-a"/>
			<path d="M98 11.2c-0.3-0.9-0.8-1.7-1.6-2.2 -0.7-0.5-1.7-0.8-2.7-0.8C93 8.2 92.3 8.4 91.6 8.7c-0.3 0.1-0.5 0.3-0.7 0.5V8.4h-2.5v11.4h2.5v-0.6V13.6c0-0.6 0.1-1 0.2-1.4 0.2-0.5 0.6-0.9 1.1-1.1 0.5-0.2 1-0.4 1.6-0.4 0.3 0 0.6 0.1 0.9 0.2 0.4 0.2 0.7 0.4 0.9 0.8 0.2 0.4 0.4 0.9 0.4 1.5v6.6h2.5v-6.6 -0.1C98.3 12.4 98.2 11.8 98 11.2" class="svg-a"/>
			<polygon points="99.8 4.6 99.8 19.8 102.3 19.8 102.3 19.2 102.3 4.6 " class="svg-a"/>
			<polygon points="105.7 8.8 103.9 8.8 103.9 19.8 106.3 19.8 106.3 8.8 " class="svg-a"/>
			<path d="M128.4 9.8c-1-1-2.5-1.6-4.1-1.6 -1.6 0-3.1 0.6-4.2 1.6 -1.1 1-1.7 2.5-1.7 4.3 0 1.7 0.6 3.2 1.7 4.3 1.1 1 2.5 1.6 4.2 1.6 1.1 0 2.2-0.3 3.2-0.8 0.9-0.5 1.7-1.4 2.1-2.4l0.3-0.6 -0.7-0.2c-0.5-0.1-1.1-0.2-1.5-0.3l-0.4-0.1 -0.2 0.4c-0.3 0.5-0.7 0.8-1.1 1.1 -0.5 0.3-1 0.4-1.7 0.4 -0.9 0-1.6-0.2-2.2-0.7 -0.4-0.4-0.7-0.9-0.9-1.4h8.7l0.1-0.5c0-0.2 0-0.5 0-0.8C130 12.3 129.4 10.8 128.4 9.8M122.1 11.5c0.6-0.5 1.3-0.7 2.2-0.7 0.9 0 1.5 0.3 2.1 0.7 0.4 0.3 0.7 0.7 0.9 1.4h-6C121.4 12.2 121.7 11.8 122.1 11.5" class="svg-a"/>
			<path d="M105.1 2.4c-1.2 0-2.1 0.9-2.1 2.1 0 1.2 0.9 2.1 2.1 2.1 1.2 0 2.1-0.9 2.1-2.1C107.2 3.4 106.3 2.4 105.1 2.4" class="svg-a"/>
			<path d="M117.5 11.2c-0.3-0.9-0.8-1.7-1.6-2.2 -0.7-0.5-1.7-0.8-2.7-0.8 -0.7 0-1.4 0.2-2.1 0.5 -0.3 0.1-0.5 0.3-0.7 0.5V8.4h-2.5v11.4h2.5v-0.6V13.6c0-0.6 0.1-1 0.2-1.4 0.2-0.5 0.6-0.9 1.1-1.1 0.5-0.2 1-0.4 1.6-0.4 0.3 0 0.6 0.1 0.9 0.2 0.4 0.2 0.7 0.4 0.9 0.8 0.2 0.4 0.4 0.9 0.4 1.5v6.6h2.5v-6.6 -0.1C117.8 12.4 117.7 11.8 117.5 11.2" class="svg-a"/>
			<path d="M19.7 12h0C19.7 12.7 19.7 12 19.7 12" class="svg-b"/>
			<path d="M0 12c0 6.6 5.3 11.9 11.9 11.9 6.6 0 11.9-5.3 11.9-11.9H0z" class="svg-c"/>
			<path d="M11.9 0.1C5.3 0.1 0 5.6 0 12h4.1 0c0-4.3 3.5-7.8 7.8-7.8 4.3 0 7.8 3.5 7.8 7.8h0 4.1C23.8 5.6 18.5 0.1 11.9 0.1" class="svg-d"/>
			<path d="M16.7 12c0-2.7-2.2-4.8-4.8-4.8 -2.7 0-4.8 2.2-4.8 4.8H16.7z" class="svg-e"/>
			<path d="M7.1 12c0 2.7 2.2 4.8 4.8 4.8 2.7 0 4.8-2.2 4.8-4.8L7.1 12z" class="svg-f"/>
			<path d="M11.9 4.2c-4.3 0-7.8 3.5-7.8 7.8h1.8 12.1 1.8C19.7 7.7 16.2 4.2 11.9 4.2M7.1 12c0-2.7 2.2-4.8 4.8-4.8 2.7 0 4.8 2.1 4.8 4.8H7.1z" class="svg-g"/>
			<path d="M11.9 7.2c-2.7 0-4.8 2.1-4.8 4.8h9.6C16.7 9.3 14.5 7.2 11.9 7.2" class="svg-b"/>
			<path d="M11.9 7.2c-2.7 0-4.8 2.1-4.8 4.8h9.6C16.7 9.3 14.5 7.2 11.9 7.2" class="svg-h"/>
			<path d="M4.1 12H4.1C4.1 12 4.1 12.7 4.1 12" class="svg-b"/>
			<path d="M32 2.4c-1.2 0-2.1 0.9-2.1 2.1 0 1.2 0.9 2.1 2.1 2.1 1.2 0 2.1-1 2.1-2.1h0C34.1 3.4 33.2 2.4 32 2.4" class="svg-a"/>
		</svg>
		<!--<![endif]-->
		<!--[if lte IE 8]>
			<img src="https://ssl-i.plug.it/superheader-footer/V3/img/logo_corporate.png" alt="">
		<![endif]-->
	</a>
</span>	<h6>
		il nostro network
	</h6>
	<ul>
		<li><a href="http://www.libero.it/" target="_blank">LIBERO</a></li>
<li><a href="http://www.paginebianche.it/" target="_blank">PAGINE BIANCHE</a></li>
<li><a href="http://www.paginegialle.it/" target="_blank">PAGINE GIALLE</a></li>
<li><a href="http://www.supereva.it/" target="_blank">SUPEREVA</a></li>
<li><a href="http://www.tuttocitta.it/" target="_blank">TUTTOCITT&Agrave;</a></li>
<li><a href="http://www.virgilio.it/" target="_blank">VIRGILIO</a></li>	</ul>
	<ul>
		<li><a href="http://www.italiaonline.it/" target="_blank">Italiaonline.it</a></li>
<li><a href="http://fusione.italiaonline.it" target="_blank">Fusione</a></li>
<li><a href="http://privacy.italiaonline.it/note_legali.html" target="_blank">Note legali</a></li>
<li><a href="http://privacy.italiaonline.it/privacy_libero.html?ref=libero" target="_blank">Privacy</a></li>
<li><a href="http://privacy.italiaonline.it/common/cookie/privacy_detail.php?ref=libero" target="_blank">Cookie Policy</a></li>
<li><a href="http://aiuto.libero.it/?ref=libero" target="_blank">Aiuto</a></li>
<li><a href="http://info.libero.it/segnala_abuso/?ref=libero" target="_blank">Segnala Abuso</a></li>	</ul>
	<p>&copy; ITALIAONLINE 2017 - P. IVA 03970540963</p></div>


<!-- footer_end -->

<!--  Nielsen  -->


<!-- START Nielsen Online SiteCensus V6.0 -->
<!-- COPYRIGHT 2012 Nielsen Online -->
<script type="text/javascript" src="//secure-it.imrworldwide.com/v60.js">
</script>
<script type="text/javascript">
 var pvar = { cid: "libero-it", content: "0", server: "secure-it" };
 var feat = { check_cookie: 0 };
 var trac = nol_t(pvar, feat);
 trac.record().post();
</script>
<noscript>
 <div>
 <img src="//secure-it.imrworldwide.com/cgi-bin/m?ci=libero-it&amp;cg=0&amp;cc=0&amp;ts=noscript"
 width="1" height="1" alt="" />
 </div>
</noscript>
<!-- END Nielsen Online SiteCensus V6.0 -->
<!-- IOL Analytics -->


<script src="//i.plug.it/iplug/js/lib/iol/analytics/data/registrazione-libero-it/tracking_registrazione-libero-it.min.js"></script>
<script src="//i.plug.it/iplug/js/lib/iol/analytics/engine/IOL.Analytics.Tracking.min.js"></script>
<script type="text/javascript">
var iat = new IOL.Analytics.Tracking.Engine();
iat.send();
</script>
<noscript><img src="//italiaonline01.wt-eu02.net/215973748390194/wt.pl?p=315,libero.web.registrazione.noscript&amp;cg1=libero&amp;cg2=web&amp;cg3=registrazione&amp;cg4=noscript&amp;cg7=libero.web.registrazione.noscript" height="1" width="1" alt=""></noscript>


<!-- /IOL Analytics -->

<!-- FINE CONTENT -->

</body>

<script>


function check_input ( field, field_error, controllo_fun, obb  )
{
   var error_msg = [];
   error_msg[0] = '';

   $(field).removeClass ('input_error');
   $(field).addClass ('input');

   if ( empty ( field.value ) && ! obb )
   {
      /*
      $(field).addClass ('input');
      $(field).removeClass ('input_error');
      */
      field_error.hide();
      return true;
   }

   if ( controllo_fun ( field.value.trim(), error_msg ) )
   {
      /*
      $(field).addClass ('input');
      $(field).removeClass ('input_error');
      */
      field_error.hide();
      return true;
   }
   
   $(field).addClass ('input_error');
   $(field).removeClass ('input');
   field_error.show();
   err_baloon = field_error.find('.txt_baloon_error');
   err_baloon.html(error_msg[0]);

   return false;
}


function hide_all_infobox()
{
  $('#username_infotxt').hide();
  $('#password_infotxt').hide();
  $('#scadenza_infotxt').hide();
  $('#emailsecondaria_infotxt').hide();
  $('#cellulare_infotxt').hide();
}

var firstfield_witherror = false;

function givefocus()
{
  // alert ('first: ' + "" );
    window.scrollTo(0, 0)
}


function check_fields ()
{
   firstfield_witherror = '';
   var scroll_y = '';

   if ( ! $(firstname).val().trim() )
   {
      firstfield_witherror = 'firstname';    
      $(firstname).addClass ('input_error');
      $(firstname).removeClass ('input');
      $(firstname_error_txt).html('Campo obbligatorio');
      $(firstname_error).show();
   }

   if ( ! $(lastname).val().trim() )
   {
      if ( ! firstfield_witherror )
         firstfield_witherror = 'lastname';    
      $(lastname).addClass ('input_error');
      $(lastname).removeClass ('input');
      $(lastname_error_txt).html('Campo obbligatorio');
      $(lastname_error).show();
   }

   if ( ! $(username).val() )
   {
      if ( ! firstfield_witherror )
         firstfield_witherror = 'username';    
      $(username).addClass ('input_error');
      $(username).removeClass ('input');
      $(username_error_txt).html('Campo obbligatorio');
      $(username_error).show();
   }

   if ( ! $(password).val().trim() )
   {
      if ( ! firstfield_witherror )
         firstfield_witherror = 'password';    
      $(password).addClass ('input_error');
      $(password).removeClass ('input');
      $(password_error_txt).html('Campo obbligatorio');
      $(password_error).show();
   }
   else if ( ! $(confirmpassword).val().trim() )
   {
      if ( ! firstfield_witherror )
         firstfield_witherror = 'confirmpassword';    
      $(confirmpassword).addClass ('input_error');
      $(confirmpassword).removeClass ('input');
      $(confirmpassword_error_txt).html('Campo obbligatorio');
      $(confirmpassword_error).show();
   }
   else if ( $(password).val().trim() != $(confirmpassword).val().trim() )
   {
      if ( ! firstfield_witherror )
         firstfield_witherror = 'confirmpassword';

      $(confirmpassword).addClass ('input_error');
      $(confirmpassword).removeClass ('input');
      $(confirmpassword_error_txt).html('Le due password non coincidono');
      $(confirmpassword_error).show();
   }

   if ( ! $(daybirth).val().trim() || ! $(monthbirth).val().trim() || ! $(yearbirth).val().trim() )
   {
      if ( ! firstfield_witherror )
      {
         scroll_y = 700;
         firstfield_witherror = 'yearbirth';    
      }
      // $('#year_container select:first').focus();
      // firstfield_witherror = $('#year_container');    
      // firstfield_witherror = $('#daybirth');    
      $(dateofbirth_error_txt).html('Campi obbligatori');
      $('#dateofbirth_error').show();
   }
   else
   {
      if ( min_age )
      {
         var age = calculate_age ( $(daybirth).val().trim(), $(monthbirth).val().trim(), $(yearbirth).val().trim() );
         if ( age < min_age )
         {
           if ( ! firstfield_witherror )
           {
              scroll_y = 690;
              firstfield_witherror = 'yearbirth';    
           }
           // err_baloon.html('Per registrarti devi essere maggiorenne.');
           $(dateofbirth_error_txt).html('Per registrarti devi essere maggiorenne.');
           $('#dateofbirth_error').show();
         }
      }
   }
   if ( ! $(province).val() )
   {
      if ( ! firstfield_witherror )
      {
         firstfield_witherror = 'province';
         scroll_y = 750;
      }
      $(province_error_txt).html('Campo obbligatorio');
      $(province_error).show();
   }
   else if ( ! $(comuni_list).val() )
   {
      if ( ! firstfield_witherror )
      {
         firstfield_witherror = 'comuni_list';
         scroll_y = 825;
      }
      $(comune_error_txt).html('Campo obbligatorio');
      $(comune_error).show();
   }
   
   if ( !( $('#female').is(':checked') || $('#male').is(':checked') ) || !( $('#privato').is(':checked') || $('#azienda').is(':checked') ) )
   {
      if ( ! firstfield_witherror )
         firstfield_witherror = 'female';

      $(gender_error_txt).html('Campi obbligatori');
      $(gender_error).show();
   }
   
   if ( ! $(emailsecondaria).val().trim() && 'libero' == 'virgilio' )
   {
      if ( ! firstfield_witherror )
         firstfield_witherror = 'emailsecondaria';    
      $(emailsecondaria_error_txt).html('Campo obbligatorio');
      $(emailsecondaria_error).show();
   }
   else if ( ! $(emailsecondaria).val().trim() && ! $(cellulare).val().trim() )
   {
      // alert ( 'emailsecondaria_val: ' + $(emailsecondaria).val().trim() );
      if ( ! firstfield_witherror )
         firstfield_witherror = 'emailsecondaria';    
      $('#emailsec_cell_error_txt').html('Uno dei due campi &egrave; obbligatorio');
      $('#emailsec_cell_error').show();
      // alert ('cellulare: ' +  $(cellulare).val() );
   }


   if ( ! $('#contract').is(':checked') )
   {
      if ( ! firstfield_witherror )
      {
         firstfield_witherror = 'contract';    
         scroll_y = 1600;
      }

      $('#contract_error_txt').html('Accettazione obbligatoria');
      $('#contract_error').show();
   }

     if ( !( $('#extprivacy_S').is(':checked') || $('#extprivacy_N').is(':checked') ) )
     {
       if ( ! firstfield_witherror )
       {
          firstfield_witherror = 'extprivacy_error';
          scroll_y = 2000;
       }
       $(extprivacy_error_txt).html('Scelta obbligatoria');
       $(extprivacy_error).show();
     }
  
   // var recapctha_check_input = $("input:checkbox.recaptcha-checkbox-checkmark");

   if ( $('#captcha_box').is(':visible') && $('#captcha_checked_flag').length )
   {
      // alert('val: ' + $('#captcha_checked_flag').val() );
      if ( ! $('#captcha_checked_flag').val() )
      {
        if ( ! firstfield_witherror )
        {
           firstfield_witherror = 'g-recaptcha-response';    
           scroll_y = 2000;
        }

        $('#checkstr_error_txt').html('Campo obbligatorio');
        $('#checkstr_error').show();
      }
   }

   // alert('firstfield_witherror' + firstfield_witherror);

   // recaptcha-checkbox-checkmark
   // alert ('firstfield_witherror: ' + firstfield_witherror );
   // alert ( 'scroll_y : ' + scroll_y );

   if ( firstfield_witherror )
   {
      $('#' + firstfield_witherror).focus();

      // alert ('scroll: ' + scroll_y );
      if ( scroll_y ) 
      {
         window.scrollTo(0, scroll_y);
      }

      firstfield_witherror = '';

      return false;
   }

   /*
   $('#button_submit').css('cursor', 'wait');
   $('body').css('cursor', 'wait');
   */

   return true;
}
</script>

</html>


